<!DOCTYPE html>
<html>
<head>
    <title>–¢–µ—Å—Ç –ü–≠–ö API</title>
    <meta charset="utf-8">
</head>
<body>
    <h1>üöÄ –¢–µ—Å—Ç –ü–≠–ö API</h1>
    
    <div id="results"></div>
    
    <button onclick="testApi()">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API</button>
    
    <script>
    async function testApi() {
        const results = document.getElementById('results');
        results.innerHTML = '<p>üîÑ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...</p>';
        
        try {
            // –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∫—Å–∏
            results.innerHTML += '<h3>–¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∫—Å–∏</h3>';
            const response1 = await fetch('/api/pek', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ method: 'test' })
            });
            
            const data1 = await response1.json();
            results.innerHTML += `<pre>${JSON.stringify(data1, null, 2)}</pre>`;
            
            // –¢–µ—Å—Ç 2: –ü–æ–∏—Å–∫ –∑–æ–Ω—ã –ø–æ –∞–¥—Ä–µ—Å—É
            results.innerHTML += '<h3>–¢–µ—Å—Ç 2: –ü–æ–∏—Å–∫ –∑–æ–Ω—ã –ø–æ –∞–¥—Ä–µ—Å—É</h3>';
            const response2 = await fetch('/api/pek', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ 
                    method: 'findzonebyaddress', 
                    address: '–≥ –ú–æ—Å–∫–≤–∞, –®–º–∏—Ç–æ–≤—Å–∫–∏–π –ø—Ä–æ–µ–∑–¥, –¥ 1' 
                })
            });
            
            const data2 = await response2.json();
            results.innerHTML += `<pre>${JSON.stringify(data2, null, 2)}</pre>`;
            
        } catch (error) {
            results.innerHTML += `<p>‚ùå –û—à–∏–±–∫–∞: ${error.message}</p>`;
        }
    }
    </script>
</body>
</html>
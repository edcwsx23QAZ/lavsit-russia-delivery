{
  "id": "prt_98d11bb900015kvImqnPXcpvWJ",
  "messageID": "msg_98d1168bb001Hf2iuxSkJ7woWr",
  "sessionID": "ses_6852784ecffeuHwynj83p2lr14",
  "type": "text",
  "text": "### **üöÇ Rail Continent - –ü–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**\n\n#### **–ü—Ä–æ–±–ª–µ–º–∞:**\n- ‚ùå –ù–ï –ø–µ—Ä–µ–¥–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Å—Ç (`quantity` –ø–∞—Ä–∞–º–µ—Ç—Ä –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)\n- ‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –≥–∞–±–∞—Ä–∏—Ç—ã –≤–º–µ—Å—Ç–æ –ª–æ–≥–∏–∫–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–µ—Å—Ç\n- ‚ö†Ô∏è –ú–æ–∂–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≥—Ä—É–∑–æ–≤—ã—Ö –º–µ—Å—Ç\n\n#### **–†–µ—à–µ–Ω–∏–µ:**\n\n```javascript\n// –¢–ï–ö–£–©–ò–ô –ö–û–î (–ø—Ä–æ–±–ª–µ–º–Ω—ã–π):\nconst requestData = {\n  city_sender: form.fromCity || '–ú–æ—Å–∫–≤–∞',\n  city_receiver: form.toCity || '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',\n  weight: totalWeight,\n  volume: totalVolume,\n  length: maxLength / 100,    // ‚ùå –¢–æ–ª—å–∫–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞\n  width: maxWidth / 100,      // ‚ùå –¢–æ–ª—å–∫–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞  \n  height: maxHeight / 100,    // ‚ùå –¢–æ–ª—å–∫–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞\n  // quantity: –û–¢–°–£–¢–°–¢–í–£–ï–¢!   // ‚ùå –ù–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –º–µ—Å—Ç\n  declared_cost: form.declaredValue,\n  // ...\n};\n\n// –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô –ö–û–î:\nconst requestData = {\n  city_sender: form.fromCity || '–ú–æ—Å–∫–≤–∞',\n  city_receiver: form.toCity || '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',\n  weight: totalWeight,\n  volume: totalVolume,\n  \n  // üîß –î–û–ë–ê–í–ò–¢–¨: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥—Ä—É–∑–æ–≤—ã—Ö –º–µ—Å—Ç\n  quantity: form.cargos.length,\n  \n  // üîß –£–õ–£–ß–®–ò–¢–¨: –õ–æ–≥–∏–∫–∞ –≥–∞–±–∞—Ä–∏—Ç–æ–≤ –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–µ—Å—Ç\n  length: calculateOptimalLength(form.cargos),\n  width: calculateOptimalWidth(form.cargos), \n  height: calculateOptimalHeight(form.cargos),\n  \n  declared_cost: form.declaredValue,\n  pickup: form.fromAddressDelivery ? '1' : '0',\n  delivery: form.toAddressDelivery ? '1' : '0',\n  packaging: form.needPackaging ? '1' : '0',\n  insurance: form.needInsurance ? '1' : '0',\n  tariff: 'auto'\n};\n\n// üîß –ù–û–í–´–ï –§–£–ù–ö–¶–ò–ò –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ –≥–∞–±–∞—Ä–∏—Ç–æ–≤:\nconst calculateOptimalLength = (cargos) => {\n  if (cargos.length === 1) {\n    return cargos[0].length / 100; // –û–¥–Ω–æ –º–µ—Å—Ç–æ - —Ç–æ—á–Ω—ã–µ –≥–∞–±–∞—Ä–∏—Ç—ã\n  }\n  \n  // –î–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–µ—Å—Ç:\n  // –í–∞—Ä–∏–∞–Ω—Ç 1: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ (—Ç–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞)\n  const maxLength = Math.max(...cargos.map(c => c.length)) / 100;\n  \n  // –í–∞—Ä–∏–∞–Ω—Ç 2: –°—É–º–º–∞—Ä–Ω–∞—è –¥–ª–∏–Ω–∞ (–µ—Å–ª–∏ –º–µ—Å—Ç–∞ —Å—Ç–∞–≤—è—Ç—Å—è –≤ —Ä—è–¥)\n  const totalLength = cargos.reduce((sum, c) => sum + c.length, 0) / 100;\n  \n  // –í—ã–±–∏—Ä–∞–µ–º –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é:\n  // –ï—Å–ª–∏ –º–µ—Å—Ç –º–Ω–æ–≥–æ (>3), –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—É–º–º–∞—Ä–Ω—É—é –¥–ª–∏–Ω—É\n  // –ò–Ω–∞—á–µ - –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é\n  return cargos.length > 3 ? totalLength : maxLength;\n};\n\nconst calculateOptimalWidth = (cargos) => {\n  // –î–ª—è —à–∏—Ä–∏–Ω—ã –ª–æ–≥–∏—á–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é\n  return Math.max(...cargos.map(c => c.width)) / 100;\n};\n\nconst calculateOptimalHeight = (cargos) => {\n  if (cargos.length === 1) {\n    return cargos[0].height / 100;\n  }\n  \n  // –î–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–µ—Å—Ç –º–æ–∂–µ–º —Å—É–º–º–∏—Ä–æ–≤–∞—Ç—å –≤—ã—Å–æ—Ç—É (–µ—Å–ª–∏ –º–µ—Å—Ç–∞ —Å—Ç–∞–∫—É—é—Ç—Å—è)\n  // –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é (–µ—Å–ª–∏ –º–µ—Å—Ç–∞ —Ä—è–¥–æ–º)\n  const maxHeight = Math.max(...cargos.map(c => c.height)) / 100;\n  const totalHeight = cargos.reduce((sum, c) => sum + c.height, 0) / 100;\n  \n  // –ï—Å–ª–∏ –º–Ω–æ–≥–æ –º–µ–ª–∫–∏—Ö –º–µ—Å—Ç - –º–æ–∂–µ–º —Å—Ç–∞–∫–∏—Ä–æ–≤–∞—Ç—å\n  const avgHeight = totalHeight / cargos.length;\n  return avgHeight < 50 ? totalHeight : maxHeight; // 50—Å–º –ø–æ—Ä–æ–≥ –¥–ª—è —Å—Ç–∞–∫–∏—Ä–æ–≤–∞–Ω–∏—è\n};\n```\n\n---\n\n### **üåê Nord Wheel - –ü–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**",
  "time": {
    "start": 1759008391561,
    "end": 1759008391561
  }
}
{
  "id": "prt_9e31546de001sIAmCzc2bLmSgU",
  "messageID": "msg_9e31536c3001ozqcExHJCdGtC1",
  "sessionID": "ses_6852784ecffeuHwynj83p2lr14",
  "type": "tool",
  "tool": "read",
  "callID": "call_56560888",
  "state": {
    "status": "completed",
    "input": {
      "filePath": "components/diagnostic/DiagnosticHeader.tsx"
    },
    "output": "<file>\n00001| 'use client';\n00002| \n00003| import React from 'react';\n00004| import { Button } from '@/components/ui/button';\n00005| import { Building2, Activity, TestTube, ExternalLink, Download, RefreshCw } from 'lucide-react';\n00006| \n00007| interface DiagnosticHeaderProps {\n00008|   onTestAllAPIs: () => void;\n00009|   onRunFullTesting: () => void;\n00010|   onUpdateProductData: () => void;\n00011|   isFullTesting: boolean;\n00012|   isUpdatingData: boolean;\n00013|   updateStatus: 'idle' | 'updating' | 'success' | 'error';\n00014| }\n00015| \n00016| const DiagnosticHeader = React.memo(function DiagnosticHeader({\n00017|   onTestAllAPIs,\n00018|   onRunFullTesting,\n00019|   onUpdateProductData,\n00020|   isFullTesting,\n00021|   isUpdatingData,\n00022|   updateStatus\n00023| }: DiagnosticHeaderProps) {\n00024|   return (\n00025|     <div className=\"mb-6\">\n00026|       <div className=\"mb-6\">\n00027|         <h1 className=\"text-3xl font-bold mb-2 text-white\">Диагностика транспортных компаний</h1>\n00028|         <p className=\"text-gray-400\">Проверка работоспособности API всех подключенных ТК</p>\n00029|       </div>\n00030| \n00031|       <div className=\"flex gap-4 mb-6 flex-wrap\">\n00032|         <Button onClick={onTestAllAPIs} className=\"bg-blue-600 hover:bg-blue-700\">\n00033|           <Activity className=\"h-4 w-4 mr-2\" />\n00034|           Тестировать все API\n00035|         </Button>\n00036|         <Button \n00037|           onClick={onRunFullTesting} \n00038|           disabled={isFullTesting}\n00039|           className=\"bg-purple-600 hover:bg-purple-700\"\n00040|         >\n00041|           <TestTube className=\"h-4 w-4 mr-2\" />\n00042|           {isFullTesting ? 'Полное тестирование...' : 'Полное тестирование'}\n00043|         </Button>\n00044|         <Button \n00045|           onClick={() => window.open('/env-check', '_blank')} \n00046|           variant=\"outline\" \n00047|           className=\"text-white bg-gray-700 border-gray-500 hover:bg-gray-600\"\n00048|         >\n00049|           <Building2 className=\"h-4 w-4 mr-2\" />\n00050|           Проверить переменные окружения\n00051|         </Button>\n00052|         <Button \n00053|           onClick={() => {\n00054|             window.open('https://docs.google.com/spreadsheets/d/1e0P91PfGKVIuSWDY0ceWkIE7jD-vzD_xrIesBeQno1Y/edit?gid=0#gid=0', '_blank');\n00055|           }} \n00056|           variant=\"outline\" \n00057|           className=\"bg-green-600 hover:bg-green-700 text-white border-green-600\"\n00058|           title=\"Открыть Google Sheets с базой товаров и размеров\"\n00059|         >\n00060|           <ExternalLink className=\"h-4 w-4 mr-2\" />\n00061|           База товаров\n00062|         </Button>\n00063|         <Button \n00064|           onClick={onUpdateProductData}\n00065|           disabled={isUpdatingData}\n00066|           variant=\"outline\"\n00067|           className={\n00068|             updateStatus === 'success' \n00069|               ? \"bg-green-600 hover:bg-green-700 text-white border-green-600\" \n00070|               : updateStatus === 'error'\n00071|               ? \"bg-red-600 hover:bg-red-700 text-white border-red-600\"\n00072|               : \"bg-blue-600 hover:bg-blue-700 text-white border-blue-600\"\n00073|           }\n00074|           title=\"Обновить данные о товарах из Google Sheets\"\n00075|         >\n00076|           {updateStatus === 'updating' ? (\n00077|             <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n00078|           ) : (\n00079|             <Download className=\"h-4 w-4 mr-2\" />\n00080|           )}\n00081|           {updateStatus === 'updating' && 'Обновление...'}\n00082|           {updateStatus === 'success' && 'Обновлено!'}\n00083|           {updateStatus === 'error' && 'Ошибка'}\n00084|           {updateStatus === 'idle' && 'Обновить данные'}\n00085|         </Button>\n00086|         <Button onClick={() => window.close()} variant=\"outline\" className=\"text-white bg-gray-700 border-gray-500 hover:bg-gray-600\">\n00087|           Закрыть\n00088|         </Button>\n00089|       </div>\n00090|     </div>\n00091|   );\n00092| });\n00093| \n00094| export default DiagnosticHeader;\n</file>",
    "metadata": {
      "preview": "'use client';\n\nimport React from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Building2, Activity, TestTube, ExternalLink, Download, RefreshCw } from 'lucide-react';\n\ninterface DiagnosticHeaderProps {\n  onTestAllAPIs: () => void;\n  onRunFullTesting: () => void;\n  onUpdateProductData: () => void;\n  isFullTesting: boolean;\n  isUpdatingData: boolean;\n  updateStatus: 'idle' | 'updating' | 'success' | 'error';\n}\n\nconst DiagnosticHeader = React.memo(function DiagnosticHeader({\n  onTestAllAPIs,\n  onRunFullTesting,\n  onUpdateProductData,\n  isFullTesting,"
    },
    "title": "components/diagnostic/DiagnosticHeader.tsx",
    "time": {
      "start": 1760451446496,
      "end": 1760451446498
    }
  }
}
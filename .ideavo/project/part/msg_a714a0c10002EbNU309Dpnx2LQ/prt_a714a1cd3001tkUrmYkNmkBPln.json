{
  "id": "prt_a714a1cd3001tkUrmYkNmkBPln",
  "sessionID": "ses_6852784ecffeuHwynj83p2lr14",
  "messageID": "msg_a714a0c10002EbNU309Dpnx2LQ",
  "type": "tool",
  "callID": "toolu_01CyqgEnzDFVP88T18awkay9",
  "tool": "edit",
  "state": {
    "status": "completed",
    "input": {
      "filePath": "app/page.tsx",
      "newString": "      checkAPIStatus('railcontinent', async () => {\n        try {\n          const response = await fetch('/api/rail-continent', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n              city_sender: testData.fromCity,\n              city_receiver: testData.toCity,\n              weight: 10,\n              volume: 0.1,\n              length: 1,\n              width: 1,\n              height: 1,\n              declared_cost: testData.declaredValue,\n              pickup: '0',\n              delivery: '0',\n              packaging: '0',\n              insurance: '0',\n              tariff: 'auto'\n            })\n          });\n          const data = await response.json();\n          \n          if (!response.ok) {\n            const errorText = data.details || data.error || 'Unknown error';\n            if (errorText.includes('<!DOCTYPE') || errorText.includes('<html')) {\n              return { error: true, errorType: 'âš ï¸ API' };\n            }\n            return { error: true, errorType: 'âŒ API' };\n          }\n          \n          if (data.success === false) {\n            return { error: true, errorType: 'âŒ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚' };\n          }\n          \n          return { success: true };\n        } catch (error) {\n          return { error: true, errorType: 'ðŸ“¡ ÑÐµÑ‚ÑŒ' };\n        }\n      }),",
      "oldString": "      checkAPIStatus('railcontinent', async () => {\n        try {\n          const response = await fetch('/api/rail-continent', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n              city_sender: testData.fromCity,\n              city_receiver: testData.toCity,\n              weight: 10,\n              volume: 0.1,\n              length: 1,\n              width: 1,\n              height: 1,\n              declared_cost: testData.declaredValue,\n              pickup: '0',\n              delivery: '0',\n              packaging: '0',\n              insurance: '0',\n              tariff: 'auto'\n            })\n          });\n          return await response.json();\n        } catch (error) {\n          return { error: true };\n        }\n      }),"
    },
    "output": "",
    "title": "app/page.tsx",
    "metadata": {
      "diagnostics": {},
      "diff": "Index: /home/user/project/app/page.tsx\n===================================================================\n--- /home/user/project/app/page.tsx\n+++ /home/user/project/app/page.tsx\n@@ -573,11 +573,25 @@\n         insurance: '0',\n         tariff: 'auto'\n       })\n     });\n-    return await response.json();\n+    const data = await response.json();\n+    \n+    if (!response.ok) {\n+      const errorText = data.details || data.error || 'Unknown error';\n+      if (errorText.includes('<!DOCTYPE') || errorText.includes('<html')) {\n+        return { error: true, errorType: 'âš ï¸ API' };\n+      }\n+      return { error: true, errorType: 'âŒ API' };\n+    }\n+    \n+    if (data.success === false) {\n+      return { error: true, errorType: 'âŒ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚' };\n+    }\n+    \n+    return { success: true };\n   } catch (error) {\n-    return { error: true };\n+    return { error: true, errorType: 'ðŸ“¡ ÑÐµÑ‚ÑŒ' };\n   }\n }),\n \n checkAPIStatus('vozovoz', async () => {\n"
    },
    "time": {
      "start": 1762837280875,
      "end": 1762837280898
    }
  }
}
{
  "id": "prt_9bf4b1d08001KsFrm5VA14pgzV",
  "messageID": "msg_9bf4b01df001303vcjzzEucDI4",
  "sessionID": "ses_640b4fe39ffe6JvTMXbcXq780l",
  "type": "tool",
  "tool": "read",
  "callID": "toolu_01C55ypRJTFabqBK68smDv9p",
  "state": {
    "status": "completed",
    "input": {
      "filePath": "/home/user/project/vozovoz-docs/ru/docs/object/order.md"
    },
    "output": "<file>\n00001| # <a name=\"up\"/>Vozovoz API 2.5\n00002| \n00003| [Главная страница](/README.md) > [Объекты](index.md) > Заказ\n00004| \n00005| \n00006| > **Код объекта: `order`**\n00007| \n00008| ## Содержание\n00009| \n00010| * [Описание](#description)\n00011| * [Получение данных по одному или нескольким заказам](#get)\n00012|     * [Общий пример структуры](#get-example)\n00013|     * [Подробное описание структуры](#get-struct)\n00014|     * [Данные ответа](#get-response)\n00015|     * [Примеры](#get-example-full)\n00016| * [Отправка данных. Оформление заказа](#set)\n00017|     * [Общий пример структуры](#set-example)\n00018|     * [Подробное описание структуры](#set-struct)\n00019|     * [Данные ответа](#set-response)\n00020|     * [Примеры](#set-example-full)\n00021| * [Отмена заказа](#cancel)\n00022| \n00023| \n00024| ## <a name=\"description\"/>Описание\n00025| \n00026| Представляет собой объект, использующийся для оформления заказа или для получения данных по уже оформленным заказам.\n00027| \n00028| > В данной документации для упрощения понимания **_структурами_** называются все данные, которые содержат какие-либо данные\n00029| > (как другие структуры, так и простые типы данных: строка, число, логический тип).\n00030| > Под [\"параметрами\"](../params/index.md) мы понимаем необходимый **полный** массив данных, что передаётся нашему серверу\n00031| > для получения определённого ответа. Приведённые структуры указываются внутри [POST-параметра](../params/post.md) `params`.\n00032| \n00033| \n00034| ## <a name=\"get\"/>Получение данных. Действие `get`\n00035| \n00036| ### Данные запроса\n00037| \n00038| > В данном запросе все структуры являются **_необязательными_**. Т.е. могут отсутствовать.\n00039| \n00040| ***\n00041| \n00042| Быстрая навигация\n00043| \n00044| * [Общий пример структуры](#get-example)\n00045| * [Корневая структура](#get-struct)\n00046|     * [\"Фильтр заказа\"](#get-filters)\n00047|         * [\"Фильтр по датам\"](#get-filters-dates)\n00048|             * [\"Фильтр по датам создания\"](#get-filters-dates-created)\n00049|         * [\"Фильтр по локациям\"](#get-location)\n00050|     * [\"Состояние заказа\"](#get-mode)\n00051| \n00052| ***\n00053| \n00054| #### <a name=\"get-example\"/>Общий пример структуры\n00055| \n00056| ```javascript\n00057| // полное оформление кода на javascript для использования в консоли см. в разделе \"Быстрый старт\"\n00058| xhttp.send(JSON.stringify(\n00059| {\n00060|   \"object\": \"order\",\n00061|   \"action\": \"get\",\n00062|   \"params\": {\n00063|     \"filters\": {\n00064|       \"dates\": { // фильтр по датам\n00065|         \"created\": { // дата оформления заказа\n00066|           \"from\": \"2017-05-01\", // начальный дата диапазона выборки\n00067|           \"to\": \"2017-06-15\" // конечная дата диапазона выборки\n00068|         }\n00069|       },\n00070|       \"location\": {\n00071|         \"dispatch\": \"12345678-1234-1234-1234-123456789012\", // фильтр по локации отправления\n00072|         \"destination\": \"12345678-1234-1234-1234-123456789012\" // фильтр по локации получения\n00073|       },\n00074|       \"number\": [ // может быть одной строкой или массивом любых из указанных ниже данных\n00075|         \"12345678-1234-1234-1234-123456789012\", // уникальный внутренний идентификатор заказа\n00076|         \"700099999\", // уникальный внутренний номер заказа\n00077|         \"CW23423/dsf332233 (май 2017)\" // пользовательский номер заказа, если Вы указывали его при оформлении\n00078|       ]\n00079|     },\n00080|     \"limit\": 100, // ограничение количества результатов выборки\n00081|     \"offset\": 0, // смещение по выборке\n00082|     \"mode\": { // подробнее см. субструктуру \"Состояние заказа\"\n00083|       \"isCanceled\": false, // Должен ли заказ быть отменён для попадания в выборку\n00084|       \"isGiven\": false, // Должен ли заказ быть выдан для попадания в выборку\n00085|       \"isPaid\": false, // Должен ли быть оплачен заказ для попадания в выборку\n00086|       \"isTaken\": true\n00087|     },\n00088|     \"tab\": \"onward\" // \"onward\" - В пути, \"unpaid\" - Неоплаченные, подробнее в структуре...\n00089|   }\n00090| }));\n00091| ```\n00092| \n00093| ***\n00094| \n00095| #### <a name=\"get-struct\"/>Корневая структура. Передаётся напрямую в узел `params`\n00096| \n00097| | Структура     | Тип       | Описание |\n00098| | ---------     | ---       | -------- |\n00099| | `filters`     | object    | [Структура \"Фильтр заказа\"](#get-filters) |\n00100| | `limit`       | integer   | Число ограничивает количество заказов, возвращаемых за один запрос |\n00101| | `offset`      | integer   | Число указывает на количество заказов, которые нужно пропустить, прежде чем начать выборку |\n00102| | `mode`        | object    | [Структура \"Состояние заказа\"](#get-mode). Взаимоисключающий узел с узлом `tab` |\n00103| | `tab`         | string    | Строка, указывающая на предопределённый фильтр заказа. Взаимоисключающий узел с узлом `mode`, поскольку содержит преднастроенные параметры для узла `mode` |\n00104| \n00105| >Преопределённые фильтры заказа (узел `tab`), имеющиеся на данный момент:\n00106| >* Значение `onward` - \"В пути\" для узла `tab` определяет следующие значения для узла `mode`:\n00107| >```\n00108| >{\n00109| >  \"isCanceled\": false,\n00110| >  \"isGiven\": false\n00111| >}\n00112| >```\n00113| >* Значение `unpaid` - \"Неоплаченные\" для узла `tab` определеяет следующие значения для узла `mode`:\n00114| >```\n00115| >{\n00116| >  \"isCanceled\": false,\n00117| >  \"isPaid\": false,\n00118| >  \"isTaken\": true\n00119| >}\n00120| >```\n00121| \n00122| ***\n00123| \n00124| #### <a name=\"get-filters\"/>Субструктура \"Фильтр заказа\". Узел `params.filters`\n00125| \n00126| > Входит в [корневую структуру](#get-struct) данных запроса под узлом `filters`.\n00127| \n00128| | Название      | Тип       | Описание |\n00129| | --------      | ---       | -------- |\n00130| | `dates`       | object    | Субструктура [\"Фильтр по датам\"](#get-filters-dates) |\n00131| | `customer`    | object    | Субструктура [\"Фильтр по контрагентам\"](#get-filters-customer) |\n00132| | `location`    | object    | Субструктура [\"Фильтр по локациям\"](#get-filters-location) |\n00133| | `number`      | array\\|string | Строка или массив с номерами заказа (или уникальными id заказа, или пользовательскими номерами, который Вы указывали при создании). _В этой структуре данные можно перемешивать как угодно_ |\n00134| \n00135| ***\n00136| \n00137| #### <a name=\"get-filters-dates\"/>Субструктура \"Фильтр по датам\". Узел `params.filters.dates`\n00138| \n00139| > Входит в субструктуру [\"Фильтр заказа\"](#get-filters) данных запроса под узлом `dates`.\n00140| \n00141| На данный момент доступен только один узел фильтрации дат: `created`. Он отвечает за дату создания заказа.\n00142| \n00143| | Название      | Тип       | Описание |\n00144| | --------      | ---       | -------- |\n00145| | `created`     | object    | Субструктура [\"Фильтр по датам создания\"](#get-filters-dates-created) |\n00146| \n00147| ***\n00148| \n00149| #### <a name=\"get-filters-dates-created\"/>Субструктура \"Фильтр по датам создания\". Узел `params.filters.dates.created`\n00150| \n00151| > Входит в субструктуру [\"Фильтр по датам\"](#get-filters-dates) данных запроса под узлом `created`.\n00152| \n00153| | Название      | Тип       | Описание |\n00154| | --------      | ---       | -------- |\n00155| | `from`        | string    | Строка формата `YYYY-MM-DD`, отвечающая за первую дату диапазона фильтрации по дате создания заказа и до сегодняшнего дня, или дня, указанного в узле `to` |\n00156| | `to`          | string    | Строка формата `YYYY-MM-DD`, отвечающая за последнюю дату диапазона фильтрации по дате создания заказа |\n00157| \n00158| ***\n00159| \n00160| #### <a name=\"get-filters-location\"/>Субструктура \"Фильтр по локациям\". Узел `params.filters.location`\n00161| \n00162| > Входит в субструктуру [\"Фильтр заказа\"](#get-filters) данных запроса под узлом `location`.\n00163| \n00164| | Название      | Тип       | Описание |\n00165| | --------      | ---       | -------- |\n00166| | `destination` | string    | Уникальный идентификатор локации. Вернёт только те заказы, где данная локация - локация **получения** |\n00167| | `dispatch`    | string    | Уникальный идентификатор локации. Вернёт только те заказы, где данная локация - локация **отправки** |\n00168| \n00169| ***\n00170| \n00171| #### <a name=\"get-mode\"/>Субструктура \"Состояние заказа\". Узел `params.mode`\n00172| \n00173| > Входит в [корневую структуру](#get-struct) данных запроса под узлом `mode`.\n00174| \n00175| Неуказание состояния подразумевает, что нас устраивают оба варианта состояния заказов, попадающих в результативную выборку.\n00176| Указание `false` настаивает на том, чтобы заказы, **имеющие** данное состояние, были исключены из выборки. Указание `true`\n00177| настаивает на том, чтобы заказы, **не имеющие** данное состояние, были исключены из выборки.\n00178| \n00179| | Название      | Тип       | Описание |\n00180| | --------      | ---       | -------- |\n00181| | `isCanceled`  | boolean   | Должен ли заказ быть отменён для попадания в выборку |\n00182| | `isGiven`     | boolean   | Должен ли заказ быть выдан для попадания в выборку |\n00183| | `isPaid`      | boolean   | Должен ли быть оплачен заказ для попадания в выборку |\n00184| | `isTaken`     | boolean   | Должен ли заказ быть уже принятым на терминале для попадания в выборку |\n00185| \n00186| ***\n00187| \n00188| \n00189| ### <a name=\"get-response\"/>Данные ответа\n00190| \n00191| * [Пример ответа](#get-response-example)\n00192| * [Описание данных ответа](#get-response-description)\n00193| \n00194| <a name=\"get-response-example\"/>Пример ответа:\n00195| \n00196| ```metadata json\n00197| {\n00198|   \"response\": {\n00199|     \"data\": [\n00200|       {\n00201|         \"number\": \"600331378\", // уникальный внутренний номер заказа\n00202|         \"id\": \"3a0421c4-aff4-11e6-80f4-00155d903d0c\", // уникальный внутренний ID заказа\n00203|         \"status\": \"Заказ отменен\", // статус заказа\n00204|         \"dates\": {\n00205|           \"create\": \"2016-11-21T17:10:24\", // дата создания\n00206|           \"taken\": \"\", // дата приёма на терминале\n00207|           \"shipped\": \"\", // дата отправки груза на терминал получения\n00208|           \"arrived\": \"\", // дата прибытия груза на терминал получения\n00209|           \"given\": \"\" // дата выдачи груза клиенту\n00210|         },\n00211|         \"basePrice\": 1020, // базовая стоимость заказа (без скидок)\n00212|         \"price\": 1020, // итоговая стоимость заказа (с учётом скидок)\n00213|         \"service\": [ // массив услуг\n00214|           {\n00215|             \"name\": \"Перевозка между городами\", // название услуги\n00216|             \"price\": 190 // стоимость услуги (с учётом скидок)\n00217|           },\n00218|           {\n00219|             \"name\": \"Забор груза от клиента\",\n00220|             \"price\": 380\n00221|           },\n00222|           {\n00223|             \"name\": \"Отвоз груза клиенту\",\n00224|             \"price\": 450\n00225|           }\n00226|         ],\n00227|         \"cargo\": {\n00228|           \"dimension\": { // объект габаритов груза. См. структура \"Груз\"\n00229|             \"max\": {\n00230|               \"height\": 0.1, // макс. высота одного места\n00231|               \"length\": 0.1, // макс. длина одного места\n00232|               \"weight\": 0.1, // макс. вес одного места\n00233|               \"width\": 0.1 // макс. ширина одного места\n00234|             },\n00235|             \"quantity\": 1, // количество мест в заказе\n00236|             \"volume\": 0.1, // общий объём всего груза\n00237|             \"weight\": 0.9 // общий вес всего груза\n00238|           }\n00239|         },\n00240|         \"customId\": \"\", // здесь будет пользовательский ID, если указать при оформлении\n00241|         \"gateway\": { // пункты доступа\n00242|           \"dispatch\": { // пункт отправления\n00243|             \"point\": { // точка доступа\n00244|               \"location\": { // населённый пункт\n00245|                 \"id\": \"e90f19de-0128-11e5-80c7-00155d903d03\", // уникальный внутренний ID локации\n00246|                 \"name\": \"Санкт-Петербург\", // название локации\n00247|                 \"type\": \"г\" // тип локации\n00248|               },\n00249|               \"address\": \"Пример ул., 1\", // адрес\n00250|               \"date\": \"2016-11-22\", // дата отправки\n00251|               \"time\": { // время забора\n00252|                 \"start\": \"09:00\", // начало диапазона\n00253|                 \"end\": \"14:00\" // конец диапазона\n00254|               }\n00255|             },\n00256|             \"customer\": { // контрагент (отправитель)\n00257|               \"type\": \"individual\", // физ. лицо\n00258|               \"name\": \"Арсеньев Сергей Денисович\", // ФИО\n00259|               \"phone\": [ // телефоны\n00260|                 \"79111883409\"\n00261|               ],\n00262|               \"email\": \"\" // e-mail\n00263|             }\n00264|           },\n00265|           \"destination\": { // пункт получения\n00266|             \"point\": { // точка доступа\n00267|               \"location\": {\n00268|                 \"id\": \"e90f1820-0128-11e5-80c7-00155d903d03\",\n00269|                 \"name\": \"Москва\",\n00270|                 \"type\": \"г\"\n00271|               },\n00272|               \"address\": \"Большой пр-т, 18\",\n00273|               \"date\": \"2016-11-23\",\n00274|               \"time\": {\n00275|                 \"start\": \"14:00\",\n00276|                 \"end\": \"19:00\"\n00277|               }\n00278|             },\n00279|             \"customer\": { // контрагент (получатель)\n00280|               \"type\": \"individual\",\n00281|               \"name\": \"Арсеньева Светлана Дмитриевна\",\n00282|               \"phone\": [\n00283|                 \"79111883409\"\n00284|               ],\n00285|               \"email\": \"\"\n00286|             }\n00287|           }\n00288|         }\n00289|       }\n00290|       // тут также могут быть другие заказы\n00291|     ],\n00292|     \"meta\": { // meta-данные\n00293|       \"limit\": 100, // ограничение количества заказов, выведенных на текуший запрос\n00294|       \"offset\": 0, // смещение по массиву заказов, выведенных на текущий запрос\n00295|       \"total\": 1 // всего заказов пользователя\n00296|     }\n00297|   }\n00298| }\n00299| ```\n00300| \n00301| <a name=\"get-response-description\"/>Описание данных ответа:\n00302| \n00303| | Название      | Тип       | Описание |\n00304| | --------      | ---       | -------- |\n00305| | `basePrice`   | integer   | Базовая стоимость в рублях (без учёта скидок) |\n00306| | `customId`    | string    | Пользовательский номер заказа, если был указан при оформлении |\n00307| | [`dates`](../structure/dates.md) | object | Объект, содержащий даты изменения этапов заказа. См. [структуру \"Даты изменения этапов заказа\"](../structure/dates.md) |\n00308| | `documentList` | array    | Список доступных документов. Ключом является код документа, значением &mdash; прямая ссылка на документ (эти ссылки можно передавать третьим лицам для использования, Ваш API-токен там не требуется). Полный список чуть ниже |\n00309| | `cargo`.[`dimension`](../structure/cargo.md#dimension) | object | Объект габаритов груза. См. [структуру \"Габариты\"](../structure/cargo.md#dimension) |\n00310| | `cargo`.`insurance` | integer | Заявленная стоимость страхования груза |\n00311| | `cargo`.`insuranceNdv` | boolean | Страхование без объявленной стоимости |\n00312| | `gateway`     | object    | Объект структуры [\"Пункт доступа\"](../structure/gateway.md), за исключением `service`, услуги возвращаются в корневом узле `service` (см. ниже) |\n00313| | `id`          | string    | Уникальный внутренний ID заказа |\n00314| | `number`      | integer   | Уникальный внутренний номер заказа |\n00315| | `price`       | integer   | Итоговая стоимость в рублях (с учётом скидок) |\n00316| | `service`<br/>- `name`</br>- `price` | array<br/>- string<br/>- integer | Массив услуг, с указанием наименования и стоимости (со скидкой)<br/>- Наименование услуги<br/>- Стоимость услуги со скидкой |\n00317| | `status`<br/>- `code`<br/>- `message` | object<br/>- string<br/>- string | Объект, содержащий текущий статус заказа<br/>- код текущего статуса<br/>- сообщение текущего статуса |\n00318| \n00319| Список документов:\n00320| \n00321| | Код | Описание |\n00322| | --- | -------- |\n00323| | `cargoPhoto` | Фото груза (архив) |\n00324| | `cmr` | Международная транспортная накладная |\n00325| | `doc` | Бланк заказа |\n00326| | `invoice` | Счёт заказа |\n00327| | `markingList` | Маркировочный лист |\n00328| | `lrc` | Электронная экспедиторская расписка |\n00329| | `scn` | Скан накладной на выдачу |\n00330| | `ssd` | Сканы сопроводительных документов |\n00331| | `utd` | Универсальный передаточный документ |\n00332| \n00333| \n00334| ### <a name=\"get-example-full\"/>Примеры\n00335| \n00336| **Запрос**\n00337| \n00338| ```javascript\n00339| // полный вызов в консоли на JavaScript см. в разделе Быстрый старт\n00340| xhttp.send(JSON.stringify(\n00341| {\n00342|   \"object\": \"order\",\n00343|   \"action\": \"set\",\n00344|   \"params\": {\n00345|     \"filters\": {\n00346|       \"number\": \"МойПользовательскийНомер\"\n00347|     }\n00348|   }\n00349| }));\n00350| ```\n00351| \n00352| **Ответ**\n00353| \n00354| ```metadata json\n00355| {\n00356|   \"response\": {\n00357|     \"data\": [\n00358|       {\n00359|         \"number\": \"700247224\",\n00360|         \"id\": \"40a18ac7-46d0-11e7-80f9-00155d189b14\",\n00361|         \"status\": \"Заказ оформлен\",\n00362|         \"dates\": {\n00363|           \"create\": \"2017-06-01T16:43:18\",\n00364|           \"taken\": \"\",\n00365|           \"shipped\": \"\",\n00366|           \"arrived\": \"\",\n00367|           \"given\": \"\"\n00368|         },\n00369|         \"documentList\": {\n00370|           \"cargoPhoto\": \"https://vozovoz.ru/api/document/?orderId=40a18ac7-46d0-11e7-80f9-00155d189b14&docType=cargoPhoto\",\n00371|           \"cmr\": \"https://vozovoz.ru/api/document/?orderId=40a18ac7-46d0-11e7-80f9-00155d189b14&docType=cmr\",\n00372|           \"doc\": \"https://vozovoz.ru/api/document/?orderId=40a18ac7-46d0-11e7-80f9-00155d189b14&docType=doc\",\n00373|           \"invoice\": \"https://vozovoz.ru/api/document/?orderId=40a18ac7-46d0-11e7-80f9-00155d189b14&docType=invoice\",\n00374|           \"markingList\": \"https://vozovoz.ru/api/document/?orderId=40a18ac7-46d0-11e7-80f9-00155d189b14&docType=markingList\",\n00375|           \"scn\": \"https://vozovoz.ru/api/document/?orderId=40a18ac7-46d0-11e7-80f9-00155d189b14&docType=scn\",\n00376|           \"ssd\": \"https://vozovoz.ru/api/document/?orderId=40a18ac7-46d0-11e7-80f9-00155d189b14&docType=ssd\",\n00377|           \"utf\": \"https://vozovoz.ru/api/document/?orderId=40a18ac7-46d0-11e7-80f9-00155d189b14&docType=utd\" \n00378|         },\n00379|         \"basePrice\": 2440,\n00380|         \"price\": 2440,\n00381|         \"service\": [\n00382|           {\n00383|             \"name\": \"Страхование груза без объявленной стоимости\",\n00384|             \"price\": 35\n00385|           },\n00386|           {\n00387|             \"name\": \"Жесткий короб\",\n00388|             \"price\": 800\n00389|           },\n00390|           {\n00391|             \"name\": \"Упаковка в коробку (20х20х40)\",\n00392|             \"price\": 140\n00393|           },\n00394|           {\n00395|             \"name\": \"Перевозка между городами\",\n00396|             \"price\": 495\n00397|           },\n00398|           {\n00399|             \"name\": \"Забор груза от клиента\",\n00400|             \"price\": 380\n00401|           },\n00402|           {\n00403|             \"name\": \"Отвоз груза клиенту\",\n00404|             \"price\": 590\n00405|           }\n00406|         ],\n00407|         \"cargo\": {\n00408|           \"dimension\": {\n00409|             \"max\": {\n00410|               \"height\": 0.1,\n00411|               \"length\": 0.1,\n00412|               \"weight\": 0.1,\n00413|               \"width\": 0.9\n00414|             },\n00415|             \"quantity\": 1,\n00416|             \"volume\": 0.1,\n00417|             \"weight\": 0.9\n00418|           },\n00419|           \"insurance\": 590880.23,\n00420|           \"wrapping\": {\n00421|             \"hardBoxVolume\": 0.1,\n00422|             \"box1\": 2\n00423|           }\n00424|         },\n00425|         \"customId\": \"МойПользовательскийНомер\",\n00426|         \"gateway\": {\n00427|           \"dispatch\": {\n00428|             \"point\": {\n00429|               \"location\": {\n00430|                 \"id\": \"e90f19de-0128-11e5-80c7-00155d903d03\",\n00431|                 \"name\": \"Санкт-Петербург\",\n00432|                 \"type\": \"г\"\n00433|               },\n00434|               \"address\": \"Пивоварная ул. 11\",\n00435|               \"date\": \"2017-06-03\",\n00436|               \"time\": {\n00437|                 \"start\": \"10:00\",\n00438|                 \"end\": \"16:00\"\n00439|               }\n00440|             },\n00441|             \"customer\": {\n00442|               \"type\": \"individual\",\n00443|               \"name\": \"Name 1\",\n00444|               \"phone\": [\n00445|                 \"79991112233\"\n00446|               ],\n00447|               \"email\": \"\"\n00448|             }\n00449|           },\n00450|           \"destination\": {\n00451|             \"point\": {\n00452|               \"location\": {\n00453|                 \"id\": \"e90f1820-0128-11e5-80c7-00155d903d03\",\n00454|                 \"name\": \"Москва\",\n00455|                 \"type\": \"г\"\n00456|               },\n00457|               \"address\": \"Самоварная ул., 1\",\n00458|               \"date\": \"2017-06-07\",\n00459|               \"time\": {\n00460|                 \"start\": \"10:00\",\n00461|                 \"end\": \"16:00\"\n00462|               }\n00463|             },\n00464|             \"customer\": {\n00465|               \"type\": \"individual\",\n00466|               \"name\": \"Name 2\",\n00467|               \"phone\": [\n00468|                 \"79998887766\"\n00469|               ],\n00470|               \"email\": \"\"\n00471|             }\n00472|           }\n00473|         },\n00474|         \"payer\": {\n00475|           \"type\": \"individual\",\n00476|           \"name\": \"Name 2\",\n00477|           \"phone\": [\n00478|             \"79998887766\"\n00479|           ],\n00480|           \"email\": \"\"\n00481|         }\n00482|       }\n00483|     ],\n00484|     \"meta\": {\n00485|       \"limit\": 100,\n00486|       \"offset\": 0,\n00487|       \"total\": 1\n00488|     }\n00489|   }\n00490| }\n00491| ```\n00492| \n00493| \n00494| \n00495| \n00496| \n00497| \n00498| \n00499| ## <a name=\"set\"/>Отправка данных. Действие `set`\n00500| \n00501| ### Данные запроса\n00502| \n00503| * [Общий пример структуры](#set-example)\n00504| * [Корневая структура](#set-struct)\n00505| \n00506| ***\n00507| \n00508| #### <a name=\"set-example\"/>Общий пример структуры\n00509| \n00510| ```javascript\n00511| // полное оформление кода на javascript для использования в консоли см. в разделе \"Быстрый старт\"\n00512| xhttp.send(JSON.stringify(\n00513| {\n00514|   \"object\": \"order\",\n00515|   \"action\": \"set\",\n00516|   \"params\": {\n00517|     \"cargo\": {\n00518|       \"category\": \"12345678-1234-1234-1234-1234567890ab\", // уникальный внутренний ID категории груза, необязателен\n00519|       \"correspondence\": true, // перевозится ли корренспонденция\n00520|       \"dimension\": { // габариты груза\n00521|         \"max\": { // максимальные габариты одного места\n00522|           \"height\": 0.5, // макс. высота одного места\n00523|           \"length\": 0.5, // макс. длина одного места\n00524|           \"weight\": 5.3, // макс. вес одного места\n00525|           \"width\": 0.5 // макс. ширина одного места\n00526|         },\n00527|         \"quantity\": 2, // количество мест\n00528|         \"volume\": 0.9, // общий объём груза (всех мест)\n00529|         \"weight\": 5.3 // общий вес груза (всех мест)\n00530|       },\n00531|       \"insurance\": 1000, // заявленная стоимость для страховки (если требуется)\n00532|       \"insuranceNdv\": false, // если нужно отключить страхование БОС для плательщика физ.лица (также отключается автоматически при использовании \"insurance\")\n00533|       \"wrapping\": { // упаковка\n00534|         \"bag1\": 1, // 1 шт. упаковки с кодом `bag1`\n00535|         \"box1\": 2, // 2 шт. упаковки с кодом `box1`\n00536|         \"palletCollar\": 0.5 // 0.5м3 упаковки с кодом `palletCollar`\n00537|       }\n00538|     },\n00539|     \"customId\": \"MW0123456/ZX15\", // пользовательский внешний ID. Может быть любимым. Необязателен\n00540|     \"gateway\": { // пункт доступа\n00541|       \"dispatch\": { // пункт отправки\n00542|         \"point\": { // точка доступа\n00543|           \"location\": \"Санкт-Петербург\", // локация отправки\n00544|           \"address\": \"Луначарского ул., 7\", // адрес отправки\n00545|           \"date\": \"2017-05-01\", // дата отправки\n00546|           \"time\": { // диапазон времени для забора груза\n00547|             \"start\": \"14:00\",\n00548|             \"end\": \"18:00\"\n00549|           }\n00550|         },\n00551|         \"service\": { // услуги\n00552|           \"needLoading\": { // погрузочные работы\n00553|             \"floor\": 21, // 21 этаж\n00554|             \"hasLift\": true // имеется грузовой лифт\n00555|           },\n00556|           \"specificLoading\": [ // особый вид транспорта\n00557|             \"openMachine\" // открытая машина\n00558|           ],\n00559|           \"retrieveAD\": { // возврат сопроводительных документов, также этот узел является точкой доступа\n00560|             \"location\": \"Выборг\", // локации доставки СД\n00561|             \"address\": \"Просвещения пр-т\" // адрес доставки СД\n00562|           }\n00563|         },\n00564|         \"customer\": { // контрагент (отпавитель)\n00565|           \"email\": \"customer@ya.ru\", // email\n00566|           \"id\": \"ivan\", // временный ID для текущего запроса. Необязательный. По умолчанию `dispatch`\n00567|           \"type\": \"individual\", // физ. лицо\n00568|           \"name\": \"Иванов Иван Иванович\", // ФИО\n00569|           \"phone\": \"79999999999\" // телефон\n00570|         }\n00571|       },\n00572|       \"destination\": { // пункт получения\n00573|         \"point\": { // точка доступа\n00574|           \"location\": \"Москва\", // локация получения\n00575|           \"terminal\": \"1c9871-e09d-df43423-1234-123456\", // уникальный внутренний ID терминала\n00576|           \"date\": \"2017-05-08\" // дата получения\n00577|         },\n00578|         \"service\": { // услуги\n00579|           \"needLoading\": { // разгрузочные работы\n00580|             \"used\": false // не требуются\n00581|           },\n00582|           \"specificLoading\": [ // особый вид транспорта\n00583|             \"tailLift\"\n00584|           ]\n00585|         },\n00586|         \"customer\": { // контрагент (получатель)\n00587|           \"type\": \"corporation\", // юр. лицо\n00588|           \"companyName\": \"АЛЬЯНС\", // название юр. лица\n00589|           \"name\": \"Ivanov Ilya\", // ФИО контактного лица\n00590|           \"phone\": [ // список телефонов\n00591|             \"79999999999\",\n00592|             \"79998888888\"\n00593|           ],\n00594|           \"kpp\": \"111111111\", // КПП\n00595|           \"inn\": \"222222222222\" // ИНН\n00596|         }\n00597|       }\n00598|     },\n00599|     \"payer\": \"ivan\", // указывает плательщиком отправителя (по временному ID). Можно не указывать, плательщик по умолчанию - получатель\n00600|     \"promoCode\": \"promo\" // промокод, если имеется\n00601|   }\n00602| }));\n00603| ```\n00604| \n00605| #### <a name=\"get-struct\"/>Корневая структура. Передаётся напрямую в узел `params`\n00606| \n00607| | Структура         | Тип       | Описание |\n00608| | ---------         | ---       | -------- |\n00609| | **Обязательные**\n00610| | `cargo`           | object    | [Структура \"Груз\"](../structure/cargo.md) _(на другой странице)_ |\n00611| | `gateway`         | object    | [Структура \"Пункт доступа\"](../structure/gateway.md) _(на другой странице)_ |\n00612| | `payer`           | string\\|object | Строка с временным ID, указанным (или не указанным) у контрагентов в структуре \"Пункт доступа\". По умолчанию имеет значение `destination`, т.е. получатель - плательщик (если Вы хотите назначить плательщиком получателя, без ввода своего ID, укажите `destination`). **Также может быть третьим лицом**, тогда его содержимое должно соответствовать [структуре \"Контрагент\"](../structure/customer.md) _(на другой странице)_|\n00613| | **Необязательные**\n00614| | `cod`             | object    | [Структура \"Наложенный платёж\"](../structure/cod.md) _(на другой странице)_ |\n00615| | `customId`        | string    | Строка с Вашим ID для заказа. По ней впоследствии можно будет получить данные заказа. Необязательный параметр, каждый заказ в любом случае имеет уникальный внутренний номер и уникальный внутренний ID |\n00616| | `promoCode`       | string    | Промокод, если имеется. Необязательный параметр\n00617| \n00618| ### <a name=\"get-response\"/>Данные ответа\n00619| \n00620| * [Пример ответа](#set-response-example)\n00621| * [Описание данных ответа](#set-response-description)\n00622| \n00623| <a name=\"set-response-example\"/>Пример ответа:\n00624| \n00625| ```javascript\n00626| {\n00627|   \"response\": {\n00628|     \"id\": \"3afda4a6-46cf-11e7-80f9-00155d189b14\", // уникальный внутрениий ID заказа\n00629|     \"number\": \"700247223\", // уникальный внутренний номер заказа\n00630|     \"basePrice\": 2440, // базовая стоимость заказа (без скидок)\n00631|     \"price\": 2440, // итоговая стоимость заказа (со скидками)\n00632|     \"service\": [ // услуги\n00633|       {\n00634|         \"name\": \"Перевозка между городами\", // наименование услуги\n00635|         \"price\": 495 // стоимость услуги со скидкой\n00636|       },\n00637|       {\n00638|         \"name\": \"Жесткий короб\",\n00639|         \"price\": 800\n00640|       },\n00641|       {\n00642|         \"name\": \"Упаковка в коробку (20х20х40)\",\n00643|         \"price\": 140\n00644|       },\n00645|       {\n00646|         \"name\": \"Страхование груза без объявленной стоимости\",\n00647|         \"price\": 35\n00648|       },\n00649|       {\n00650|         \"name\": \"Забор груза от клиента\",\n00651|         \"price\": 380\n00652|       },\n00653|       {\n00654|         \"name\": \"Отвоз груза клиенту\",\n00655|         \"price\": 590\n00656|       }\n00657|     ]\n00658|   }\n00659| }\n00660| ```\n00661| \n00662| <a name=\"set-response-description\"/>Описание данных ответа:\n00663| \n00664| | Название      | Тип       | Описание |\n00665| | --------      | ---       | -------- |\n00666| | id            | string    | Уникальный внутренний ID заказа |\n00667| | number        | string    | Уникальный внутренний номер заказа |\n00668| | basePrice     | integer   | Базовая стоимость в рублях (без учёта скидок) |\n00669| | price         | integer   | Итоговая стоимость в рублях (с учётом скидок) |\n00670| | service<br/>- name</br>- price | array<br/>- string<br/>- integer | Массив услуг, с указанием наименования и стоимости (со скидкой)<br/>- Наименование услуги<br/>- Стоимость услуги со скидкой |\n00671| \n00672| ### <a name=\"set-example-full\"/>Примеры\n00673| \n00674| **Запрос**\n00675| \n00676| ```javascript\n00677| // полный вызов в консоли на JavaScript см. в разделе Быстрый старт\n00678| xhttp.send(JSON.stringify(\n00679| {\n00680|   \"object\": \"order\",\n00681|   \"action\": \"set\",\n00682|   \"params\": {\n00683|     \"cargo\": {\n00684|       \"dimension\": {\n00685|         \"volume\": 0.1,\n00686|         \"weight\": 0.9,\n00687|       },\n00688|       \"wrapping\": {\n00689|         \"box1\": 2,\n00690|         \"hardBoxVolume\": 0.5\n00691|       }\n00692|     },\n00693|     \"gateway\": {\n00694|       \"dispatch\": {\n00695|         \"point\": {\n00696|           \"location\": \"Санкт-Петербург\",\n00697|           \"address\": \"Пивоварная ул. 11\",\n00698|           \"date\": \"2017-06-03\",\n00699|           \"time\": {\n00700|             \"start\": \"10:00\",\n00701|             \"end\": \"16:00\"\n00702|           }\n00703|         },\n00704|         \"customer\": {\n00705|           \"name\": \"Name 1\",\n00706|           \"phone\": \"79092407718\"\n00707|         }\n00708|       },\n00709|       \"destination\": {\n00710|         \"point\": {\n00711|           \"location\": \"Москва\",\n00712|           \"address\": \"Ячменный пер., 69\",\n00713|           \"date\": \"2017-06-07\",\n00714|           \"time\": {\n00715|             \"start\": \"10:00\",\n00716|             \"end\": \"16:00\"\n00717|           }\n00718|         },\n00719|         \"customer\": {\n00720|           \"id\": \"name2\",\n00721|           \"name\": \"Name 2\",\n00722|           \"phone\": \"79092407700\"\n00723|         }\n00724|       }\n00725|     },\n00726|     \"payer\": \"name2\"\n00727|   }\n00728| }));\n00729| ```\n00730| \n00731| **Ответ**\n00732| \n00733| ```javascript\n00734| {\n00735|   \"response\": {\n00736|     \"id\": \"3afda4a6-46cf-11e7-80f9-00155d189b14\", // уникальный внутрениий ID заказа\n00737|     \"number\": \"700247223\", // уникальный внутренний номер заказа\n00738|     \"basePrice\": 2440, // базовая стоимость заказа (без скидок)\n00739|     \"price\": 2440, // итоговая стоимость заказа (со скидками)\n00740|     \"service\": [ // услуги\n00741|       {\n00742|         \"name\": \"Перевозка между городами\", // наименование услуги\n00743|         \"price\": 495 // стоимость услуги со скидкой\n00744|       },\n00745|       {\n00746|         \"name\": \"Жесткий короб\",\n00747|         \"price\": 800\n00748|       },\n00749|       {\n00750|         \"name\": \"Упаковка в коробку (20х20х40)\",\n00751|         \"price\": 140\n00752|       },\n00753|       {\n00754|         \"name\": \"Страхование груза без объявленной стоимости\",\n00755|         \"price\": 35\n00756|       },\n00757|       {\n00758|         \"name\": \"Забор груза от клиента\",\n00759|         \"price\": 380\n00760|       },\n00761|       {\n00762|         \"name\": \"Отвоз груза клиенту\",\n00763|         \"price\": 590\n00764|       }\n00765|     ]\n00766|   }\n00767| }\n00768| ```\n00769| \n00770| ## <a name=\"cancel\"/>Отмена заказа\n00771| \n00772| Представляет собой объект, использующийся для отмены оформленного заказа.\n00773| \n00774| **Запрос**\n00775| \n00776| ```javascript\n00777| // полное оформление кода на javascript для использования в консоли см. в разделе \"Быстрый старт\"\n00778| xhttp.send(JSON.stringify(\n00779| {\n00780|   \"object\": \"order\",\n00781|   \"action\": \"cancel\",\n00782|   \"params\": {\n00783|     \"id\": \"3afda4a6-46cf-11e7-80f9-00155d189b14\", // уникальный внутрениий ID заказа\n00784|     \"reason\": \"Тестовый заказ. Проверяли работоспособность\" // текстовое описание причины отмены заказа\n00785|   }\n00786| }));\n00787| ```\n00788| \n00789| **Ответ**\n00790| \n00791| ```javascript\n00792| {\n00793|   \"response\": {\n00794|     \"message\": \"Заказ успешно отменён\" // Если ошибка, здесь будет объект ошибки\n00795|   }\n00796| }\n00797| ```\n00798| \n00799| ***\n00800| [▲ Наверх](#up)\n00801| \n</file>",
    "metadata": {
      "preview": "# <a name=\"up\"/>Vozovoz API 2.5\n\n[Главная страница](/README.md) > [Объекты](index.md) > Заказ\n\n\n> **Код объекта: `order`**\n\n## Содержание\n\n* [Описание](#description)\n* [Получение данных по одному или нескольким заказам](#get)\n    * [Общий пример структуры](#get-example)\n    * [Подробное описание структуры](#get-struct)\n    * [Данные ответа](#get-response)\n    * [Примеры](#get-example-full)\n* [Отправка данных. Оформление заказа](#set)\n    * [Общий пример структуры](#set-example)\n    * [Подробное описание структуры](#set-struct)\n    * [Данные ответа](#set-response)\n    * [Примеры](#set-example-full)"
    },
    "title": "vozovoz-docs/ru/docs/object/order.md",
    "time": {
      "start": 1759850995365,
      "end": 1759850995369
    }
  }
}
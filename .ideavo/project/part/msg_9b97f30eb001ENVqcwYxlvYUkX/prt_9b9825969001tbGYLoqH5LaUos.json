{
  "id": "prt_9b9825969001tbGYLoqH5LaUos",
  "messageID": "msg_9b97f30eb001ENVqcwYxlvYUkX",
  "sessionID": "ses_6852784ecffeuHwynj83p2lr14",
  "type": "tool",
  "tool": "edit",
  "callID": "toolu_01EF8ZoqMRztdQ5kzDduWAvg",
  "state": {
    "status": "completed",
    "input": {
      "filePath": "/home/user/project/app/page.tsx",
      "oldString": "        <h1 className=\"text-2xl font-bold text-center mb-6 text-blue-400\">\n          Междугородняя доставка Лавсит (ТК: {COMPANIES_BASE.length})\n        </h1>\n        \n        {/* Кнопка диагностики */}\n        <div className=\"flex justify-end mb-4\">",
      "newString": "        <div className=\"flex items-center justify-between mb-6\">\n          <h1 className=\"text-2xl font-bold text-blue-400\">\n            Междугородняя доставка Лавсит (ТК: {COMPANIES_BASE.length})\n          </h1>\n          \n          {/* Индикатор сохранения */}\n          <div className=\"flex items-center gap-4\">\n            {isFormChanged ? (\n              <div className=\"flex items-center gap-2 text-yellow-400 text-sm\">\n                <div className=\"w-2 h-2 bg-yellow-400 rounded-full animate-pulse\"></div>\n                Сохранение...\n              </div>\n            ) : lastSaveTime ? (\n              <div className=\"flex items-center gap-2 text-green-400 text-sm\">\n                <div className=\"w-2 h-2 bg-green-400 rounded-full\"></div>\n                Сохранено {lastSaveTime.toLocaleTimeString()}\n              </div>\n            ) : hasStoredFormData() ? (\n              <div className=\"flex items-center gap-2 text-blue-400 text-sm\">\n                <div className=\"w-2 h-2 bg-blue-400 rounded-full\"></div>\n                Данные восстановлены\n              </div>\n            ) : null}\n            \n            {/* Кнопка очистки данных */}\n            {hasStoredFormData() && (\n              <Button\n                onClick={() => {\n                  if (confirm('Очистить все сохраненные данные формы?')) {\n                    clearFormData();\n                    setForm(initialFormState);\n                    setLastSaveTime(null);\n                    setIsFormChanged(false);\n                  }\n                }}\n                variant=\"outline\"\n                size=\"sm\"\n                className=\"border-red-500 text-red-400 hover:bg-red-900/20\"\n              >\n                <Trash2 className=\"h-3 w-3 mr-1\" />\n                Очистить\n              </Button>\n            )}\n          </div>\n        </div>\n        \n        {/* Кнопка диагностики */}\n        <div className=\"flex justify-end mb-4\">"
    },
    "output": "",
    "metadata": {
      "diagnostics": {},
      "diff": "Index: /home/user/project/app/page.tsx\n===================================================================\n--- /home/user/project/app/page.tsx\n+++ /home/user/project/app/page.tsx\n@@ -3394,11 +3394,53 @@\n \n return (\n   <div className=\"min-h-screen bg-gray-900 text-white p-4 relative\">\n     <div className=\"max-w-7xl mx-auto\">\n-      <h1 className=\"text-2xl font-bold text-center mb-6 text-blue-400\">\n-        Междугородняя доставка Лавсит (ТК: {COMPANIES_BASE.length})\n-      </h1>\n+      <div className=\"flex items-center justify-between mb-6\">\n+        <h1 className=\"text-2xl font-bold text-blue-400\">\n+          Междугородняя доставка Лавсит (ТК: {COMPANIES_BASE.length})\n+        </h1>\n+        \n+        {/* Индикатор сохранения */}\n+        <div className=\"flex items-center gap-4\">\n+          {isFormChanged ? (\n+            <div className=\"flex items-center gap-2 text-yellow-400 text-sm\">\n+              <div className=\"w-2 h-2 bg-yellow-400 rounded-full animate-pulse\"></div>\n+              Сохранение...\n+            </div>\n+          ) : lastSaveTime ? (\n+            <div className=\"flex items-center gap-2 text-green-400 text-sm\">\n+              <div className=\"w-2 h-2 bg-green-400 rounded-full\"></div>\n+              Сохранено {lastSaveTime.toLocaleTimeString()}\n+            </div>\n+          ) : hasStoredFormData() ? (\n+            <div className=\"flex items-center gap-2 text-blue-400 text-sm\">\n+              <div className=\"w-2 h-2 bg-blue-400 rounded-full\"></div>\n+              Данные восстановлены\n+            </div>\n+          ) : null}\n+          \n+          {/* Кнопка очистки данных */}\n+          {hasStoredFormData() && (\n+            <Button\n+              onClick={() => {\n+                if (confirm('Очистить все сохраненные данные формы?')) {\n+                  clearFormData();\n+                  setForm(initialFormState);\n+                  setLastSaveTime(null);\n+                  setIsFormChanged(false);\n+                }\n+              }}\n+              variant=\"outline\"\n+              size=\"sm\"\n+              className=\"border-red-500 text-red-400 hover:bg-red-900/20\"\n+            >\n+              <Trash2 className=\"h-3 w-3 mr-1\" />\n+              Очистить\n+            </Button>\n+          )}\n+        </div>\n+      </div>\n       \n       {/* Кнопка диагностики */}\n       <div className=\"flex justify-end mb-4\">\n         <Button \n"
    },
    "title": "app/page.tsx",
    "time": {
      "start": 1759753959743,
      "end": 1759753959763
    }
  }
}
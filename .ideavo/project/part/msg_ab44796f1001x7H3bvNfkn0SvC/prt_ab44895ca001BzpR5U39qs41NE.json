{
  "id": "prt_ab44895ca001BzpR5U39qs41NE",
  "sessionID": "ses_6852784ecffeuHwynj83p2lr14",
  "messageID": "msg_ab44796f1001x7H3bvNfkn0SvC",
  "type": "tool",
  "callID": "call_9168ede4e1e84d04b3446b01",
  "tool": "multiedit",
  "state": {
    "status": "completed",
    "input": {
      "filePath": "/home/user/project/app/page.tsx",
      "edits": [
        {
          "oldString": "      // üèôÔ∏è –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –ª–æ–∫–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Ñ–æ—Ä–º—ã\n      const getDispatchLocation = () => {\n        if (form.fromTerminal) {\n          return {\n            type: 'terminal' as const,\n            // –î–ª—è —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≥–æ—Ä–æ–¥–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω–∞–ª—ã\n            terminal_id: form.fromCity.toLowerCase().includes('–º–æ—Å–∫–≤–∞') ? '0c7a2795-1220-486d-a7ce-8bcf130a1224' :\n                        form.fromCity.toLowerCase().includes('—Å–∞–Ω–∫—Ç') || form.fromCity.toLowerCase().includes('—Å–ø–±') ? '3ca02b62-3632-4da0-8fde-de9d9c77c553' :\n                        '0c7a2795-1220-486d-a7ce-8bcf130a1224', // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ú–æ—Å–∫–≤–∞\n            city_fias: form.fromCity.toLowerCase().includes('–º–æ—Å–∫–≤–∞') ? '0c5b2444-70a0-4932-980c-b4dc0d3f02b5' :\n                       form.fromCity.toLowerCase().includes('—Å–∞–Ω–∫—Ç') || form.fromCity.toLowerCase().includes('—Å–ø–±') ? 'c2deb16a-0330-4f05-821f-1d09c93331e6' :\n                       '0c5b2444-70a0-4932-980c-b4dc0d3f02b5' // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ú–æ—Å–∫–≤–∞\n          };\n        } else {\n          return {\n            type: 'address' as const,\n            address: form.fromAddress || form.fromCity // –ò—Å–ø–æ–ª—å–∑—É–µ–º –∞–¥—Ä–µ—Å –µ—Å–ª–∏ –µ—Å—Ç—å, –∏–Ω–∞—á–µ –≥–æ—Ä–æ–¥\n          };\n        }\n      };\n\n      const getDestinationLocation = () => {\n        if (form.toTerminal) {\n          return {\n            type: 'terminal' as const,\n            // –î–ª—è —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≥–æ—Ä–æ–¥–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω–∞–ª—ã\n            terminal_id: form.toCity.toLowerCase().includes('–º–æ—Å–∫–≤–∞') ? '0c7a2795-1220-486d-a7ce-8bcf130a1224' :\n                        form.toCity.toLowerCase().includes('—Å–∞–Ω–∫—Ç') || form.toCity.toLowerCase().includes('—Å–ø–±') ? '3ca02b62-3632-4da0-8fde-de9d9c77c553' :\n                        '3ca02b62-3632-4da0-8fde-de9d9c77c553', // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –°–ü–±\n            city_fias: form.toCity.toLowerCase().includes('–º–æ—Å–∫–≤–∞') ? '0c5b2444-70a0-4932-980c-b4dc0d3f02b5' :\n                       form.toCity.toLowerCase().includes('—Å–∞–Ω–∫—Ç') || form.toCity.toLowerCase().includes('—Å–ø–±') ? 'c2deb16a-0330-4f05-821f-1d09c93331e6' :\n                       'c2deb16a-0330-4f05-821f-1d09c93331e6' // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –°–ü–±\n          };\n        } else {\n          return {\n            type: 'address' as const,\n            address: form.toAddress || form.toCity // –ò—Å–ø–æ–ª—å–∑—É–µ–º –∞–¥—Ä–µ—Å –µ—Å–ª–∏ –µ—Å—Ç—å, –∏–Ω–∞—á–µ –≥–æ—Ä–æ–¥\n          };\n        }\n      };",
          "newString": "      // üèôÔ∏è Nord Wheel - –∞–≤–∏–∞–ø–µ—Ä–µ–≤–æ–∑—á–∏–∫, –∏—Å–ø–æ–ª—å–∑—É–µ–º ID –∞—ç—Ä–æ–ø–æ—Ä—Ç–æ–≤ (–Ω–µ GUID —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤)\n      const getDispatchLocation = () => {\n        if (form.fromTerminal) {\n          return {\n            type: 'terminal' as const,\n            // ID –∞—ç—Ä–æ–ø–æ—Ä—Ç–æ–≤ –¥–ª—è Nord Wheel: 1 = –ú–æ—Å–∫–≤–∞, 24 = –°–ü–±\n            terminal_id: form.fromCity.toLowerCase().includes('–º–æ—Å–∫–≤–∞') ? '1' :\n                        form.fromCity.toLowerCase().includes('—Å–∞–Ω–∫—Ç') || form.fromCity.toLowerCase().includes('—Å–ø–±') ? '24' :\n                        '1', // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ú–æ—Å–∫–≤–∞\n            city_fias: form.fromCity.toLowerCase().includes('–º–æ—Å–∫–≤–∞') ? '0c5b2444-70a0-4932-980c-b4dc0d3f02b5' :\n                       form.fromCity.toLowerCase().includes('—Å–∞–Ω–∫—Ç') || form.fromCity.toLowerCase().includes('—Å–ø–±') ? 'c2deb16a-0330-4f05-821f-1d09c93331e6' :\n                       '0c5b2444-70a0-4932-980c-b4dc0d3f02b5' // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ú–æ—Å–∫–≤–∞\n          };\n        } else {\n          return {\n            type: 'address' as const,\n            address: form.fromAddress || form.fromCity // –ò—Å–ø–æ–ª—å–∑—É–µ–º –∞–¥—Ä–µ—Å –µ—Å–ª–∏ –µ—Å—Ç—å, –∏–Ω–∞—á–µ –≥–æ—Ä–æ–¥\n          };\n        }\n      };\n\n      const getDestinationLocation = () => {\n        if (form.toTerminal) {\n          return {\n            type: 'terminal' as const,\n            // ID –∞—ç—Ä–æ–ø–æ—Ä—Ç–æ–≤ –¥–ª—è Nord Wheel: 1 = –ú–æ—Å–∫–≤–∞, 24 = –°–ü–±\n            terminal_id: form.toCity.toLowerCase().includes('–º–æ—Å–∫–≤–∞') ? '1' :\n                        form.toCity.toLowerCase().includes('—Å–∞–Ω–∫—Ç') || form.toCity.toLowerCase().includes('—Å–ø–±') ? '24' :\n                        '24', // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –°–ü–±\n            city_fias: form.toCity.toLowerCase().includes('–º–æ—Å–∫–≤–∞') ? '0c5b2444-70a0-4932-980c-b4dc0d3f02b5' :\n                       form.toCity.toLowerCase().includes('—Å–∞–Ω–∫—Ç') || form.toCity.toLowerCase().includes('—Å–ø–±') ? 'c2deb16a-0330-4f05-821f-1d09c93331e6' :\n                       'c2deb16a-0330-4f05-821f-1d09c93331e6' // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –°–ü–±\n          };\n        } else {\n          return {\n            type: 'address' as const,\n            address: form.toAddress || form.toCity // –ò—Å–ø–æ–ª—å–∑—É–µ–º –∞–¥—Ä–µ—Å –µ—Å–ª–∏ –µ—Å—Ç—å, –∏–Ω–∞—á–µ –≥–æ—Ä–æ–¥\n          };\n        }\n      };"
        },
        {
          "oldString": "      // –§–æ—Ä–º–∏—Ä—É–µ–º –∑–∞–ø—Ä–æ—Å –¥–ª—è –Ω–æ–≤–æ–≥–æ API NordWheel —Å —É—á–µ—Ç–æ–º –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Ñ–æ—Ä–º—ã\n      const requestData = {\n        dispatch: {\n          location: getDispatchLocation()\n        },\n        destination: {\n          location: getDestinationLocation()\n        },\n        cargo: {\n          total_weight: totalWeight,\n          total_volume: totalVolume,\n          total_quantity: form.cargos.length\n        },\n        insurance: form.needInsurance && form.declaredValue ? form.declaredValue : 0,\n        insurance_refuse: !form.needInsurance,\n        services: {\n          is_package: form.needPackaging,\n          is_documents_return: false,\n          is_fragile: false\n        },\n        promocode: null\n      };",
          "newString": "      // Nord Wheel - –∞–≤–∏–∞–ø–µ—Ä–µ–≤–æ–∑—á–∏–∫ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –≤–µ—Å–æ–º 25–∫–≥\n      const minWeight = 25; // –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ–ø–ª–∞—á–∏–≤–∞–µ–º—ã–π –≤–µ—Å –¥–ª—è –∞–≤–∏–∞–ø–µ—Ä–µ–≤–æ–∑–æ–∫\n      const adjustedWeight = Math.max(totalWeight, minWeight);\n      \n      // –§–æ—Ä–º–∏—Ä—É–µ–º –∑–∞–ø—Ä–æ—Å –¥–ª—è Nord Wheel (–±–µ–∑ –ø–æ–ª–µ–π insurance, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–∑—ã–≤–∞—é—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç)\n      const requestData = {\n        dispatch: {\n          location: getDispatchLocation()\n        },\n        destination: {\n          location: getDestinationLocation()\n        },\n        cargo: {\n          total_weight: adjustedWeight,\n          total_volume: Math.round(totalVolume * 100) / 100, // –û–∫—Ä—É–≥–ª—è–µ–º –¥–æ 2 –∑–Ω–∞–∫–æ–≤\n          total_quantity: form.cargos.length\n        },\n        services: {\n          is_package: form.needPackaging,\n          is_documents_return: false,\n          is_fragile: false\n        },\n        promocode: null\n      };\n      \n      if (totalWeight < minWeight) {\n        console.log(`‚úàÔ∏è Nord Wheel: –≤–µ—Å —É–≤–µ–ª–∏—á–µ–Ω —Å ${totalWeight}–∫–≥ –¥–æ ${adjustedWeight}–∫–≥ (–º–∏–Ω–∏–º—É–º ${minWeight}–∫–≥)`);\n      }"
        },
        {
          "oldString": "      // –ü–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞ API - –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã\n      let price = 0;\n      let days = 0;\n      let details: any = {};\n\n      if (data.success) {\n        // –ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç API\n        price = data.price || data.total_cost || data.cost || 0;\n        days = data.days || data.delivery_days || data.delivery_time || 0;\n        details = {\n          totalCost: price,\n          deliveryCost: data.delivery_cost || 0,\n          pickupCost: data.pickup_cost || 0,\n          insuranceCost: data.insurance_cost || 0,\n          services: data.services || [],\n          currency: data.currency || 'RUB'\n        };",
          "newString": "      // Nord Wheel –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –∞–≤–∏–∞—Ç–∞—Ä–∏—Ñ–æ–≤\n      let price = 0;\n      let days = 0;\n      let details: any = {};\n\n      if (data.success && Array.isArray(data.data) && data.data.length > 0) {\n        // –§–æ—Ä–º–∞—Ç –∞–≤–∏–∞—Ç–∞—Ä–∏—Ñ–æ–≤ Nord Wheel\n        const airlineTariff = data.data[0]; // –ë–µ—Ä–µ–º –ø–µ—Ä–≤—ã–π —Ç–∞—Ä–∏—Ñ\n        price = parseFloat(airlineTariff.price) || 0;\n        days = 1; // –ê–≤–∏–∞–ø–µ—Ä–µ–≤–æ–∑–∫–∏ –æ–±—ã—á–Ω–æ 1 –¥–µ–Ω—å\n        details = {\n          airlineId: airlineTariff.airline_id,\n          airportFromId: airlineTariff.airport_from_id,\n          airportToId: airlineTariff.airport_to_id,\n          minPaidWeight: airlineTariff.min_paid_weight || 25,\n          originalWeight: totalWeight,\n          adjustedWeight: adjustedWeight,\n          currency: 'RUB',\n          transportType: 'aviation'\n        };\n        \n        console.log(`‚úàÔ∏è Nord Wheel –∞–≤–∏–∞—Ç–∞—Ä–∏—Ñ: ${price}‚ÇΩ (–≤–µ—Å: ${adjustedWeight}–∫–≥, –∞—ç—Ä–æ–ø–æ—Ä—Ç—ã: ${airlineTariff.airport_from_id}‚Üí${airlineTariff.airport_to_id})`);\n      } else if (data.success) {\n        // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞\n        price = data.price || data.total_cost || data.cost || 0;\n        days = data.days || data.delivery_days || data.delivery_time || 0;\n        details = {\n          totalCost: price,\n          deliveryCost: data.delivery_cost || 0,\n          pickupCost: data.pickup_cost || 0,\n          services: data.services || [],\n          currency: data.currency || 'RUB'\n        };"
        }
      ]
    },
    "output": "",
    "title": "app/page.tsx",
    "metadata": {
      "results": [
        {
          "diagnostics": {},
          "diff": "Index: /home/user/project/app/page.tsx\n===================================================================\n--- /home/user/project/app/page.tsx\n+++ /home/user/project/app/page.tsx\n@@ -3564,17 +3564,17 @@\n if (form.cargos.length > 1) {\n   console.log(`   üìê –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –≥–∞–±–∞—Ä–∏—Ç—ã: ${maxLength}√ó${maxWidth}√ó${maxHeight} —Å–º`);\n }\n \n-// üèôÔ∏è –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –ª–æ–∫–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Ñ–æ—Ä–º—ã\n+// üèôÔ∏è Nord Wheel - –∞–≤–∏–∞–ø–µ—Ä–µ–≤–æ–∑—á–∏–∫, –∏—Å–ø–æ–ª—å–∑—É–µ–º ID –∞—ç—Ä–æ–ø–æ—Ä—Ç–æ–≤ (–Ω–µ GUID —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤)\n const getDispatchLocation = () => {\n   if (form.fromTerminal) {\n     return {\n       type: 'terminal' as const,\n-      // –î–ª—è —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≥–æ—Ä–æ–¥–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω–∞–ª—ã\n-      terminal_id: form.fromCity.toLowerCase().includes('–º–æ—Å–∫–≤–∞') ? '0c7a2795-1220-486d-a7ce-8bcf130a1224' :\n-                  form.fromCity.toLowerCase().includes('—Å–∞–Ω–∫—Ç') || form.fromCity.toLowerCase().includes('—Å–ø–±') ? '3ca02b62-3632-4da0-8fde-de9d9c77c553' :\n-                  '0c7a2795-1220-486d-a7ce-8bcf130a1224', // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ú–æ—Å–∫–≤–∞\n+      // ID –∞—ç—Ä–æ–ø–æ—Ä—Ç–æ–≤ –¥–ª—è Nord Wheel: 1 = –ú–æ—Å–∫–≤–∞, 24 = –°–ü–±\n+      terminal_id: form.fromCity.toLowerCase().includes('–º–æ—Å–∫–≤–∞') ? '1' :\n+                  form.fromCity.toLowerCase().includes('—Å–∞–Ω–∫—Ç') || form.fromCity.toLowerCase().includes('—Å–ø–±') ? '24' :\n+                  '1', // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ú–æ—Å–∫–≤–∞\n       city_fias: form.fromCity.toLowerCase().includes('–º–æ—Å–∫–≤–∞') ? '0c5b2444-70a0-4932-980c-b4dc0d3f02b5' :\n                  form.fromCity.toLowerCase().includes('—Å–∞–Ω–∫—Ç') || form.fromCity.toLowerCase().includes('—Å–ø–±') ? 'c2deb16a-0330-4f05-821f-1d09c93331e6' :\n                  '0c5b2444-70a0-4932-980c-b4dc0d3f02b5' // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ú–æ—Å–∫–≤–∞\n     };\n@@ -3589,12 +3589,12 @@\n const getDestinationLocation = () => {\n   if (form.toTerminal) {\n     return {\n       type: 'terminal' as const,\n-      // –î–ª—è —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≥–æ—Ä–æ–¥–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω–∞–ª—ã\n-      terminal_id: form.toCity.toLowerCase().includes('–º–æ—Å–∫–≤–∞') ? '0c7a2795-1220-486d-a7ce-8bcf130a1224' :\n-                  form.toCity.toLowerCase().includes('—Å–∞–Ω–∫—Ç') || form.toCity.toLowerCase().includes('—Å–ø–±') ? '3ca02b62-3632-4da0-8fde-de9d9c77c553' :\n-                  '3ca02b62-3632-4da0-8fde-de9d9c77c553', // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –°–ü–±\n+      // ID –∞—ç—Ä–æ–ø–æ—Ä—Ç–æ–≤ –¥–ª—è Nord Wheel: 1 = –ú–æ—Å–∫–≤–∞, 24 = –°–ü–±\n+      terminal_id: form.toCity.toLowerCase().includes('–º–æ—Å–∫–≤–∞') ? '1' :\n+                  form.toCity.toLowerCase().includes('—Å–∞–Ω–∫—Ç') || form.toCity.toLowerCase().includes('—Å–ø–±') ? '24' :\n+                  '24', // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –°–ü–±\n       city_fias: form.toCity.toLowerCase().includes('–º–æ—Å–∫–≤–∞') ? '0c5b2444-70a0-4932-980c-b4dc0d3f02b5' :\n                  form.toCity.toLowerCase().includes('—Å–∞–Ω–∫—Ç') || form.toCity.toLowerCase().includes('—Å–ø–±') ? 'c2deb16a-0330-4f05-821f-1d09c93331e6' :\n                  'c2deb16a-0330-4f05-821f-1d09c93331e6' // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –°–ü–±\n     };\n"
        },
        {
          "diagnostics": {},
          "diff": "Index: /home/user/project/app/page.tsx\n===================================================================\n--- /home/user/project/app/page.tsx\n+++ /home/user/project/app/page.tsx\n@@ -3605,30 +3605,36 @@\n     };\n   }\n };\n \n-// –§–æ—Ä–º–∏—Ä—É–µ–º –∑–∞–ø—Ä–æ—Å –¥–ª—è –Ω–æ–≤–æ–≥–æ API NordWheel —Å —É—á–µ—Ç–æ–º –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Ñ–æ—Ä–º—ã\n+// Nord Wheel - –∞–≤–∏–∞–ø–µ—Ä–µ–≤–æ–∑—á–∏–∫ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –≤–µ—Å–æ–º 25–∫–≥\n+const minWeight = 25; // –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ–ø–ª–∞—á–∏–≤–∞–µ–º—ã–π –≤–µ—Å –¥–ª—è –∞–≤–∏–∞–ø–µ—Ä–µ–≤–æ–∑–æ–∫\n+const adjustedWeight = Math.max(totalWeight, minWeight);\n+\n+// –§–æ—Ä–º–∏—Ä—É–µ–º –∑–∞–ø—Ä–æ—Å –¥–ª—è Nord Wheel (–±–µ–∑ –ø–æ–ª–µ–π insurance, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–∑—ã–≤–∞—é—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç)\n const requestData = {\n   dispatch: {\n     location: getDispatchLocation()\n   },\n   destination: {\n     location: getDestinationLocation()\n   },\n   cargo: {\n-    total_weight: totalWeight,\n-    total_volume: totalVolume,\n+    total_weight: adjustedWeight,\n+    total_volume: Math.round(totalVolume * 100) / 100, // –û–∫—Ä—É–≥–ª—è–µ–º –¥–æ 2 –∑–Ω–∞–∫–æ–≤\n     total_quantity: form.cargos.length\n   },\n-  insurance: form.needInsurance && form.declaredValue ? form.declaredValue : 0,\n-  insurance_refuse: !form.needInsurance,\n   services: {\n     is_package: form.needPackaging,\n     is_documents_return: false,\n     is_fragile: false\n   },\n   promocode: null\n };\n+\n+if (totalWeight < minWeight) {\n+  console.log(`‚úàÔ∏è Nord Wheel: –≤–µ—Å —É–≤–µ–ª–∏—á–µ–Ω —Å ${totalWeight}–∫–≥ –¥–æ ${adjustedWeight}–∫–≥ (–º–∏–Ω–∏–º—É–º ${minWeight}–∫–≥)`);\n+}\n \n console.log('üöõ Nord Wheel –Ω–æ–≤—ã–π API –∑–∞–ø—Ä–æ—Å:', JSON.stringify(requestData, null, 2));\n \n const response = await fetch(apiUrl, {\n"
        },
        {
          "diagnostics": {},
          "diff": "Index: /home/user/project/app/page.tsx\n===================================================================\n--- /home/user/project/app/page.tsx\n+++ /home/user/project/app/page.tsx\n@@ -3666,22 +3666,38 @@\n \n const data = await response.json();\n console.log('üöõ Nord Wheel API –æ—Ç–≤–µ—Ç:', data);\n \n-// –ü–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞ API - –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã\n+// Nord Wheel –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –∞–≤–∏–∞—Ç–∞—Ä–∏—Ñ–æ–≤\n let price = 0;\n let days = 0;\n let details: any = {};\n \n-if (data.success) {\n-  // –ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç API\n+if (data.success && Array.isArray(data.data) && data.data.length > 0) {\n+  // –§–æ—Ä–º–∞—Ç –∞–≤–∏–∞—Ç–∞—Ä–∏—Ñ–æ–≤ Nord Wheel\n+  const airlineTariff = data.data[0]; // –ë–µ—Ä–µ–º –ø–µ—Ä–≤—ã–π —Ç–∞—Ä–∏—Ñ\n+  price = parseFloat(airlineTariff.price) || 0;\n+  days = 1; // –ê–≤–∏–∞–ø–µ—Ä–µ–≤–æ–∑–∫–∏ –æ–±—ã—á–Ω–æ 1 –¥–µ–Ω—å\n+  details = {\n+    airlineId: airlineTariff.airline_id,\n+    airportFromId: airlineTariff.airport_from_id,\n+    airportToId: airlineTariff.airport_to_id,\n+    minPaidWeight: airlineTariff.min_paid_weight || 25,\n+    originalWeight: totalWeight,\n+    adjustedWeight: adjustedWeight,\n+    currency: 'RUB',\n+    transportType: 'aviation'\n+  };\n+  \n+  console.log(`‚úàÔ∏è Nord Wheel –∞–≤–∏–∞—Ç–∞—Ä–∏—Ñ: ${price}‚ÇΩ (–≤–µ—Å: ${adjustedWeight}–∫–≥, –∞—ç—Ä–æ–ø–æ—Ä—Ç—ã: ${airlineTariff.airport_from_id}‚Üí${airlineTariff.airport_to_id})`);\n+} else if (data.success) {\n+  // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞\n   price = data.price || data.total_cost || data.cost || 0;\n   days = data.days || data.delivery_days || data.delivery_time || 0;\n   details = {\n     totalCost: price,\n     deliveryCost: data.delivery_cost || 0,\n     pickupCost: data.pickup_cost || 0,\n-    insuranceCost: data.insurance_cost || 0,\n     services: data.services || [],\n     currency: data.currency || 'RUB'\n   };\n } else if (data.price !== undefined) {\n"
        }
      ]
    },
    "time": {
      "start": 1763961247181,
      "end": 1763961247249
    }
  }
}
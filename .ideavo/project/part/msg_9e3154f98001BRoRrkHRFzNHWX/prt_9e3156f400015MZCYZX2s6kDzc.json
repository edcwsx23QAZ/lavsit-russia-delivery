{
  "id": "prt_9e3156f400015MZCYZX2s6kDzc",
  "messageID": "msg_9e3154f98001BRoRrkHRFzNHWX",
  "sessionID": "ses_6852784ecffeuHwynj83p2lr14",
  "type": "tool",
  "tool": "edit",
  "callID": "call_88929077",
  "state": {
    "status": "completed",
    "input": {
      "filePath": "components/diagnostic/DiagnosticHeader.tsx",
      "oldString": "const DiagnosticHeader = React.memo(function DiagnosticHeader({\n  onTestAllAPIs,\n  onRunFullTesting,\n  onUpdateProductData,\n  isFullTesting,\n  isUpdatingData,\n  updateStatus\n}: DiagnosticHeaderProps) {\n  return (\n    <div className=\"mb-6\">\n      <div className=\"mb-6\">\n        <h1 className=\"text-3xl font-bold mb-2 text-white\">Диагностика транспортных компаний</h1>\n        <p className=\"text-gray-400\">Проверка работоспособности API всех подключенных ТК</p>\n      </div>\n\n      <div className=\"flex gap-4 mb-6 flex-wrap\">\n        <Button onClick={onTestAllAPIs} className=\"bg-blue-600 hover:bg-blue-700\">\n          <Activity className=\"h-4 w-4 mr-2\" />\n          Тестировать все API\n        </Button>\n        <Button \n          onClick={onRunFullTesting} \n          disabled={isFullTesting}\n          className=\"bg-purple-600 hover:bg-purple-700\"\n        >\n          <TestTube className=\"h-4 w-4 mr-2\" />\n          {isFullTesting ? 'Полное тестирование...' : 'Полное тестирование'}\n        </Button>\n        <Button \n          onClick={() => window.open('/env-check', '_blank')} \n          variant=\"outline\" \n          className=\"text-white bg-gray-700 border-gray-500 hover:bg-gray-600\"\n        >\n          <Building2 className=\"h-4 w-4 mr-2\" />\n          Проверить переменные окружения\n        </Button>\n        <Button \n          onClick={() => {\n            window.open('https://docs.google.com/spreadsheets/d/1e0P91PfGKVIuSWDY0ceWkIE7jD-vzD_xrIesBeQno1Y/edit?gid=0#gid=0', '_blank');\n          }} \n          variant=\"outline\" \n          className=\"bg-green-600 hover:bg-green-700 text-white border-green-600\"\n          title=\"Открыть Google Sheets с базой товаров и размеров\"\n        >\n          <ExternalLink className=\"h-4 w-4 mr-2\" />\n          База товаров\n        </Button>\n        <Button \n          onClick={onUpdateProductData}\n          disabled={isUpdatingData}\n          variant=\"outline\"\n          className={\n            updateStatus === 'success' \n              ? \"bg-green-600 hover:bg-green-700 text-white border-green-600\" \n              : updateStatus === 'error'\n              ? \"bg-red-600 hover:bg-red-700 text-white border-red-600\"\n              : \"bg-blue-600 hover:bg-blue-700 text-white border-blue-600\"\n          }\n          title=\"Обновить данные о товарах из Google Sheets\"\n        >\n          {updateStatus === 'updating' ? (\n            <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n          ) : (\n            <Download className=\"h-4 w-4 mr-2\" />\n          )}\n          {updateStatus === 'updating' && 'Обновление...'}\n          {updateStatus === 'success' && 'Обновлено!'}\n          {updateStatus === 'error' && 'Ошибка'}\n          {updateStatus === 'idle' && 'Обновить данные'}\n        </Button>\n        <Button onClick={() => window.close()} variant=\"outline\" className=\"text-white bg-gray-700 border-gray-500 hover:bg-gray-600\">\n          Закрыть\n        </Button>\n      </div>\n    </div>\n  );\n});",
      "newString": "const DiagnosticHeader = React.memo(function DiagnosticHeader({\n  onTestAllAPIs,\n  onRunFullTesting,\n  onUpdateProductData,\n  isFullTesting,\n  isUpdatingData,\n  updateStatus\n}: DiagnosticHeaderProps) {\n  return (\n    <div className=\"mb-8 animate-in fade-in slide-in-from-top-4 duration-700\">\n      <div className=\"mb-8 text-center\">\n        <div className=\"inline-flex items-center gap-3 mb-4\">\n          <div className=\"p-3 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full shadow-lg\">\n            <Activity className=\"h-8 w-8 text-white\" />\n          </div>\n          <div>\n            <h1 className=\"text-4xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent\">\n              Диагностика транспортных компаний\n            </h1>\n            <p className=\"text-gray-400 text-lg mt-1\">\n              Комплексная проверка работоспособности API всех подключенных ТК\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"grid gap-3 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 mb-8\">\n        <Button\n          onClick={onTestAllAPIs}\n          className=\"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105\"\n          size=\"lg\"\n        >\n          <Activity className=\"h-5 w-5 mr-2\" />\n          Тестировать все API\n        </Button>\n\n        <Button\n          onClick={onRunFullTesting}\n          disabled={isFullTesting}\n          className=\"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed\"\n          size=\"lg\"\n        >\n          <TestTube className=\"h-5 w-5 mr-2\" />\n          {isFullTesting ? (\n            <>\n              <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n              Тестирование...\n            </>\n          ) : (\n            'Полное тестирование'\n          )}\n        </Button>\n\n        <Button\n          onClick={() => window.open('/env-check', '_blank')}\n          variant=\"outline\"\n          className=\"border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105\"\n          size=\"lg\"\n        >\n          <Building2 className=\"h-5 w-5 mr-2\" />\n          Переменные окружения\n        </Button>\n\n        <Button\n          onClick={() => {\n            window.open('https://docs.google.com/spreadsheets/d/1e0P91PfGKVIuSWDY0ceWkIE7jD-vzD_xrIesBeQno1Y/edit?gid=0#gid=0', '_blank');\n          }}\n          className=\"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105\"\n          size=\"lg\"\n          title=\"Открыть Google Sheets с базой товаров и размеров\"\n        >\n          <ExternalLink className=\"h-5 w-5 mr-2\" />\n          База товаров\n        </Button>\n\n        <Button\n          onClick={onUpdateProductData}\n          disabled={isUpdatingData}\n          className={`shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 ${\n            updateStatus === 'success'\n              ? \"bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800\"\n              : updateStatus === 'error'\n              ? \"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800\"\n              : \"bg-gradient-to-r from-cyan-600 to-cyan-700 hover:from-cyan-700 hover:to-cyan-800\"\n          }`}\n          size=\"lg\"\n          title=\"Обновить данные о товарах из Google Sheets\"\n        >\n          {updateStatus === 'updating' ? (\n            <RefreshCw className=\"h-5 w-5 mr-2 animate-spin\" />\n          ) : (\n            <Download className=\"h-5 w-5 mr-2\" />\n          )}\n          {updateStatus === 'updating' && 'Обновление...'}\n          {updateStatus === 'success' && 'Обновлено!'}\n          {updateStatus === 'error' && 'Ошибка'}\n          {updateStatus === 'idle' && 'Обновить данные'}\n        </Button>\n\n        <Button\n          onClick={() => window.close()}\n          variant=\"outline\"\n          className=\"border-red-600 text-red-400 hover:bg-red-900/20 hover:text-red-300 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105\"\n          size=\"lg\"\n        >\n          Закрыть\n        </Button>\n      </div>\n    </div>\n  );\n});"
    },
    "output": "",
    "metadata": {
      "diagnostics": {},
      "diff": "Index: /home/user/project/components/diagnostic/DiagnosticHeader.tsx\n===================================================================\n--- /home/user/project/components/diagnostic/DiagnosticHeader.tsx\n+++ /home/user/project/components/diagnostic/DiagnosticHeader.tsx\n@@ -21,70 +21,104 @@\n   isUpdatingData,\n   updateStatus\n }: DiagnosticHeaderProps) {\n   return (\n-    <div className=\"mb-6\">\n-      <div className=\"mb-6\">\n-        <h1 className=\"text-3xl font-bold mb-2 text-white\">Диагностика транспортных компаний</h1>\n-        <p className=\"text-gray-400\">Проверка работоспособности API всех подключенных ТК</p>\n+    <div className=\"mb-8 animate-in fade-in slide-in-from-top-4 duration-700\">\n+      <div className=\"mb-8 text-center\">\n+        <div className=\"inline-flex items-center gap-3 mb-4\">\n+          <div className=\"p-3 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full shadow-lg\">\n+            <Activity className=\"h-8 w-8 text-white\" />\n+          </div>\n+          <div>\n+            <h1 className=\"text-4xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent\">\n+              Диагностика транспортных компаний\n+            </h1>\n+            <p className=\"text-gray-400 text-lg mt-1\">\n+              Комплексная проверка работоспособности API всех подключенных ТК\n+            </p>\n+          </div>\n+        </div>\n       </div>\n \n-      <div className=\"flex gap-4 mb-6 flex-wrap\">\n-        <Button onClick={onTestAllAPIs} className=\"bg-blue-600 hover:bg-blue-700\">\n-          <Activity className=\"h-4 w-4 mr-2\" />\n+      <div className=\"grid gap-3 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 mb-8\">\n+        <Button\n+          onClick={onTestAllAPIs}\n+          className=\"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105\"\n+          size=\"lg\"\n+        >\n+          <Activity className=\"h-5 w-5 mr-2\" />\n           Тестировать все API\n         </Button>\n-        <Button \n-          onClick={onRunFullTesting} \n+\n+        <Button\n+          onClick={onRunFullTesting}\n           disabled={isFullTesting}\n-          className=\"bg-purple-600 hover:bg-purple-700\"\n+          className=\"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed\"\n+          size=\"lg\"\n         >\n-          <TestTube className=\"h-4 w-4 mr-2\" />\n-          {isFullTesting ? 'Полное тестирование...' : 'Полное тестирование'}\n+          <TestTube className=\"h-5 w-5 mr-2\" />\n+          {isFullTesting ? (\n+            <>\n+              <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n+              Тестирование...\n+            </>\n+          ) : (\n+            'Полное тестирование'\n+          )}\n         </Button>\n-        <Button \n-          onClick={() => window.open('/env-check', '_blank')} \n-          variant=\"outline\" \n-          className=\"text-white bg-gray-700 border-gray-500 hover:bg-gray-600\"\n+\n+        <Button\n+          onClick={() => window.open('/env-check', '_blank')}\n+          variant=\"outline\"\n+          className=\"border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105\"\n+          size=\"lg\"\n         >\n-          <Building2 className=\"h-4 w-4 mr-2\" />\n-          Проверить переменные окружения\n+          <Building2 className=\"h-5 w-5 mr-2\" />\n+          Переменные окружения\n         </Button>\n-        <Button \n+\n+        <Button\n           onClick={() => {\n             window.open('https://docs.google.com/spreadsheets/d/1e0P91PfGKVIuSWDY0ceWkIE7jD-vzD_xrIesBeQno1Y/edit?gid=0#gid=0', '_blank');\n-          }} \n-          variant=\"outline\" \n-          className=\"bg-green-600 hover:bg-green-700 text-white border-green-600\"\n+          }}\n+          className=\"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105\"\n+          size=\"lg\"\n           title=\"Открыть Google Sheets с базой товаров и размеров\"\n         >\n-          <ExternalLink className=\"h-4 w-4 mr-2\" />\n+          <ExternalLink className=\"h-5 w-5 mr-2\" />\n           База товаров\n         </Button>\n-        <Button \n+\n+        <Button\n           onClick={onUpdateProductData}\n           disabled={isUpdatingData}\n-          variant=\"outline\"\n-          className={\n-            updateStatus === 'success' \n-              ? \"bg-green-600 hover:bg-green-700 text-white border-green-600\" \n+          className={`shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 ${\n+            updateStatus === 'success'\n+              ? \"bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800\"\n               : updateStatus === 'error'\n-              ? \"bg-red-600 hover:bg-red-700 text-white border-red-600\"\n-              : \"bg-blue-600 hover:bg-blue-700 text-white border-blue-600\"\n-          }\n+              ? \"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800\"\n+              : \"bg-gradient-to-r from-cyan-600 to-cyan-700 hover:from-cyan-700 hover:to-cyan-800\"\n+          }`}\n+          size=\"lg\"\n           title=\"Обновить данные о товарах из Google Sheets\"\n         >\n           {updateStatus === 'updating' ? (\n-            <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n+            <RefreshCw className=\"h-5 w-5 mr-2 animate-spin\" />\n           ) : (\n-            <Download className=\"h-4 w-4 mr-2\" />\n+            <Download className=\"h-5 w-5 mr-2\" />\n           )}\n           {updateStatus === 'updating' && 'Обновление...'}\n           {updateStatus === 'success' && 'Обновлено!'}\n           {updateStatus === 'error' && 'Ошибка'}\n           {updateStatus === 'idle' && 'Обновить данные'}\n         </Button>\n-        <Button onClick={() => window.close()} variant=\"outline\" className=\"text-white bg-gray-700 border-gray-500 hover:bg-gray-600\">\n+\n+        <Button\n+          onClick={() => window.close()}\n+          variant=\"outline\"\n+          className=\"border-red-600 text-red-400 hover:bg-red-900/20 hover:text-red-300 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105\"\n+          size=\"lg\"\n+        >\n           Закрыть\n         </Button>\n       </div>\n     </div>\n"
    },
    "title": "components/diagnostic/DiagnosticHeader.tsx",
    "time": {
      "start": 1760451456834,
      "end": 1760451456843
    }
  }
}
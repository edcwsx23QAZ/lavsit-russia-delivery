{
  "id": "prt_9bc8be9c0001gtsSxzsjA3B44P",
  "messageID": "msg_9bc8bd29e001xWgR6nq06Teco6",
  "sessionID": "ses_6852784ecffeuHwynj83p2lr14",
  "type": "tool",
  "tool": "read",
  "callID": "toolu_017Mk5tekFcwzs4zAzQRtQjm",
  "state": {
    "status": "completed",
    "input": {
      "filePath": "/home/user/project/app/page.tsx",
      "offset": 1430,
      "limit": 300
    },
    "output": "<file>\n01431| \n01432|   // –†–∞—Å—á–µ—Ç –¥–ª—è –î–µ–ª–æ–≤—ã—Ö –õ–∏–Ω–∏–π —á–µ—Ä–µ–∑ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π API v2/calculator.json —Å –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π\n01433|   const calculateDellin = async (): Promise<CalculationResult> => {\n01434|     const apiUrl = 'https://api.dellin.ru/v2/calculator.json';\n01435|     const maxRetries = 2;\n01436|     \n01437|     console.log('üöÄ === –ù–ê–ß–ê–õ–û –†–ê–°–ß–ï–¢–ê –î–ï–õ–û–í–´–• –õ–ò–ù–ò–ô ===');\n01438|     console.log('üöÄ API URL:', apiUrl);\n01439|     \n01440|     try {\n01441|       let sessionID = await getDellinSessionId();\n01442|       \n01443|       if (!sessionID) {\n01444|         return {\n01445|           company: '–î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏',\n01446|           price: 0,\n01447|           days: 0,\n01448|           error: '–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å sessionID',\n01449|           apiUrl,\n01450|           requestData: null,\n01451|           responseData: null\n01452|         };\n01453|       }\n01454| \n01455|       // –í—ã—á–∏—Å–ª—è–µ–º —Ä–∞–∑–º–µ—Ä—ã –∏ –æ–±—ä–µ–º—ã\n01456|       const totalWeight = form.cargos.reduce((sum, cargo) => sum + cargo.weight, 0);\n01457|       const totalVolume = form.cargos.reduce((sum, cargo) => \n01458|         sum + (cargo.length * cargo.width * cargo.height) / 1000000, 0\n01459|       );\n01460|       const maxLength = Math.max(...form.cargos.map(c => c.length)) / 100; // –≤ –º–µ—Ç—Ä–∞—Ö\n01461|       const maxWidth = Math.max(...form.cargos.map(c => c.width)) / 100;\n01462|       const maxHeight = Math.max(...form.cargos.map(c => c.height)) / 100;\n01463| \n01464|       // –ü–æ–ª—É—á–∞–µ–º —Ç–µ—Ä–º–∏–Ω–∞–ª—ã –¥–ª—è –≥–æ—Ä–æ–¥–æ–≤ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)\n01465|       const fromTerminalId = !form.fromAddressDelivery ? await getDellinTerminalByDirection(form.fromCity, 'derival') : null;\n01466|       const toTerminalId = !form.toAddressDelivery ? await getDellinTerminalByDirection(form.toCity, 'arrival') : null;\n01467|       \n01468|       console.log('üè¢ –¢–ï–†–ú–ò–ù–ê–õ–´ –î–õ:');\n01469|       console.log('üè¢ form.fromAddressDelivery:', form.fromAddressDelivery);\n01470|       console.log('üè¢ form.toAddressDelivery:', form.toAddressDelivery);\n01471|       console.log('üè¢ fromTerminalId:', fromTerminalId);\n01472|       console.log('üè¢ toTerminalId:', toTerminalId);\n01473|       \n01474|       // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ —Ç–µ—Ä–º–∏–Ω–∞–ª—ã –Ω–∞–π–¥–µ–Ω—ã –¥–ª—è —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏\n01475|       if (!form.fromAddressDelivery && !fromTerminalId) {\n01476|         console.error('‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω —Ç–µ—Ä–º–∏–Ω–∞–ª –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –≥–æ—Ä–æ–¥–∞:', form.fromCity);\n01477|         return {\n01478|           company: '–î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏',\n01479|           price: 0,\n01480|           days: 0,\n01481|           error: `–ù–µ –Ω–∞–π–¥–µ–Ω —Ç–µ—Ä–º–∏–Ω–∞–ª –î–µ–ª–æ–≤—ã—Ö –õ–∏–Ω–∏–π –≤ –≥–æ—Ä–æ–¥–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è: ${form.fromCity}`,\n01482|           apiUrl,\n01483|           requestData: null,\n01484|           responseData: null\n01485|         };\n01486|       }\n01487|       \n01488|       if (!form.toAddressDelivery && !toTerminalId) {\n01489|         console.error('‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω —Ç–µ—Ä–º–∏–Ω–∞–ª –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –≥–æ—Ä–æ–¥–∞:', form.toCity);\n01490|         return {\n01491|           company: '–î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏',\n01492|           price: 0,\n01493|           days: 0,\n01494|           error: `–ù–µ –Ω–∞–π–¥–µ–Ω —Ç–µ—Ä–º–∏–Ω–∞–ª –î–µ–ª–æ–≤—ã—Ö –õ–∏–Ω–∏–π –≤ –≥–æ—Ä–æ–¥–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è: ${form.toCity}`,\n01495|           apiUrl,\n01496|           requestData: null,\n01497|           responseData: null\n01498|         };\n01499|       }\n01500| \n01501|       // –ü–æ–ª—É—á–∞–µ–º UID —É–ø–∞–∫–æ–≤–∫–∏ crate_with_bubble (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞ —É–ø–∞–∫–æ–≤–∫–∞)\n01502|       let packageUid: string | null = null;\n01503|       console.log('=== –ù–ê–ß–ê–õ–û –û–¢–õ–ê–î–ö–ò –£–ü–ê–ö–û–í–ö–ò ===');\n01504|       console.log('üîç –û–¢–õ–ê–î–ö–ê –£–ü–ê–ö–û–í–ö–ò: form.needPackaging =', form.needPackaging);\n01505|       console.log('üîç –û–¢–õ–ê–î–ö–ê –£–ü–ê–ö–û–í–ö–ò: typeof form.needPackaging =', typeof form.needPackaging);\n01506|       \n01507|       if (form.needPackaging) {\n01508|         console.log('üîç ‚úÖ –£–ü–ê–ö–û–í–ö–ê –¢–†–ï–ë–£–ï–¢–°–Ø - –ó–ê–ü–†–ê–®–ò–í–ê–ï–ú UID...');\n01509|         try {\n01510|           packageUid = await getDellinCrateWithBubbleUid();\n01511|           console.log('üîç ‚úÖ –ü–û–õ–£–ß–ï–ù packageUid –∏–∑ API:', packageUid);\n01512|           \n01513|           // –í–†–ï–ú–ï–ù–ù–û: –µ—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∏–ª–∏ UID –∏–∑ API, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ—Å—Ç–æ–≤—ã–π\n01514|           if (!packageUid) {\n01515|             packageUid = '0xa6a7bd2bf950e67f4b2cf7cc3a97c111';\n01516|             console.log('üîç üß™ –ò–°–ü–û–õ–¨–ó–£–ï–ú –¢–ï–°–¢–û–í–´–ô UID:', packageUid);\n01517|           }\n01518|           \n01519|           console.log('üîç ‚úÖ –§–ò–ù–ê–õ–¨–ù–´–ô packageUid:', packageUid);\n01520|           console.log('üîç ‚úÖ typeof packageUid:', typeof packageUid);\n01521|           console.log('üîç ‚úÖ packageUid truthy:', !!packageUid);\n01522|         } catch (error) {\n01523|           console.log('üîç ‚ùå –û–®–ò–ë–ö–ê –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ packageUid:', error);\n01524|           // –í–†–ï–ú–ï–ù–ù–û: –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ—Å—Ç–æ–≤—ã–π UID –ø—Ä–∏ –æ—à–∏–±–∫–µ\n01525|           packageUid = '0xa6a7bd2bf950e67f4b2cf7cc3a97c111';\n01526|           console.log('üîç üß™ –ò–°–ü–û–õ–¨–ó–£–ï–ú –¢–ï–°–¢–û–í–´–ô UID –ø–æ—Å–ª–µ –æ—à–∏–±–∫–∏:', packageUid);\n01527|         }\n01528|       } else {\n01529|         console.log('üîç ‚ùå –£–ø–∞–∫–æ–≤–∫–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º –ø–æ–ª—É—á–µ–Ω–∏–µ UID');\n01530|       }\n01531|       console.log('=== –ö–û–ù–ï–¶ –û–¢–õ–ê–î–ö–ò –£–ü–ê–ö–û–í–ö–ò ===');\n01532| \n01533|       // –§–æ—Ä–º–∏—Ä—É–µ–º –¥–∞—Ç—É –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞ –∑–∞–≤—Ç—Ä–∞\n01534|       const tomorrow = new Date();\n01535|       tomorrow.setDate(tomorrow.getDate() + 1);\n01536|       const produceDate = tomorrow.toISOString().split('T')[0];\n01537| \n01538|       // –û—Ç–ª–∞–¥–∫–∞ –ø–µ—Ä–µ–¥ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∑–∞–ø—Ä–æ—Å–∞\n01539|       console.log('=== –û–¢–õ–ê–î–ö–ê –§–û–†–ú–ò–†–û–í–ê–ù–ò–Ø –ó–ê–ü–†–û–°–ê ===');\n01540|       console.log('üîç form.needPackaging =', form.needPackaging, '(—Ç–∏–ø:', typeof form.needPackaging, ')');\n01541|       console.log('üîç packageUid =', packageUid, '(—Ç–∏–ø:', typeof packageUid, ')');\n01542|       console.log('üîç packageUid truthy =', !!packageUid);\n01543|       console.log('üîç –£—Å–ª–æ–≤–∏–µ (form.needPackaging && packageUid) =', form.needPackaging && packageUid);\n01544|       \n01545|       if (form.needPackaging && packageUid) {\n01546|         console.log('‚úÖ PACKAGES –ë–£–î–ï–¢ –î–û–ë–ê–í–õ–ï–ù –í –ó–ê–ü–†–û–°!');\n01547|       } else {\n01548|         console.log('‚ùå PACKAGES –ù–ï –ë–£–î–ï–¢ –î–û–ë–ê–í–õ–ï–ù:');\n01549|         if (!form.needPackaging) console.log('  - form.needPackaging = false');\n01550|         if (!packageUid) console.log('  - packageUid –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç/null');\n01551|       }\n01552| \n01553|       // –§–æ—Ä–º–∏—Ä—É–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑–∞–ø—Ä–æ—Å–∞ —Å–æ–≥–ª–∞—Å–Ω–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏\n01554|       const requestData = {\n01555|         appkey: 'E6C50E91-8E93-440F-9CC6-DEF9F0D68F1B',\n01556|         sessionID: sessionID,\n01557|         delivery: {\n01558|           deliveryType: {\n01559|             type: 'auto'  // –í—Å–µ–≥–¥–∞ \"auto\" –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é\n01560|           },\n01561|           derival: {\n01562|             produceDate: produceDate,  // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –¥–∞—Ç–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è\n01563|             variant: form.fromAddressDelivery ? 'address' : 'terminal',\n01564|             ...(form.fromAddressDelivery ? {\n01565|               address: {\n01566|                 search: form.fromAddress || form.fromCity\n01567|               }\n01568|             } : (fromTerminalId ? {\n01569|               terminalID: fromTerminalId\n01570|             } : {\n01571|               address: {\n01572|                 search: form.fromCity\n01573|               }\n01574|             })),\n01575|             time: {\n01576|               worktimeStart: '10:00',\n01577|               worktimeEnd: '18:00',\n01578|               breakStart: '13:00',\n01579|               breakEnd: '14:00',\n01580|               exactTime: false\n01581|             }\n01582|             // handling –≤ derival –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è —Å–æ–≥–ª–∞—Å–Ω–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏\n01583|           },\n01584|           arrival: {\n01585|             variant: form.toAddressDelivery ? 'address' : 'terminal',\n01586|             ...(form.toAddressDelivery ? {\n01587|               address: {\n01588|                 search: form.toAddress || form.toCity\n01589|               }\n01590|             } : (toTerminalId ? {\n01591|               terminalID: toTerminalId\n01592|             } : {\n01593|               address: {\n01594|                 search: form.toCity\n01595|               }\n01596|             })),\n01597|             time: {\n01598|               worktimeStart: '10:00',\n01599|               worktimeEnd: '18:00',\n01600|               breakStart: '13:00',\n01601|               breakEnd: '14:00',\n01602|               exactTime: false\n01603|             },\n01604|             // handling –≤ arrival –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–¥—ä–µ–º\n01605|             ...(form.needCarry ? {\n01606|               handling: {\n01607|                 freightLift: form.hasFreightLift, // true —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å –≥–∞–ª–æ—á–∫–∞ \"–Ω–∞–ª–∏—á–∏–µ –≥—Ä—É–∑–æ–≤–æ–≥–æ –ª–∏—Ñ—Ç–∞\"\n01608|                 toFloor: form.floor, // —ç—Ç–∞–∂ –∏–∑ —Ñ–æ—Ä–º—ã\n01609|                 carry: 0\n01610|               }\n01611|             } : {})\n01612|           },\n01613|           ...(form.needPackaging && packageUid ? {\n01614|             packages: [{\n01615|               uid: packageUid,  // UID —É–ø–∞–∫–æ–≤–∫–∏ crate_with_bubble –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞\n01616|               count: 1  // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 1\n01617|             }]\n01618|           } : {})\n01619|         },\n01620|         cargo: {\n01621|           quantity: form.cargos.length,\n01622|           length: maxLength,\n01623|           width: maxWidth,\n01624|           height: maxHeight,\n01625|           weight: totalWeight,\n01626|           totalVolume: totalVolume,\n01627|           totalWeight: totalWeight,\n01628|           oversizedWeight: 0,\n01629|           oversizedVolume: 0,\n01630|           hazardClass: 0,  // –í—Å–µ–≥–¥–∞ 0 –µ—Å–ª–∏ –Ω–µ—Ç –æ–ø–∞—Å–Ω—ã—Ö –≥—Ä—É–∑–æ–≤\n01631|           ...(form.needInsurance && form.declaredValue > 0 ? {\n01632|             insurance: {\n01633|               statedValue: form.declaredValue,\n01634|               term: true  // –í—Å–µ–≥–¥–∞ true –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è\n01635|             }\n01636|           } : {})\n01637|         },\n01638|         payment: {\n01639|           type: 'noncash',  // –í—Å–µ–≥–¥–∞ \"noncash\"\n01640|           paymentCitySearch: {\n01641|             search: form.fromCity  // –ì–æ—Ä–æ–¥ –æ–ø–ª–∞—Ç—ã\n01642|           }\n01643|         }\n01644|       };\n01645| \n01646|       console.log('üöÄ –ò–¢–û–ì–û–í–´–ô –ó–ê–ü–†–û–° –ö –î–õ:', JSON.stringify(requestData, null, 2));\n01647|       \n01648|       // –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–æ–∫–∞ packages\n01649|       if (requestData.delivery.packages) {\n01650|         console.log('‚úÖ PACKAGES –ù–ê–ô–î–ï–ù –í –ó–ê–ü–†–û–°–ï:', requestData.delivery.packages);\n01651|       } else {\n01652|         console.log('‚ùå PACKAGES –ù–ï –ù–ê–ô–î–ï–ù –í –ó–ê–ü–†–û–°–ï');\n01653|         console.log('   form.needPackaging =', form.needPackaging);\n01654|         console.log('   packageUid =', packageUid);\n01655|         console.log('   –£—Å–ª–æ–≤–∏–µ:', form.needPackaging && packageUid);\n01656|       }\n01657| \n01658|       // –ü–æ–ø—ã—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ —Å –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö\n01659|       let response: any = null;\n01660|       let data: any = null;\n01661|       \n01662|       for (let attempt = 1; attempt <= maxRetries; attempt++) {\n01663|         console.log(`üîÑ –î–õ: –ø–æ–ø—ã—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ ${attempt}/${maxRetries}`);\n01664|         \n01665|         response = await fetch(apiUrl, {\n01666|           method: 'POST',\n01667|           headers: {\n01668|             'Content-Type': 'application/json',\n01669|             'Accept': 'application/json'\n01670|           },\n01671|           body: JSON.stringify(requestData)\n01672|         });\n01673| \n01674|         try {\n01675|           data = await response.json();\n01676|         } catch (parseError) {\n01677|           console.error('‚ùå –û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON –æ—Ç–≤–µ—Ç–∞ –î–õ:', parseError);\n01678|           throw new Error(`–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –æ—Ç–≤–µ—Ç–∞ API: ${parseError instanceof Error ? parseError.message : '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}`);\n01679|         }\n01680|         \n01681|         console.log('üöÄ –û–¢–í–ï–¢ –î–õ response.ok:', response.ok);\n01682|         console.log('üöÄ –û–¢–í–ï–¢ –î–õ status:', response.status);\n01683|         console.log('üöÄ –û–¢–í–ï–¢ –î–õ data:', data);\n01684|         \n01685|         // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏\n01686|         const isAuthError = response.status === 401 || \n01687|                            response.status === 403 ||\n01688|                            (response.status === 400 && data?.errors?.some((err: any) => \n01689|                              err.detail?.toLowerCase()?.includes('session') ||\n01690|                              err.detail?.toLowerCase()?.includes('auth') ||\n01691|                              err.detail?.toLowerCase()?.includes('invalid')\n01692|                            ));\n01693| \n01694|         if (isAuthError && attempt < maxRetries) {\n01695|           console.log('üîÑ –î–õ: –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –æ—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –≤—ã–ø–æ–ª–Ω—è–µ–º –ø–æ–≤—Ç–æ—Ä–Ω—É—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é...');\n01696|           const newSessionId = await getDellinSessionId();\n01697|           if (newSessionId) {\n01698|             console.log('‚úÖ –î–õ: –ø–æ–ª—É—á–µ–Ω –Ω–æ–≤—ã–π SessionID, –æ–±–Ω–æ–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å...');\n01699|             // –û–±–Ω–æ–≤–ª—è–µ–º sessionID –≤ –∑–∞–ø—Ä–æ—Å–µ\n01700|             requestData.sessionID = newSessionId;\n01701|             sessionID = newSessionId;\n01702|             continue; // –ü—Ä–æ–±—É–µ–º –µ—â–µ —Ä–∞–∑ —Å –Ω–æ–≤–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π\n01703|           } else {\n01704|             console.error('‚ùå –î–õ: –Ω–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–π SessionID');\n01705|             break;\n01706|           }\n01707|         }\n01708|         \n01709|         if (response.status === 400 && data?.errors) {\n01710|           console.log('=== –ê–ù–ê–õ–ò–ó –û–®–ò–ë–ö–ò 400 ===');\n01711|           console.log('üîç –û—à–∏–±–∫–∏:', data.errors);\n01712|           data.errors.forEach((error: any, index: number) => {\n01713|             console.log(`üîç –û—à–∏–±–∫–∞ ${index + 1}:`, error);\n01714|             console.log(`   - –ü–æ–ª–µ: ${error.field || '–Ω–µ —É–∫–∞–∑–∞–Ω–æ'}`);\n01715|             console.log(`   - –°–æ–æ–±—â–µ–Ω–∏–µ: ${error.detail || error.message || '–Ω–µ —É–∫–∞–∑–∞–Ω–æ'}`);\n01716|           });\n01717|           console.log('=== –ö–û–ù–ï–¶ –ê–ù–ê–õ–ò–ó–ê –û–®–ò–ë–ö–ò 400 ===');\n01718|         }\n01719| \n01720|         // –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å —É—Å–ø–µ—à–Ω—ã–π –∏–ª–∏ –Ω–µ —Å–≤—è–∑–∞–Ω —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π, –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É\n01721|         break;\n01722|       }\n01723| \n01724|       // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –æ—à–∏–±–∫–∏ –ü–ï–†–ï–î –∞–Ω–∞–ª–∏–∑–æ–º –¥–∞–Ω–Ω—ã—Ö\n01725|       if (!response.ok || !data.data) {\n01726|         console.log('‚ùå –û—à–∏–±–æ—á–Ω—ã–π –æ—Ç–≤–µ—Ç API - –ø—Ä–æ–ø—É—Å–∫–∞–µ–º –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö');\n01727|         const errorMessage = data.metadata?.detail || \n01728|                            data.metadata?.message || \n01729|                            data.errors?.[0]?.detail || \n01730|                            (data.metadata?.status !== 200 ? `HTTP ${data.metadata?.status}` : '') ||\n\n(File has more lines. Use 'offset' parameter to read beyond line 1730)\n</file>",
    "metadata": {
      "preview": "\n  // –†–∞—Å—á–µ—Ç –¥–ª—è –î–µ–ª–æ–≤—ã—Ö –õ–∏–Ω–∏–π —á–µ—Ä–µ–∑ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π API v2/calculator.json —Å –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π\n  const calculateDellin = async (): Promise<CalculationResult> => {\n    const apiUrl = 'https://api.dellin.ru/v2/calculator.json';\n    const maxRetries = 2;\n    \n    console.log('üöÄ === –ù–ê–ß–ê–õ–û –†–ê–°–ß–ï–¢–ê –î–ï–õ–û–í–´–• –õ–ò–ù–ò–ô ===');\n    console.log('üöÄ API URL:', apiUrl);\n    \n    try {\n      let sessionID = await getDellinSessionId();\n      \n      if (!sessionID) {\n        return {\n          company: '–î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏',\n          price: 0,\n          days: 0,\n          error: '–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å sessionID',\n          apiUrl,\n          requestData: null,"
    },
    "title": "app/page.tsx",
    "time": {
      "start": 1759804911137,
      "end": 1759804911142
    }
  }
}
{
  "id": "prt_acc3f412f001qQRWXJrjla4aU9",
  "sessionID": "ses_54b97e247ffenCZZa4jZiIWD0l",
  "messageID": "msg_acc3f313200175xYoKrU1rp5lz",
  "type": "tool",
  "callID": "call_562d40e11f0944aeb19f899f",
  "tool": "bash",
  "state": {
    "status": "completed",
    "input": {
      "command": "curl -X POST http://localhost:3000/api/vozovoz-parser-hybrid -H \"Content-Type: application/json\" -d '{\"fromCity\":\"Москва\",\"toCity\":\"Санкт-Петербург\",\"fromAddressDelivery\":false,\"toAddressDelivery\":true,\"toAddress\":\"Невский проспект д.132\",\"length\":200,\"width\":100,\"height\":100,\"weight\":100,\"needInsurance\":false,\"declaredValue\":0,\"needPackaging\":false,\"needLoading\":false,\"hasFreightElevator\":false,\"floor\":1}' 2>/dev/null",
      "description": "Test updated hybrid parser after restart"
    },
    "output": "<!DOCTYPE html><html><head><style data-next-hide-fouc=\"true\">body{display:none}</style><noscript data-next-hide-fouc=\"true\"><style>body{display:block}</style></noscript><meta charSet=\"utf-8\"/><meta name=\"viewport\" content=\"width=device-width\"/><meta name=\"next-head-count\" content=\"2\"/><noscript data-n-css=\"\"></noscript><script defer=\"\" nomodule=\"\" src=\"/_next/static/chunks/polyfills.js\"></script><script src=\"/_next/static/chunks/fallback/main.js\" defer=\"\"></script><script src=\"/_next/static/chunks/fallback/pages/_app.js\" defer=\"\"></script><script src=\"/_next/static/chunks/fallback/pages/_error.js\" defer=\"\"></script><noscript id=\"__next_css__DO_NOT_USE__\"></noscript></head><body><div id=\"__next\"></div><script src=\"/_next/static/chunks/fallback/react-refresh.js\"></script><script id=\"__NEXT_DATA__\" type=\"application/json\">{\"props\":{\"pageProps\":{\"statusCode\":500}},\"page\":\"/_error\",\"query\":{},\"buildId\":\"development\",\"isFallback\":false,\"err\":{\"name\":\"ModuleBuildError\",\"source\":\"server\",\"message\":\"Module build failed (from ./node_modules/next/dist/build/webpack/loaders/next-swc-loader.js):\\nError: \\n  x Expected a semicolon\\n     ,-[/home/user/project/app/api/vozovoz-parser-hybrid/route.ts:309:1]\\n 309 |     }\\n 310 |     \\n 311 |     // Если никаких услуг не найдено, добавляем общую стоимость\\n 312 |     if (services.length === 0 \\u0026\\u0026 totalPrice \\u003e 0) {\\n     :     ^\\n 313 |       services.push({\\n 314 |         name: 'Доставка груза',\\n 315 |         description: `${params.fromCity} - ${params.toCity}`,\\n     `----\\n\\n  x Expected a semicolon\\n     ,-[/home/user/project/app/api/vozovoz-parser-hybrid/route.ts:346:1]\\n 346 |       parseTime: parseFloat(parseTime)\\n 347 |     };\\n 348 | \\n 349 |   } catch (error: any) {\\n     :     ^^^^^\\n 350 |     console.error('❌ Ошибка гибридного парсера:', error);\\n 351 |     throw new Error(`Ошибка парсера: ${error.message}`);\\n 352 |   }\\n     `----\\n\\n  x Expression expected\\n     ,-[/home/user/project/app/api/vozovoz-parser-hybrid/route.ts:350:1]\\n 350 |     console.error('❌ Ошибка гибридного парсера:', error);\\n 351 |     throw new Error(`Ошибка парсера: ${error.message}`);\\n 352 |   }\\n 353 | }\\n     : ^\\n 354 | \\n 355 | export async function POST(request: NextRequest) {\\n 356 |   try {\\n     `----\\n\\n\\nCaused by:\\n    Syntax Error\",\"stack\":\"ModuleBuildError: Module build failed (from ./node_modules/next/dist/build/webpack/loaders/next-swc-loader.js):\\nError: \\n  \\u001b[31mx\\u001b[0m Expected a semicolon\\n     ,-[\\u001b[36;1;4m/home/user/project/app/api/vozovoz-parser-hybrid/route.ts\\u001b[0m:309:1]\\n \\u001b[2m309\\u001b[0m |     }\\n \\u001b[2m310\\u001b[0m |     \\n \\u001b[2m311\\u001b[0m |     // Если никаких услуг не найдено, добавляем общую стоимость\\n \\u001b[2m312\\u001b[0m |     if (services.length === 0 \\u0026\\u0026 totalPrice \\u003e 0) {\\n     : \\u001b[31;1m    ^\\u001b[0m\\n \\u001b[2m313\\u001b[0m |       services.push({\\n \\u001b[2m314\\u001b[0m |         name: 'Доставка груза',\\n \\u001b[2m315\\u001b[0m |         description: `${params.fromCity} - ${params.toCity}`,\\n     `----\\n\\n  \\u001b[31mx\\u001b[0m Expected a semicolon\\n     ,-[\\u001b[36;1;4m/home/user/project/app/api/vozovoz-parser-hybrid/route.ts\\u001b[0m:346:1]\\n \\u001b[2m346\\u001b[0m |       parseTime: parseFloat(parseTime)\\n \\u001b[2m347\\u001b[0m |     };\\n \\u001b[2m348\\u001b[0m | \\n \\u001b[2m349\\u001b[0m |   } catch (error: any) {\\n     : \\u001b[31;1m    ^^^^^\\u001b[0m\\n \\u001b[2m350\\u001b[0m |     console.error('❌ Ошибка гибридного парсера:', error);\\n \\u001b[2m351\\u001b[0m |     throw new Error(`Ошибка парсера: ${error.message}`);\\n \\u001b[2m352\\u001b[0m |   }\\n     `----\\n\\n  \\u001b[31mx\\u001b[0m Expression expected\\n     ,-[\\u001b[36;1;4m/home/user/project/app/api/vozovoz-parser-hybrid/route.ts\\u001b[0m:350:1]\\n \\u001b[2m350\\u001b[0m |     console.error('❌ Ошибка гиб��идного парсера:', error);\\n \\u001b[2m351\\u001b[0m |     throw new Error(`Ошибка парсера: ${error.message}`);\\n \\u001b[2m352\\u001b[0m |   }\\n \\u001b[2m353\\u001b[0m | }\\n     : \\u001b[31;1m^\\u001b[0m\\n \\u001b[2m354\\u001b[0m | \\n \\u001b[2m355\\u001b[0m | export async function POST(request: NextRequest) {\\n \\u001b[2m356\\u001b[0m |   try {\\n     `----\\n\\n\\nCaused by:\\n    Syntax Error\\n    at processResult (/home/user/project/node_modules/next/dist/compiled/webpack/bundle5.js:28:400590)\\n    at /home/user/project/node_modules/next/dist/compiled/webpack/bundle5.js:28:402302\\n    at /home/user/project/node_modules/next/dist/compiled/loader-runner/LoaderRunner.js:1:8645\\n    at /home/user/project/node_modules/next/dist/compiled/loader-runner/LoaderRunner.js:1:5019\\n    at r.callback (/home/user/project/node_modules/next/dist/compiled/loader-runner/LoaderRunner.js:1:4039)\"},\"gip\":true,\"scriptLoader\":[]}</script></body></html>",
    "title": "curl -X POST http://localhost:3000/api/vozovoz-parser-hybrid -H \"Content-Type: application/json\" -d '{\"fromCity\":\"Москва\",\"toCity\":\"Санкт-Петербург\",\"fromAddressDelivery\":false,\"toAddressDelivery\":true,\"toAddress\":\"Невский проспект д.132\",\"length\":200,\"width\":100,\"height\":100,\"weight\":100,\"needInsurance\":false,\"declaredValue\":0,\"needPackaging\":false,\"needLoading\":false,\"hasFreightElevator\":false,\"floor\":1}' 2>/dev/null",
    "metadata": {
      "output": "<!DOCTYPE html><html><head><style data-next-hide-fouc=\"true\">body{display:none}</style><noscript data-next-hide-fouc=\"true\"><style>body{display:block}</style></noscript><meta charSet=\"utf-8\"/><meta name=\"viewport\" content=\"width=device-width\"/><meta name=\"next-head-count\" content=\"2\"/><noscript data-n-css=\"\"></noscript><script defer=\"\" nomodule=\"\" src=\"/_next/static/chunks/polyfills.js\"></script><script src=\"/_next/static/chunks/fallback/main.js\" defer=\"\"></script><script src=\"/_next/static/chunks/fallback/pages/_app.js\" defer=\"\"></script><script src=\"/_next/static/chunks/fallback/pages/_error.js\" defer=\"\"></script><noscript id=\"__next_css__DO_NOT_USE__\"></noscript></head><body><div id=\"__next\"></div><script src=\"/_next/static/chunks/fallback/react-refresh.js\"></script><script id=\"__NEXT_DATA__\" type=\"application/json\">{\"props\":{\"pageProps\":{\"statusCode\":500}},\"page\":\"/_error\",\"query\":{},\"buildId\":\"development\",\"isFallback\":false,\"err\":{\"name\":\"ModuleBuildError\",\"source\":\"server\",\"message\":\"Module build failed (from ./node_modules/next/dist/build/webpack/loaders/next-swc-loader.js):\\nError: \\n  x Expected a semicolon\\n     ,-[/home/user/project/app/api/vozovoz-parser-hybrid/route.ts:309:1]\\n 309 |     }\\n 310 |     \\n 311 |     // Если никаких услуг не найдено, добавляем общую стоимость\\n 312 |     if (services.length === 0 \\u0026\\u0026 totalPrice \\u003e 0) {\\n     :     ^\\n 313 |       services.push({\\n 314 |         name: 'Доставка груза',\\n 315 |         description: `${params.fromCity} - ${params.toCity}`,\\n     `----\\n\\n  x Expected a semicolon\\n     ,-[/home/user/project/app/api/vozovoz-parser-hybrid/route.ts:346:1]\\n 346 |       parseTime: parseFloat(parseTime)\\n 347 |     };\\n 348 | \\n 349 |   } catch (error: any) {\\n     :     ^^^^^\\n 350 |     console.error('❌ Ошибка гибридного парсера:', error);\\n 351 |     throw new Error(`Ошибка парсера: ${error.message}`);\\n 352 |   }\\n     `----\\n\\n  x Expression expected\\n     ,-[/home/user/project/app/api/vozovoz-parser-hybrid/route.ts:350:1]\\n 350 |     console.error('❌ Ошибка гибридного парсера:', error);\\n 351 |     throw new Error(`Ошибка парсера: ${error.message}`);\\n 352 |   }\\n 353 | }\\n     : ^\\n 354 | \\n 355 | export async function POST(request: NextRequest) {\\n 356 |   try {\\n     `----\\n\\n\\nCaused by:\\n    Syntax Error\",\"stack\":\"ModuleBuildError: Module build failed (from ./node_modules/next/dist/build/webpack/loaders/next-swc-loader.js):\\nError: \\n  \\u001b[31mx\\u001b[0m Expected a semicolon\\n     ,-[\\u001b[36;1;4m/home/user/project/app/api/vozovoz-parser-hybrid/route.ts\\u001b[0m:309:1]\\n \\u001b[2m309\\u001b[0m |     }\\n \\u001b[2m310\\u001b[0m |     \\n \\u001b[2m311\\u001b[0m |     // Если никаких услуг не найдено, добавляем общую стоимость\\n \\u001b[2m312\\u001b[0m |     if (services.length === 0 \\u0026\\u0026 totalPrice \\u003e 0) {\\n     : \\u001b[31;1m    ^\\u001b[0m\\n \\u001b[2m313\\u001b[0m |       services.push({\\n \\u001b[2m314\\u001b[0m |         name: 'Доставка груза',\\n \\u001b[2m315\\u001b[0m |         description: `${params.fromCity} - ${params.toCity}`,\\n     `----\\n\\n  \\u001b[31mx\\u001b[0m Expected a semicolon\\n     ,-[\\u001b[36;1;4m/home/user/project/app/api/vozovoz-parser-hybrid/route.ts\\u001b[0m:346:1]\\n \\u001b[2m346\\u001b[0m |       parseTime: parseFloat(parseTime)\\n \\u001b[2m347\\u001b[0m |     };\\n \\u001b[2m348\\u001b[0m | \\n \\u001b[2m349\\u001b[0m |   } catch (error: any) {\\n     : \\u001b[31;1m    ^^^^^\\u001b[0m\\n \\u001b[2m350\\u001b[0m |     console.error('❌ Ошибка гибридного парсера:', error);\\n \\u001b[2m351\\u001b[0m |     throw new Error(`Ошибка парсера: ${error.message}`);\\n \\u001b[2m352\\u001b[0m |   }\\n     `----\\n\\n  \\u001b[31mx\\u001b[0m Expression expected\\n     ,-[\\u001b[36;1;4m/home/user/project/app/api/vozovoz-parser-hybrid/route.ts\\u001b[0m:350:1]\\n \\u001b[2m350\\u001b[0m |     console.error('❌ Ошибка гиб��идного парсера:', error);\\n \\u001b[2m351\\u001b[0m |     throw new Error(`Ошибка парсера: ${error.message}`);\\n \\u001b[2m352\\u001b[0m |   }\\n \\u001b[2m353\\u001b[0m | }\\n     : \\u001b[31;1m^\\u001b[0m\\n \\u001b[2m354\\u001b[0m | \\n \\u001b[2m355\\u001b[0m | export async function POST(request: NextRequest) {\\n \\u001b[2m356\\u001b[0m |   try {\\n     `----\\n\\n\\nCaused by:\\n    Syntax Error\\n    at processResult (/home/user/project/node_modules/next/dist/compiled/webpack/bundle5.js:28:400590)\\n    at /home/user/project/node_modules/next/dist/compiled/webpack/bundle5.js:28:402302\\n    at /home/user/project/node_modules/next/dist/compiled/loader-runner/LoaderRunner.js:1:8645\\n    at /home/user/project/node_modules/next/dist/compiled/loader-runner/LoaderRunner.js:1:5019\\n    at r.callback (/home/user/project/node_modules/next/dist/compiled/loader-runner/LoaderRunner.js:1:4039)\"},\"gip\":true,\"scriptLoader\":[]}</script></body></html>",
      "exit": 0,
      "description": "Test updated hybrid parser after restart"
    },
    "time": {
      "start": 1764363288883,
      "end": 1764363298903
    }
  }
}
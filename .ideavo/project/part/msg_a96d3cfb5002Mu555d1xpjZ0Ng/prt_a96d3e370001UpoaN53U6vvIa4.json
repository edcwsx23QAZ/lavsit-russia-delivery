{
  "id": "prt_a96d3e370001UpoaN53U6vvIa4",
  "sessionID": "ses_6852784ecffeuHwynj83p2lr14",
  "messageID": "msg_a96d3cfb5002Mu555d1xpjZ0Ng",
  "type": "tool",
  "callID": "call_34543541",
  "tool": "multiedit",
  "state": {
    "status": "completed",
    "input": {
      "edits": [
        {
          "newString": "      if (!response.ok) {\n        console.error('‚ùå Nord Wheel API –æ—à–∏–±–∫–∞:', response.status, response.statusText);\n        return {\n          company: 'Nord Wheel',\n          price: 0,\n          days: 0,\n          error: `–û—à–∏–±–∫–∞ API: ${response.status} ${response.statusText}`,\n          apiUrl: fullUrl,\n          requestData: params\n        };\n      }\n\n      const data = await response.json();\n      console.log('üöõ Nord Wheel —Å—Ç–∞—Ä—ã–π API –æ—Ç–≤–µ—Ç:', data);\n\n      // –ü–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞ —Å—Ç–∞—Ä–æ–≥–æ API\n      if (data.status === 'success' && data.data) {\n        const price = data.data.total || data.data.price || 0;\n        const days = data.data.days || data.data.delivery_time || 0;\n\n        return {\n          company: 'Nord Wheel',\n          price: Math.round(price),\n          days: days,\n          details: {\n            totalCost: price,\n            deliveryCost: data.data.delivery_cost || 0,\n            pickupCost: data.data.pickup_cost || 0,\n            insuranceCost: data.data.insurance_cost || 0,\n            services: data.data.services || []\n          },\n          requestData: params,\n          responseData: data,\n          apiUrl: fullUrl\n        };\n      } else {\n        return {\n          company: 'Nord Wheel',\n          price: 0,\n          days: 0,\n          error: data.message || '–û—à–∏–±–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ Nord Wheel - –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö',\n          requestData: params,\n          responseData: data,\n          apiUrl: fullUrl\n        };\n      }",
          "oldString": "      if (!response.ok) {\n        console.error('‚ùå Nord Wheel API –æ—à–∏–±–∫–∞:', response.status, response.statusText);\n        return {\n          company: 'Nord Wheel',\n          price: 0,\n          days: 0,\n          error: `–û—à–∏–±–∫–∞ API: ${response.status} ${response.statusText}`,\n          apiUrl,\n          requestData\n        };\n      }\n\n      const data = await response.json();\n      console.log('üöõ Nord Wheel –Ω–æ–≤—ã–π API –æ—Ç–≤–µ—Ç:', data);\n\n      if (data.auto && data.auto.total_price) {\n        const autoData = data.auto;\n        const price = autoData.total_price;\n        \n        // –ü–∞—Ä—Å–∏–º –¥–∞—Ç—É –¥–æ—Å—Ç–∞–≤–∫–∏\n        let days = 0;\n        if (autoData.delivery_date) {\n          const deliveryDate = new Date(autoData.delivery_date);\n          const today = new Date();\n          const diffTime = deliveryDate.getTime() - today.getTime();\n          days = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n        }\n\n        // –§–æ—Ä–º–∏—Ä—É–µ–º –¥–µ—Ç–∞–ª–∏ —É—Å–ª—É–≥\n        const details: any = {};\n        if (autoData.services && Array.isArray(autoData.services)) {\n          autoData.services.forEach((service: any) => {\n            if (service.name && service.amount) {\n              details[service.name] = service.amount;\n            }\n          });\n        }\n\n        return {\n          company: 'Nord Wheel',\n          price: Math.round(price),\n          days: days,\n          details: {\n            totalCost: price,\n            deliveryCost: details['–°—Ç–æ–∏–º–æ—Å—Ç—å –º–µ–∂—Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–≤–æ–∑–∫–∏'] || 0,\n            pickupCost: details['–°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–±–æ—Ä–∞'] || 0,\n            deliveryToDoorCost: details['–°—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏ –¥–æ –¥–≤–µ—Ä–∏'] || 0,\n            insuranceCost: details['–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ –≥—Ä—É–∑–∞'] || 0,\n            additionalServices: details['–°—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ–ø.—É—Å–ª—É–≥'] || 0,\n            services: autoData.services || []\n          },\n          requestData,\n          responseData: data,\n          apiUrl\n        };\n      } else {\n        return {\n          company: 'Nord Wheel',\n          price: 0,\n          days: 0,\n          error: data.message || '–û—à–∏–±–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ Nord Wheel - –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–≤—Ç–æ –¥–æ—Å—Ç–∞–≤–∫–∏',\n          requestData,\n          responseData: data,\n          apiUrl\n        };\n      }"
        }
      ],
      "filePath": "app/page.tsx"
    },
    "output": "",
    "title": "app/page.tsx",
    "metadata": {
      "results": [
        {
          "diagnostics": {},
          "diff": "Index: /home/user/project/app/page.tsx\n===================================================================\n--- /home/user/project/app/page.tsx\n+++ /home/user/project/app/page.tsx\n@@ -3469,65 +3469,45 @@\n       company: 'Nord Wheel',\n       price: 0,\n       days: 0,\n       error: `–û—à–∏–±–∫–∞ API: ${response.status} ${response.statusText}`,\n-      apiUrl,\n-      requestData\n+      apiUrl: fullUrl,\n+      requestData: params\n     };\n   }\n \n   const data = await response.json();\n-  console.log('üöõ Nord Wheel –Ω–æ–≤—ã–π API –æ—Ç–≤–µ—Ç:', data);\n+  console.log('üöõ Nord Wheel —Å—Ç–∞—Ä—ã–π API –æ—Ç–≤–µ—Ç:', data);\n \n-  if (data.auto && data.auto.total_price) {\n-    const autoData = data.auto;\n-    const price = autoData.total_price;\n-    \n-    // –ü–∞—Ä—Å–∏–º –¥–∞—Ç—É –¥–æ—Å—Ç–∞–≤–∫–∏\n-    let days = 0;\n-    if (autoData.delivery_date) {\n-      const deliveryDate = new Date(autoData.delivery_date);\n-      const today = new Date();\n-      const diffTime = deliveryDate.getTime() - today.getTime();\n-      days = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n-    }\n+  // –ü–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞ —Å—Ç–∞—Ä–æ–≥–æ API\n+  if (data.status === 'success' && data.data) {\n+    const price = data.data.total || data.data.price || 0;\n+    const days = data.data.days || data.data.delivery_time || 0;\n \n-    // –§–æ—Ä–º–∏—Ä—É–µ–º –¥–µ—Ç–∞–ª–∏ —É—Å–ª—É–≥\n-    const details: any = {};\n-    if (autoData.services && Array.isArray(autoData.services)) {\n-      autoData.services.forEach((service: any) => {\n-        if (service.name && service.amount) {\n-          details[service.name] = service.amount;\n-        }\n-      });\n-    }\n-\n     return {\n       company: 'Nord Wheel',\n       price: Math.round(price),\n       days: days,\n       details: {\n         totalCost: price,\n-        deliveryCost: details['–°—Ç–æ–∏–º–æ—Å—Ç—å –º–µ–∂—Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–≤–æ–∑–∫–∏'] || 0,\n-        pickupCost: details['–°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–±–æ—Ä–∞'] || 0,\n-        deliveryToDoorCost: details['–°—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏ –¥–æ –¥–≤–µ—Ä–∏'] || 0,\n-        insuranceCost: details['–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ –≥—Ä—É–∑–∞'] || 0,\n-        additionalServices: details['–°—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ–ø.—É—Å–ª—É–≥'] || 0,\n-        services: autoData.services || []\n+        deliveryCost: data.data.delivery_cost || 0,\n+        pickupCost: data.data.pickup_cost || 0,\n+        insuranceCost: data.data.insurance_cost || 0,\n+        services: data.data.services || []\n       },\n-      requestData,\n+      requestData: params,\n       responseData: data,\n-      apiUrl\n+      apiUrl: fullUrl\n     };\n   } else {\n     return {\n       company: 'Nord Wheel',\n       price: 0,\n       days: 0,\n-      error: data.message || '–û—à–∏–±–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ Nord Wheel - –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–≤—Ç–æ –¥–æ—Å—Ç–∞–≤–∫–∏',\n-      requestData,\n+      error: data.message || '–û—à–∏–±–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ Nord Wheel - –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö',\n+      requestData: params,\n       responseData: data,\n-      apiUrl\n+      apiUrl: fullUrl\n     };\n   }\n } catch (error: any) {\n   console.error('üöõ Nord Wheel –æ—à–∏–±–∫–∞:', error);\n"
        }
      ]
    },
    "time": {
      "start": 1763467060082,
      "end": 1763467060103
    }
  }
}
{
  "id": "prt_986bfef400012w4eO0ALCwq5dD",
  "messageID": "msg_986bfdcdd001VsZfUWF39fVF6O",
  "sessionID": "ses_6852784ecffeuHwynj83p2lr14",
  "type": "text",
  "text": "## üìã **–ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è API –ü–≠–ö –≤ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–æ—Å—Ç–∞–≤–∫–∏**\n\n### üéØ **–¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞:**\n–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è API –ü–≠–ö –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π —Ä–∞–∑–±–∏–≤–∫–æ–π –ø–æ —É—Å–ª—É–≥–∞–º –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.\n\n---\n\n## üìä **–≠—Ç–∞–ø 1: –ê–Ω–∞–ª–∏–∑ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (1-2 —á–∞—Å–∞)**\n\n### üîç **1.1 –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ API —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤ –ü–≠–ö**\n- **–ó–∞–¥–∞—á–∞**: –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –ø–æ –∞–¥—Ä–µ—Å—É\n- **API –º–µ—Ç–æ–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏**:\n  - `/api/v1/branches/` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–∫–ª–∞–¥–æ–≤ –ø–æ –≥–æ—Ä–æ–¥–∞–º\n  - `/api/v1/geocoding/` - –ø–æ–∏—Å–∫ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç (–µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)\n  - `/api/v1/cities/` - —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –≥–æ—Ä–æ–¥–æ–≤\n- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ü–æ–Ω–∏–º–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è\n\n### üè¢ **1.2 –ê–Ω–∞–ª–∏–∑ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–∫–ª–∞–¥–æ–≤**\n- **–õ–æ–≥–∏–∫–∞**: –ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é –≥–æ—Ä–æ–¥–∞ –Ω–∞–π—Ç–∏ –≤—Å–µ —Å–∫–ª–∞–¥—ã, –≤—ã–±—Ä–∞—Ç—å –ø–µ—Ä–≤—ã–π –¥–æ—Å—Ç—É–ø–Ω—ã–π\n- **–†–µ–∑–µ—Ä–≤**: –ï—Å–ª–∏ API –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–∏—Å (–Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç—ã API)\n\n---\n\n## üõ† **–≠—Ç–∞–ø 2: –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (3-4 —á–∞—Å–∞)**\n\n### üíª **2.1 –°–æ–∑–¥–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞—Å—á–µ—Ç–∞ –ü–≠–ö**\n```javascript\nconst calculatePEK = async (): Promise<CalculationResult> => {\n  // –õ–æ–≥–∏–∫–∞ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ calculateDellin\n}\n```\n\n### üìã **2.2 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ API –ü–≠–ö**\n- **–ë–∞–∑–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã**:\n  - `types: [3]` - —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–∑–∫–∞\n  - `currencyCode: \"643\"` - —Ä—É–±–ª–∏\n  - `plannedDateTime` - –∑–∞–≤—Ç—Ä–∞\n- **–£—Å–ª–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã**:\n  - `isInsurance: form.needInsurance && form.declaredValue > 0`\n  - `isPickUp: form.fromAddressDelivery`\n  - `isDelivery: form.toAddressDelivery`\n  - `cargos[].isHP: form.needPackaging`\n  - `pickupServices.isLoading: form.needCarry`\n\n### üó∫ **2.3 –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç**\n**–í–∞—Ä–∏–∞–Ω—Ç A** (–µ—Å–ª–∏ –ü–≠–ö –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç):\n```javascript\nconst getPEKCoordinates = async (address: string) => {\n  // –ó–∞–ø—Ä–æ—Å –∫ API –ü–≠–ö\n}\n```\n\n**–í–∞—Ä–∏–∞–Ω—Ç B** (—Ä–µ–∑–µ—Ä–≤–Ω—ã–π):\n```javascript\nconst getYandexCoordinates = async (address: string) => {\n  // –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç—ã API\n}\n```\n\n### üè¢ **2.4 –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–∫–ª–∞–¥–æ–≤**\n```javascript\nconst getPEKWarehouse = async (cityName: string) => {\n  // –ü–æ–∏—Å–∫ —Å–∫–ª–∞–¥–æ–≤ –ø–æ –≥–æ—Ä–æ–¥—É, –≤–æ–∑–≤—Ä–∞—Ç –ø–µ—Ä–≤–æ–≥–æ\n}\n```\n\n---\n\n## üßÆ **–≠—Ç–∞–ø 3: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞ (1-2 —á–∞—Å–∞)**\n\n### üí∞ **3.1 –ü–∞—Ä—Å–∏–Ω–≥ —Å—Ç–æ–∏–º–æ—Å—Ç–∏**\n- **–†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** `services[]` –∏ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö `services[]`\n- **–°—É–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö —É—Å–ª—É–≥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏\n- **–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è** –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:\n  ```\n  –ü–µ—Ä–µ–≤–æ–∑–∫–∞: 5,269‚ÇΩ\n  –°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ: 50‚ÇΩ\n  –î–æ—Å—Ç–∞–≤–∫–∞ –≥—Ä—É–∑–∞: 446‚ÇΩ\n  ‚îú‚îÄ –ü–µ—Ä–µ–Ω–æ—Å –≥—Ä—É–∑–∞: 200‚ÇΩ\n  ‚îî‚îÄ –ü–æ–≥—Ä—É–∑–æ-—Ä–∞–∑–≥—Ä—É–∑–æ—á–Ω—ã–µ —Ä–∞–±–æ—Ç—ã: 250‚ÇΩ\n  ```\n\n### üìÖ **3.2 –†–∞—Å—á–µ—Ç —Å—Ä–æ–∫–æ–≤ –¥–æ—Å—Ç–∞–≤–∫–∏**\n- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `estDeliveryTime` –∏–∑ –æ—Ç–≤–µ—Ç–∞\n- –£—á–µ—Ç `transportingWithPickup`, `transportingWithDelivery`\n\n---\n\n## üîß **–≠—Ç–∞–ø 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ UI (1 —á–∞—Å)**\n\n### üé® **4.1 –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ü–≠–ö –≤ —Å–ø–∏—Å–æ–∫ –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–æ–≤**\n- –î–æ–±–∞–≤–∏—Ç—å –≤—ã–∑–æ–≤ `calculatePEK()` –≤ –º–∞—Å—Å–∏–≤ –ø—Ä–æ–º–∏—Å–æ–≤\n- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤\n\n### üìä **4.2 –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**\n- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –î–µ–ª–æ–≤—ã–º –õ–∏–Ω–∏—è–º, –¥–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –≤ `parseCalculationDetails()`\n\n---\n\n## ‚ö†Ô∏è **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã –¥–ª—è —Ä–µ—à–µ–Ω–∏—è:**\n\n### üó∫ **–ì–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ**\n**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ª–∏ –ü–≠–ö API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –ø–æ –∞–¥—Ä–µ—Å—É.\n\n**–†–µ—à–µ–Ω–∏—è**:\n1. **–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å API –ü–≠–ö** –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è\n2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç—ã API** –∫–∞–∫ —Ä–µ–∑–µ—Ä–≤\n3. **–û—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –∞–¥—Ä–µ—Å–∞** –±–µ–∑ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç (–º–æ–∂–µ—Ç —Å–Ω–∏–∑–∏—Ç—å —Ç–æ—á–Ω–æ—Å—Ç—å)\n\n### üè¢ **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–∫–ª–∞–¥–æ–≤**\n**–¢—Ä–µ–±—É–µ—Ç—Å—è**: API –º–µ—Ç–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ —Å–∫–ª–∞–¥–æ–≤ –ø–æ –≥–æ—Ä–æ–¥—É.\n**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞**: –ñ–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–∫–ª–∞–¥—ã –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤.\n\n---\n\n## üìà **–û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**\n\n### ‚úÖ **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**\n- –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ü–≠–ö –≤ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä\n- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–∫–ª–∞–¥–æ–≤\n- –î–µ—Ç–∞–ª—å–Ω–∞—è —Ä–∞–∑–±–∏–≤–∫–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏\n- –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–∞—Å—á–µ—Ç —Å—Ä–æ–∫–æ–≤\n\n### üéØ **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç**\n- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–æ—Å—Ç–∞–≤–∫–∏\n- –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è\n- –ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—Å–µ—Ö –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–æ–≤\n\n---\n\n## ‚è∞ **–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏:**\n**–û–±—â–µ–µ –≤—Ä–µ–º—è**: 6-9 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã\n**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –ø—É—Ç—å**: –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –ü–≠–ö\n\n## üö¶ **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∑–∞–ø—É—Å–∫—É:**\n**–¢—Ä–µ–±—É–µ—Ç—Å—è —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ**:\n1. –ü–æ–¥—Ö–æ–¥–∞ –∫ –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—é (–ü–≠–ö vs –Ø–Ω–¥–µ–∫—Å)\n2. –õ–æ–≥–∏–∫–∏ –≤—ã–±–æ—Ä–∞ —Å–∫–ª–∞–¥–æ–≤\n3. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –ü–≠–ö –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –¥—Ä—É–≥–∏—Ö –∑–∞–¥–∞—á\n\n**–ì–æ—Ç–æ–≤ –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ—Å–ª–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–ª–∞–Ω–∞.**",
  "time": {
    "start": 1758902379422,
    "end": 1758902379422
  }
}
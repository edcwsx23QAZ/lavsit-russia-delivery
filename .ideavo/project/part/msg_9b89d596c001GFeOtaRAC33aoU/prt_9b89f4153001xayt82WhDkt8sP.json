{
  "id": "prt_9b89f4153001xayt82WhDkt8sP",
  "messageID": "msg_9b89d596c001GFeOtaRAC33aoU",
  "sessionID": "ses_6852784ecffeuHwynj83p2lr14",
  "type": "tool",
  "tool": "edit",
  "callID": "toolu_01CfAecUWVjpABte3XGVrrh5",
  "state": {
    "status": "completed",
    "input": {
      "filePath": "/home/user/project/app/page.tsx",
      "oldString": "                <div className=\"grid grid-cols-2 gap-2\">\n                  {COMPANIES_BASE.map((company, index) => {\n                    const isConnected = apiStatus[company.apiKey as keyof typeof apiStatus] === 'подключено';\n                    const statusText = apiStatus[company.apiKey as keyof typeof apiStatus];\n                    \n                    return (\n                      <div key={index} className=\"flex items-center gap-2 p-2 bg-gray-700 rounded\">\n                        <span className=\"text-lg\">{company.logo}</span>\n                        <div>\n                          <p className=\"font-medium text-white text-xs\">{company.name}</p>\n                          <Badge \n                            variant={isConnected ? \"default\" : \"destructive\"} \n                            className=\"text-xs\"\n                          >\n                            {isConnected ? 'Подключена' : statusText === 'проверка...' ? 'Проверка...' : 'Ошибка'}\n                          </Badge>\n                        </div>\n                      </div>\n                    );\n                  })}",
      "newString": "                <div className=\"grid grid-cols-1 gap-2\">\n                  {COMPANIES_BASE.map((company, index) => {\n                    const isConnected = apiStatus[company.apiKey as keyof typeof apiStatus] === 'подключено';\n                    const statusText = apiStatus[company.apiKey as keyof typeof apiStatus];\n                    const isEnabled = enabledCompanies[company.apiKey];\n                    \n                    return (\n                      <div key={index} className=\"flex items-center justify-between p-2 bg-gray-700 rounded\">\n                        <div className=\"flex items-center gap-2\">\n                          <span className=\"text-lg\">{company.logo}</span>\n                          <div>\n                            <p className=\"font-medium text-white text-xs\">{company.name}</p>\n                            <Badge \n                              variant={isConnected ? \"default\" : \"destructive\"} \n                              className=\"text-xs\"\n                            >\n                              {isConnected ? 'Подключена' : statusText === 'проверка...' ? 'Проверка...' : 'Ошибка'}\n                            </Badge>\n                          </div>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <span className=\"text-xs text-gray-300\">\n                            {isEnabled ? 'Вкл' : 'Выкл'}\n                          </span>\n                          <Switch\n                            checked={isEnabled}\n                            onCheckedChange={(checked) => {\n                              setEnabledCompanies(prev => ({\n                                ...prev,\n                                [company.apiKey]: checked\n                              }));\n                            }}\n                            disabled={!isConnected}\n                          />\n                        </div>\n                      </div>\n                    );\n                  })}"
    },
    "output": "",
    "metadata": {
      "diagnostics": {},
      "diff": "Index: /home/user/project/app/page.tsx\n===================================================================\n--- /home/user/project/app/page.tsx\n+++ /home/user/project/app/page.tsx\n@@ -3737,25 +3737,43 @@\n <CardHeader className=\"pb-2\">\n   <CardTitle className=\"text-white text-sm\">Подключенные транспортные компании</CardTitle>\n </CardHeader>\n <CardContent>\n-  <div className=\"grid grid-cols-2 gap-2\">\n+  <div className=\"grid grid-cols-1 gap-2\">\n     {COMPANIES_BASE.map((company, index) => {\n       const isConnected = apiStatus[company.apiKey as keyof typeof apiStatus] === 'подключено';\n       const statusText = apiStatus[company.apiKey as keyof typeof apiStatus];\n+      const isEnabled = enabledCompanies[company.apiKey];\n       \n       return (\n-        <div key={index} className=\"flex items-center gap-2 p-2 bg-gray-700 rounded\">\n-          <span className=\"text-lg\">{company.logo}</span>\n-          <div>\n-            <p className=\"font-medium text-white text-xs\">{company.name}</p>\n-            <Badge \n-              variant={isConnected ? \"default\" : \"destructive\"} \n-              className=\"text-xs\"\n-            >\n-              {isConnected ? 'Подключена' : statusText === 'проверка...' ? 'Проверка...' : 'Ошибка'}\n-            </Badge>\n+        <div key={index} className=\"flex items-center justify-between p-2 bg-gray-700 rounded\">\n+          <div className=\"flex items-center gap-2\">\n+            <span className=\"text-lg\">{company.logo}</span>\n+            <div>\n+              <p className=\"font-medium text-white text-xs\">{company.name}</p>\n+              <Badge \n+                variant={isConnected ? \"default\" : \"destructive\"} \n+                className=\"text-xs\"\n+              >\n+                {isConnected ? 'Подключена' : statusText === 'проверка...' ? 'Проверка...' : 'Ошибка'}\n+              </Badge>\n+            </div>\n           </div>\n+          <div className=\"flex items-center gap-2\">\n+            <span className=\"text-xs text-gray-300\">\n+              {isEnabled ? 'Вкл' : 'Выкл'}\n+            </span>\n+            <Switch\n+              checked={isEnabled}\n+              onCheckedChange={(checked) => {\n+                setEnabledCompanies(prev => ({\n+                  ...prev,\n+                  [company.apiKey]: checked\n+                }));\n+              }}\n+              disabled={!isConnected}\n+            />\n+          </div>\n         </div>\n       );\n     })}\n   </div>\n"
    },
    "title": "app/page.tsx",
    "time": {
      "start": 1759739075054,
      "end": 1759739075075
    }
  }
}
{
  "id": "prt_ab3808f5f001gtg0NfEMvM09aI",
  "sessionID": "ses_6852784ecffeuHwynj83p2lr14",
  "messageID": "msg_ab380055d001ERYmnw7gyC2GE1",
  "type": "tool",
  "callID": "call_e688e36f5eac4835b3823ec5",
  "tool": "edit",
  "state": {
    "status": "completed",
    "input": {
      "filePath": "/home/user/project/app/page.tsx",
      "oldString": "  // –ü–∞—Ä—Å–µ—Ä –¥–µ—Ç–∞–ª–µ–π —Ä–∞—Å—á–µ—Ç–∞ –¥–ª—è —á–∏—Ç–∞–µ–º–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞\n  const parseCalculationDetails = (calc: CalculationResult) => {\n    console.log('üîç parseCalculationDetails –ø–æ–ª—É—á–∏–ª calc:', calc?.company || 'undefined');\n    console.log('üîç calc.details:', calc?.details ? '—Å—É—â–µ—Å—Ç–≤—É–µ—Ç' : 'undefined/null');\n    console.log('üîç typeof calc.details:', typeof calc?.details);\n    \n    const details: { service: string; description: string; price: number }[] = [];\n    \n    try {\n      if (calc.company === '–î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏' && calc.details) {\n        console.log('üîç –ù–∞—á–∏–Ω–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–µ—Ç–∞–ª–µ–π –î–µ–ª–æ–≤—ã—Ö –õ–∏–Ω–∏–π...');\n      // –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏ (—É–∂–µ –≤–∫–ª—é—á–∞–µ—Ç –≤—Å–µ –±–∞–∑–æ–≤—ã–µ —É—Å–ª—É–≥–∏ –∏ —É–ø–∞–∫–æ–≤–∫—É)\n      let basePrice = calc.details?.price || calc.price || 0;\n      \n      // –†–∞–∑–±–∏–≤–∞–µ–º –æ—Å–Ω–æ–≤–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ\n      if (calc.details?.intercity?.price) {\n        details.push({\n          service: '–î–æ—Å—Ç–∞–≤–∫–∞ –º–µ–∂–¥—É –≥–æ—Ä–æ–¥–∞–º–∏',\n          description: `${form.fromCity} - ${form.toCity}`,\n          price: calc.details.intercity.price\n        });\n      }\n      \n      if (calc.details?.derival?.price) {\n        details.push({\n          service: '–ó–∞–±–æ—Ä –≥—Ä—É–∑–∞',\n          description: calc.details.derival.address || '–ê–¥—Ä–µ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è',\n          price: calc.details.derival.price\n        });\n      }\n      \n      if (calc.details?.arrival?.price) {\n        details.push({\n          service: '–î–æ—Å—Ç–∞–≤–∫–∞ –¥–æ –∞–¥—Ä–µ—Å–∞',\n          description: calc.details.arrival.address || '–ê–¥—Ä–µ—Å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è',\n          price: calc.details.arrival.price\n        });\n      }\n      \n      if (form.needPackaging && calc.details?.packages) {\n        console.log('üîç –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —É–ø–∞–∫–æ–≤–∫—É –î–µ–ª–æ–≤—ã—Ö –õ–∏–Ω–∏–π...');\n        Object.entries(calc.details?.packages || {}).forEach(([key, pkg]: [string, any]) => {\n          console.log('üîç –£–ø–∞–∫–æ–≤–∫–∞:', key, pkg);\n          if (pkg.price && pkg.price > 0) {\n            console.log('üîç –î–æ–±–∞–≤–ª—è–µ–º —É–ø–∞–∫–æ–≤–∫—É:', key, '—Ü–µ–Ω–∞:', pkg.price);\n            details.push({\n              service: `–£–ø–∞–∫–æ–≤–∫–∞ ${key}`,\n              description: pkg.description || '',\n              price: pkg.price\n            });\n            \n            // –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–µ–º–∏—É–º —É–ø–∞–∫–æ–≤–∫—É –µ—Å–ª–∏ –µ—Å—Ç—å\n            if (pkg.premiumDetails && Array.isArray(pkg.premiumDetails)) {\n              console.log('üîç –ù–∞–π–¥–µ–Ω—ã –ø—Ä–µ–º–∏—É–º –¥–µ—Ç–∞–ª–∏ —É–ø–∞–∫–æ–≤–∫–∏:', pkg.premiumDetails);\n              pkg.premiumDetails.forEach((premium: any) => {\n                if (premium.value && premium.value > 0) {\n                  console.log('üîç –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–µ–º–∏—É–º —É–ø–∞–∫–æ–≤–∫—É:', premium.name, '—Ü–µ–Ω–∞:', premium.value);\n                  details.push({\n                    service: `–£–ø–∞–∫–æ–≤–∫–∞ ${premium.name}`,\n                    description: premium.description || '',\n                    price: premium.value\n                  });\n                }\n              });\n            }\n          }\n        });\n      }\n      \n      // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ –µ—Å–ª–∏ –±—ã–ª–æ –≤ –∑–∞–ø—Ä–æ—Å–µ\n      if (form.needInsurance && form.declaredValue > 0) {\n        details.push({\n          service: '–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ –≥—Ä—É–∑–∞',\n          description: `–°—Ç—Ä–∞—Ö–æ–≤–∫–∞ –Ω–∞ —Å—É–º–º—É ${form.declaredValue.toLocaleString()} ‚ÇΩ`,\n          price: Math.round(form.declaredValue * 0.003)\n        });\n      }\n      \n      // –£–ø–∞–∫–æ–≤–∫–∞ (–µ—Å–ª–∏ –Ω–µ –±—ã–ª–∞ –≤ –¥–µ—Ç–∞–ª—è—Ö –î–µ–ª–æ–≤—ã—Ö –õ–∏–Ω–∏–π)\n      if (form.needPackaging && !calc.details?.packages) {\n        const totalWeight = form.cargos.reduce((sum, cargo) => sum + cargo.weight, 0);\n        details.push({\n          service: '–£–ø–∞–∫–æ–≤–∫–∞',\n          description: '',\n          price: Math.round(totalWeight * 30)\n        });\n      }\n      \n      // –†—É—á–Ω–∞—è –ø–æ–≥—Ä—É–∑–∫–∞/–≤—ã–≥—Ä—É–∑–∫–∞\n      if (form.needLoading) {\n        details.push({\n          service: '–ü–æ–≥—Ä—É–∑–∫–∞/–≤—ã–≥—Ä—É–∑–∫–∞',\n          description: '–†—É—á–Ω—ã–µ —Ä–∞–±–æ—Ç—ã',\n          price: 500\n        });\n      }\n      \n      // –ü–µ—Ä–µ–Ω–æ—Å–∫–∞ –≥—Ä—É–∑–∞\n      if (form.needCarry) {\n        details.push({\n          service: '–ü–µ—Ä–µ–Ω–æ—Å–∫–∞ –≥—Ä—É–∑–∞',\n          description: `–ù–∞ ${form.floor} —ç—Ç–∞–∂${form.floor > 1 ? '' : ''}`,\n          price: form.hasFreightLift ? 200 : 400 * form.floor\n        });\n      }\n      \n      // –ï—Å–ª–∏ –¥–µ—Ç–∞–ª–µ–π –Ω–µ—Ç, –Ω–æ –µ—Å—Ç—å —Ü–µ–Ω–∞, –¥–æ–±–∞–≤–ª—è–µ–º –±–∞–∑–æ–≤—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é\n      if (details.length === 0 && calc.price > 0) {\n        details.push({\n          service: '–î–æ—Å—Ç–∞–≤–∫–∞',\n          description: `${form.fromCity} - ${form.toCity}`,\n          price: calc.price\n        });\n      }\n      \n      // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–∞—Ä–∏—Ñ–µ –µ—Å–ª–∏ –µ—Å—Ç—å\n      if (calc.details?.tariff_name) {\n        details.push({\n          service: '–¢–∞—Ä–∏—Ñ',\n          description: calc.details.tariff_name,\n          price: 0\n        });\n        details.push({\n          service: '–ò–¢–û–ì–û',\n          description: calc.details.currency || 'RUB',\n          price: calc.price\n        });\n      }\n    } else {\n      // –î–ª—è –¥—Ä—É–≥–∏—Ö –¢–ö - –±–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è\n      details.push({\n        service: '–î–æ—Å—Ç–∞–≤–∫–∞ –≥—Ä—É–∑–∞',\n        description: `${form.fromCity} - ${form.toCity}`,\n        price: calc.price\n      });\n      \n      if (form.needInsurance && form.declaredValue > 0) {\n        details.push({\n          service: '–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ',\n          description: `–ù–∞ —Å—É–º–º—É ${form.declaredValue.toLocaleString()} ‚ÇΩ`,\n          price: Math.round(form.declaredValue * 0.02)\n        });\n      }\n      \n      if (form.needPackaging) {\n        const totalWeight = form.cargos.reduce((sum, cargo) => sum + cargo.weight, 0);\n        details.push({\n          service: '–£–ø–∞–∫–æ–≤–∫–∞',\n          description: '',\n          price: Math.round(totalWeight * 30)\n        });\n      }\n    }\n    \n    return details;\n  } catch (globalError) {\n    console.error('‚ùå –ì–õ–û–ë–ê–õ–¨–ù–ê–Ø –û–®–ò–ë–ö–ê –≤ parseCalculationDetails:', globalError);\n    console.error('‚ùå –°—Ç–µ–∫ –æ—à–∏–±–∫–∏:', globalError instanceof Error ? globalError.stack : '–ù–µ—Ç —Å—Ç–µ–∫–∞');\n    console.log('‚ùå calc object:', calc);\n    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –ª—é–±–æ–π –æ—à–∏–±–∫–µ\n    return [{\n      service: '–î–æ—Å—Ç–∞–≤–∫–∞',\n      description: '–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–µ—Ç–∞–ª–µ–π —Ä–∞—Å—á–µ—Ç–∞',\n      price: calc?.price || 0\n    }];\n  }\n};",
      "newString": "  // –ü–∞—Ä—Å–µ—Ä –¥–µ—Ç–∞–ª–µ–π —Ä–∞—Å—á–µ—Ç–∞ –¥–ª—è —á–∏—Ç–∞–µ–º–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞\n  const parseCalculationDetails = (calc: CalculationResult) => {\n    return [{\n      service: '–î–æ—Å—Ç–∞–≤–∫–∞',\n      description: `${form.fromCity} - ${form.toCity}`,\n      price: calc.price\n    }];\n  };"
    },
    "output": "",
    "title": "app/page.tsx",
    "metadata": {
      "diagnostics": {},
      "diff": "Index: /home/user/project/app/page.tsx\n===================================================================\n--- /home/user/project/app/page.tsx\n+++ /home/user/project/app/page.tsx\n@@ -4069,192 +4069,15 @@\n };\n \n // –ü–∞—Ä—Å–µ—Ä –¥–µ—Ç–∞–ª–µ–π —Ä–∞—Å—á–µ—Ç–∞ –¥–ª—è —á–∏—Ç–∞–µ–º–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞\n const parseCalculationDetails = (calc: CalculationResult) => {\n-  console.log('üîç parseCalculationDetails –ø–æ–ª—É—á–∏–ª calc:', calc?.company || 'undefined');\n-  console.log('üîç calc.details:', calc?.details ? '—Å—É—â–µ—Å—Ç–≤—É–µ—Ç' : 'undefined/null');\n-  console.log('üîç typeof calc.details:', typeof calc?.details);\n-  \n-  const details: { service: string; description: string; price: number }[] = [];\n-  \n-  try {\n-    if (calc.company === '–î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏' && calc.details) {\n-      console.log('üîç –ù–∞—á–∏–Ω–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–µ—Ç–∞–ª–µ–π –î–µ–ª–æ–≤—ã—Ö –õ–∏–Ω–∏–π...');\n-    // –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏ (—É–∂–µ –≤–∫–ª—é—á–∞–µ—Ç –≤—Å–µ –±–∞–∑–æ–≤—ã–µ —É—Å–ª—É–≥–∏ –∏ —É–ø–∞–∫–æ–≤–∫—É)\n-    let basePrice = calc.details?.price || calc.price || 0;\n-    \n-    // –†–∞–∑–±–∏–≤–∞–µ–º –æ—Å–Ω–æ–≤–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ\n-    let intercityPrice = 0;\n-    let derivalPrice = 0;\n-    let arrivalPrice = 0;\n-    let packagingPrice = 0;\n-    // packagingPremiums –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è - –Ω–∞–¥–±–∞–≤–∫–∏ –≤–∫–ª—é—á–µ–Ω—ã –≤ pkg.price\n-    let insurancePrice = 0;\n-    \n-    // –ú–µ–∂—Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–≤–æ–∑–∫–∞\n-    if (calc.details?.intercity?.price) {\n-      intercityPrice = calc.details.intercity.price;\n-      details.push({\n-        service: '–ú–µ–∂—Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–≤–æ–∑–∫–∞',\n-        description: `${form.fromCity} - ${form.toCity}`,\n-        price: intercityPrice\n-      });\n-    }\n-    \n-    // –ó–∞–±–æ—Ä –≥—Ä—É–∑–∞\n-    if (calc.details?.derival?.price) {\n-      derivalPrice = calc.details.derival.price;\n-      details.push({\n-        service: '–ó–∞–±–æ—Ä –≥—Ä—É–∑–∞',\n-        description: '–û—Ç –∞–¥—Ä–µ—Å–∞',\n-        price: derivalPrice\n-      });\n-    }\n-    \n-    // –î–æ—Å—Ç–∞–≤–∫–∞ –≥—Ä—É–∑–∞\n-    if (calc.details?.arrival?.price) {\n-      arrivalPrice = calc.details.arrival.price;\n-      details.push({\n-        service: '–û—Ç–≤–æ–∑ –≥—Ä—É–∑–∞',\n-        description: '–î–æ –∞–¥—Ä–µ—Å–∞',\n-        price: arrivalPrice\n-      });\n-    }\n-    \n-    // –£–ø–∞–∫–æ–≤–∫–∞ (–Ω–∞–¥–±–∞–≤–∫–∏ —É–∂–µ –≤–∫–ª—é—á–µ–Ω—ã –≤ pkg.price, –Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∏—Ö –¥–ª—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏)\n-    if (form.needPackaging && calc.details?.packages) {\n-      Object.entries(calc.details?.packages || {}).forEach(([key, pkg]: [string, any]) => {\n-        if (pkg.price && pkg.price > 0) {\n-          // –í—ã—á–∏—Å–ª—è–µ–º –±–∞–∑–æ–≤—É—é —Ü–µ–Ω—É —É–ø–∞–∫–æ–≤–∫–∏ (–±–µ–∑ –Ω–∞–¥–±–∞–≤–æ–∫) –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è\n-          let basePkgPrice = pkg.price;\n-          let totalPremiums = 0;\n-          \n-          if (pkg.premiumDetails && Array.isArray(pkg.premiumDetails)) {\n-            totalPremiums = pkg.premiumDetails.reduce((sum: number, premium: any) => \n-              sum + (premium.value || 0), 0);\n-            basePkgPrice = pkg.price - totalPremiums;\n-          }\n-          \n-          packagingPrice += pkg.price; // –í –æ–±—â—É—é —Å—É–º–º—É –¥–æ–±–∞–≤–ª—è–µ–º –ø–æ–ª–Ω—É—é —Ü–µ–Ω—É\n-          \n-          // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –±–∞–∑–æ–≤—É—é —É–ø–∞–∫–æ–≤–∫—É\n-          details.push({\n-            service: '–£–ø–∞–∫–æ–≤–∫–∞ –≥—Ä—É–∑–∞',\n-            description: '–£–ø–∞–∫–æ–≤–∞—Ç—å –≤ –∫–æ–º–ø–ª–µ–∫—Å ¬´–æ–±—Ä–µ—à—ë—Ç–∫–∞ + –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è¬ª',\n-            price: basePkgPrice\n-          });\n-          \n-          // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞–¥–±–∞–≤–∫–∏ –æ—Ç–¥–µ–ª—å–Ω–æ (–¥–ª—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏, –Ω–æ –Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º –∫ –æ–±—â–µ–π —Å—É–º–º–µ)\n-          if (pkg.premiumDetails && Array.isArray(pkg.premiumDetails)) {\n-            pkg.premiumDetails.forEach((premium: any) => {\n-              if (premium.value && premium.value > 0) {\n-                details.push({\n-                  service: '–ù–∞–¥–±–∞–≤–∫–∞ –∫ —É–ø–∞–∫–æ–≤–∫–µ',\n-                  description: premium.name || '–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –Ω–∞–¥–±–∞–≤–∫–∞',\n-                  price: premium.value\n-                });\n-              }\n-            });\n-          }\n-        }\n-      });\n-    }\n-    \n-    // –°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ\n-    if (form.needInsurance && calc.details?.insurance) {\n-      insurancePrice = calc.details.insurance;\n-      details.push({\n-        service: '–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ –≥—Ä—É–∑–∞',\n-        description: `–ù–∞ —Å—É–º–º—É ${form.declaredValue.toLocaleString()} ‚ÇΩ`,\n-        price: insurancePrice\n-      });\n-    }\n-    \n-    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏\n-    details.push({\n-      service: '–î–æ–ø.—É—Å–ª—É–≥–∏',\n-      description: '–ò–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ —Å—Ç–∞—Ç—É—Å–µ –≥—Ä—É–∑–∞',\n-      price: 15\n-    });\n-    \n-    // –ï—Å–ª–∏ –µ—Å—Ç—å —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –º–µ–∂–¥—É —Å—É–º–º–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ –æ–±—â–µ–π —Å—Ç–æ–∏–º–æ—Å—Ç—å—é, –¥–æ–±–∞–≤–ª—è–µ–º –æ—Å—Ç–∞—Ç–æ–∫\n-    const calculatedSum = intercityPrice + derivalPrice + arrivalPrice + packagingPrice + insurancePrice + 15;\n-    const remainder = basePrice - calculatedSum;\n-    \n-    if (Math.abs(remainder) > 1) { // –ï—Å–ª–∏ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –±–æ–ª—å—à–µ 1 —Ä—É–±–ª—è\n-      details.push({\n-        service: remainder > 0 ? '–ü—Ä–æ—á–∏–µ —É—Å–ª—É–≥–∏' : '–°–∫–∏–¥–∫–∞',\n-        description: '–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–±–æ—Ä—ã –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏',\n-        price: remainder\n-      });\n-    }\n-  } else if (calc.company === 'Nord Wheel' && calc.details) {\n-    // –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –¥–ª—è Nord Wheel —Å–æ–≥–ª–∞—Å–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º\n-    if (calc.details.totalCost) {\n-      details.push({\n-        service: '–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏',\n-        description: '',\n-        price: calc.details.totalCost\n-      });\n-    }\n-    if (calc.details.deliveryCost) {\n-      details.push({\n-        service: '–°—Ç–æ–∏–º–æ—Å—Ç—å –ø–µ—Ä–µ–≤–æ–∑–∫–∏',\n-        description: '',\n-        price: calc.details.deliveryCost\n-      });\n-    }\n-    if (calc.details.terminalCost) {\n-      details.push({\n-        service: '–°—Ç–æ–∏–º–æ—Å—Ç—å –º–µ–∂—Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–≤–æ–∑–∫–∏',\n-        description: '',\n-        price: calc.details.terminalCost\n-      });\n-    }\n-    if (calc.details.pickupCost) {\n-      details.push({\n-        service: '–°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–±–æ—Ä–∞',\n-        description: '',\n-        price: calc.details.pickupCost\n-      });\n-    }\n-    if (calc.details.deliveryToDoorCost) {\n-      details.push({\n-        service: '–°—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏ –¥–æ –¥–≤–µ—Ä–∏',\n-        description: '',\n-        price: calc.details.deliveryToDoorCost\n-      });\n-    }\n-    if (calc.details.additionalServices && calc.details.additionalServices > 0) {\n-      details.push({\n-        service: '–°—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ–ø.—É—Å–ª—É–≥',\n-        description: '',\n-        price: calc.details.additionalServices\n-      });\n-    }\n+  return [{\n+    service: '–î–æ—Å—Ç–∞–≤–∫–∞',\n+    description: `${form.fromCity} - ${form.toCity}`,\n+    price: calc.price\n+  }];\n+};\n \n-  } else if (calc.company === '–ü–≠–ö' && calc.details?.services) {\n-    // –î–ª—è –ü–≠–ö –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ API\n-    calc.details.services.forEach((service: any) => {\n-      if (service.price > 0) {\n-        details.push({\n-          service: service.name || '–£—Å–ª—É–≥–∞ –ü–≠–ö',\n-          description: service.description || '',\n-          price: service.price\n-        });\n-      }\n-    });\n-  } else if (calc.company === '–°–î–≠–ö' && calc.details) {\n-    const cdekServiceNames: Record<string, string> = {\n-      'INSURANCE': '–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ –≥—Ä—É–∑–∞',\n-      'HEAVY_CARGO': '–¢—è–∂–µ–ª–æ–≤–µ—Å–Ω—ã–π –≥—Ä—É–∑',\n-      'DELIVERY_TO_DOOR': '–î–æ—Å—Ç–∞–≤–∫–∞ –¥–æ –¥–≤–µ—Ä–∏',\n-      'PICKUP_FROM_SENDER': '–ó–∞–±–æ—Ä –æ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è',\n-      'PACKAGE': '–£–ø–∞–∫–æ–≤–∫–∞',\n-      'TRYING_ON': '–ü—Ä–∏–º–µ—Ä–∫–∞ –Ω–∞ –¥–æ–º—É',\n-      'PART_DELIVERY': '–ß–∞—Å—Ç–∏—á–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞'\n-    };\n-\n     if (calc.details.services && calc.details.services.length > 0) {\n       calc.details.services.forEach((service: any) => {\n         const serviceName = cdekServiceNames[service.code] || service.code || '–£—Å–ª—É–≥–∞ –°–î–≠–ö';\n         const servicePrice = service.total_sum || service.sum || 0;\n"
    },
    "time": {
      "start": 1763948138337,
      "end": 1763948138390
    }
  }
}
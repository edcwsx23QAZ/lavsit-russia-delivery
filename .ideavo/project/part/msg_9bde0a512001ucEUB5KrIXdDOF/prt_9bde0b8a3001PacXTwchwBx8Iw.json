{
  "id": "prt_9bde0b8a3001PacXTwchwBx8Iw",
  "messageID": "msg_9bde0a512001ucEUB5KrIXdDOF",
  "sessionID": "ses_6852784ecffeuHwynj83p2lr14",
  "type": "text",
  "text": "–ê–Ω–∞–ª–∏–∑–∏—Ä—É—è –¢–ó –∏ —Ç–µ–∫—É—â–∏–π –∫–æ–¥ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API –î–µ–ª–æ–≤—ã—Ö –õ–∏–Ω–∏–π, —è –≤—ã—è–≤–∏–ª **–∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π** –∏ —Å–æ—Å—Ç–∞–≤–∏–ª –ø–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è.\n\n## üî¥ **–ö—Ä–∏—Ç–∏—á–Ω—ã–µ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π**\n\n### 1. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∏—Å–∫–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤**\n**–¢–µ–∫—É—â–∏–π –∫–æ–¥** (—Å—Ç—Ä–æ–∫–∏ 1239, 1315):\n```javascript\n// –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π endpoint\nfetch('https://api.dellin.ru/v1/public/request_terminals.json', ...)\n```\n\n**–ü–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏** –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:\n1. **–ü–æ–∏—Å–∫ cityID —á–µ—Ä–µ–∑ `/v2/public/kladr.json`**\n2. **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ —á–µ—Ä–µ–∑ `/v3/public/terminals.json`** \n3. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤ –ø–æ cityID –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞**\n\n### 2. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—É**\n**–¢–µ–∫—É—â–∏–π –∫–æ–¥** (—Å—Ç—Ä–æ–∫–∏ 1564-1596):\n```javascript\n// –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - —Å–º–µ—à–∏–≤–∞–µ—Ç terminalID –∏ address.search\n...(fromTerminalId ? {\n  terminalID: fromTerminalId\n} : {\n  address: {\n    search: form.fromCity  // –ü—Ä–æ—Å—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞\n  }\n})\n```\n\n**–ü–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏** –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:\n- **–î–ª—è —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤**: —Ç–æ–ª—å–∫–æ `terminalID: \"ID_—Ç–µ—Ä–º–∏–Ω–∞–ª–∞\"`\n- **–î–ª—è –∞–¥—Ä–µ—Å–æ–≤**: —Ç–æ–ª—å–∫–æ `address.search: \"–†–µ–≥–∏–æ–Ω, –ì–æ—Ä–æ–¥, –£–ª–∏—Ü–∞, –î–æ–º\"`\n\n### 3. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∞–¥—Ä–µ—Å–æ–≤**\n**–¢–µ–∫—É—â–∏–π –∫–æ–¥**: –ø–µ—Ä–µ–¥–∞–µ—Ç `\"–º–æ—Å–∫–≤–∞\"`\n**–ü–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**: –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `\"–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª., –ú–æ—Å–∫–≤–∞, –õ–µ–Ω–∏–Ω–∞, 5\"`\n\n### 4. **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å DaData –¥–ª—è –ö–õ–ê–î–†**\n**–ü—Ä–æ–±–ª–µ–º–∞**: –∫–æ–¥ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç DaData API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ö–õ–ê–î–† –∫–æ–¥–æ–≤, —Ö–æ—Ç—è –æ–Ω–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ –¢–ó.\n\n## üìã **–ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**\n\n### **–≠—Ç–∞–ø 1: –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–∏—Å–∫–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤**\n\n1. **–£–¥–∞–ª–∏—Ç—å** —Ñ—É–Ω–∫—Ü–∏—é `getDellinTerminalByDirection` (–Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π API)\n2. **–°–æ–∑–¥–∞—Ç—å** –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é `findCityInDellinDirectory`:\n   - –ü–æ–∏—Å–∫ cityID —á–µ—Ä–µ–∑ `/v2/public/kladr.json`\n   - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤ —á–µ—Ä–µ–∑ `/v3/public/terminals.json`\n   - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤ –ø–æ –Ω–∞–π–¥–µ–Ω–Ω–æ–º—É cityID\n\n3. **–°–æ–∑–¥–∞—Ç—å** —Ñ—É–Ω–∫—Ü–∏—é `getDellinTerminalForCity`:\n   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã `findCityInDellinDirectory`\n   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç default —Ç–µ—Ä–º–∏–Ω–∞–ª –∏–ª–∏ –ø–µ—Ä–≤—ã–π –¥–æ—Å—Ç—É–ø–Ω—ã–π\n\n### **–≠—Ç–∞–ø 2: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ calculator API**\n\n4. **–ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∞—Ç—å** —Ñ—É–Ω–∫—Ü–∏—é `calculateDellin`:\n   - **–î–ª—è —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏**: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ `terminalID`\n   - **–î–ª—è –∞–¥—Ä–µ—Å–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏**: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ `address.search` –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ\n   - **–£–±—Ä–∞—Ç—å** –ª–æ–≥–∏–∫—É —Å–º–µ—à–∏–≤–∞–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤\n\n5. **–î–æ–±–∞–≤–∏—Ç—å** –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é –∞–¥—Ä–µ—Å–æ–≤:\n   - –§–æ—Ä–º–∞—Ç: `\"–†–µ–≥–∏–æ–Ω, –ì–æ—Ä–æ–¥, –£–ª–∏—Ü–∞, –î–æ–º\"`\n   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å DaData –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤\n\n### **–≠—Ç–∞–ø 3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è DaData**\n\n6. **–°–æ–∑–¥–∞—Ç—å** –º–æ–¥—É–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å DaData:\n   - API –∫–ª—é—á: `eb87bbb3789bb43ed465f796892ea951f9e91008`\n   - –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á: `90f3541a30ef6e1c40e665b69f1aa6d74242c3f2`\n   - –§—É–Ω–∫—Ü–∏–∏ –ø–æ–ª—É—á–µ–Ω–∏—è –ö–õ–ê–î–† –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–¥—Ä–µ—Å–æ–≤\n\n7. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å** DaData –≤ –ª–æ–≥–∏–∫—É –∞–¥—Ä–µ—Å–æ–≤:\n   - –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ \"–ú–æ—Å–∫–≤–∞\" ‚Üí \"–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª., –≥ –ú–æ—Å–∫–≤–∞\"\n   - –ü–æ–ª—É—á–µ–Ω–∏–µ –ö–õ–ê–î–† –∫–æ–¥–æ–≤ –¥–ª—è –≥–æ—Ä–æ–¥–æ–≤\n\n### **–≠—Ç–∞–ø 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤**\n\n8. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å** —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ –∫ `/v2/calculator.json`:\n   ```javascript\n   // –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞\n   derival: {\n     variant: \"terminal\",\n     terminalID: \"–Ω–∞–π–¥–µ–Ω–Ω—ã–π_ID\" // –¢–û–õ–¨–ö–û –¥–ª—è —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤\n   }\n   \n   // –ò–õ–ò\n   \n   arrival: {\n     variant: \"address\",\n     address: {\n       search: \"–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª., –ú–æ—Å–∫–≤–∞, —É–ª. –õ–µ–Ω–∏–Ω–∞, 5\" // –¢–û–õ–¨–ö–û –¥–ª—è –∞–¥—Ä–µ—Å–æ–≤\n     }\n   }\n   ```\n\n### **–≠—Ç–∞–ø 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞**\n\n9. **–î–æ–±–∞–≤–∏—Ç—å** –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤\n10. **–°–æ–∑–¥–∞—Ç—å** fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –ø–æ–∏—Å–∫–∞\n11. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å** –Ω–∞ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –≥–æ—Ä–æ–¥–∞—Ö\n\n## üéØ **–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫**\n\n```\n–ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å API –î–µ–ª–æ–≤—ã—Ö –õ–∏–Ω–∏–π —Å–æ–≥–ª–∞—Å–Ω–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:\n\n1. –ó–ê–ú–ï–ù–ò–¢–¨ getDellinTerminalByDirection –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º:\n   - –ü–æ–∏—Å–∫ cityID —á–µ—Ä–µ–∑ /v2/public/kladr.json\n   - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ —á–µ—Ä–µ–∑ /v3/public/terminals.json\n   - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤ –ø–æ cityID\n\n2. –ò–°–ü–†–ê–í–ò–¢–¨ calculateDellin:\n   - –î–ª—è —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤: —Ç–æ–ª—å–∫–æ terminalID (–±–µ–∑ address.search)\n   - –î–ª—è –∞–¥—Ä–µ—Å–æ–≤: —Ç–æ–ª—å–∫–æ address.search –≤ —Ñ–æ—Ä–º–∞—Ç–µ \"–†–µ–≥–∏–æ–Ω, –ì–æ—Ä–æ–¥, –£–ª–∏—Ü–∞, –î–æ–º\"\n   - –£–±—Ä–∞—Ç—å —Å–º–µ—à–∏–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤\n\n3. –î–û–ë–ê–í–ò–¢–¨ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é DaData:\n   - API –∫–ª—é—á: eb87bbb3789bb43ed465f796892ea951f9e91008\n   - –°–µ–∫—Ä–µ—Ç–Ω—ã–π: 90f3541a30ef6e1c40e665b69f1aa6d74242c3f2\n   - –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∞–¥—Ä–µ—Å–æ–≤ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ –ö–õ–ê–î–†\n\n4. –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨ —Ä–µ–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –≤–º–µ—Å—Ç–æ –ø—Ä–∏–º–µ—Ä–æ–≤:\n   - APPKEY: E6C50E91-8E93-440F-9CC6-DEF9F0D68F1B\n\n–ü–†–ò–û–†–ò–¢–ï–¢: —Å–Ω–∞—á–∞–ª–∞ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø–æ–∏—Å–∫ —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤, –∑–∞—Ç–µ–º calculator API.\n–¶–ï–õ–¨: –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ –¥–æ–ª–∂–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—å –≥–æ—Ä–æ–¥–∞ –∏ —Ç–µ—Ä–º–∏–Ω–∞–ª—ã.\n```\n\n## üîß **–ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è**\n\n1. **–ü–æ–ª–Ω–∞—è –∑–∞–º–µ–Ω–∞** –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –ø–æ–∏—Å–∫–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤\n2. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏** —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–π –∏ –∞–¥—Ä–µ—Å–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏\n3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è DaData** –¥–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–¥—Ä–µ—Å–æ–≤\n4. **–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ** –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ calculator API\n5. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö** API –∫–ª—é—á–µ–π –≤–º–µ—Å—Ç–æ –ø—Ä–∏–º–µ—Ä–æ–≤\n\n–≠—Ç–æ—Ç –ø–ª–∞–Ω —É—Å—Ç—Ä–∞–Ω–∏—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã, –ø–æ –∫–æ—Ç–æ—Ä—ã–º –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ –Ω–µ –º–æ–≥—É—Ç –Ω–∞–π—Ç–∏ –≥–æ—Ä–æ–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è/–ø–æ–ª—É—á–µ–Ω–∏—è –∏ —Ç–µ—Ä–º–∏–Ω–∞–ª—ã.",
  "time": {
    "start": 1759827277670,
    "end": 1759827277670
  }
}
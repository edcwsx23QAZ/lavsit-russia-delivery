{
  "id": "prt_9ba124be6001KBfTuLyjmhOMIu",
  "messageID": "msg_9ba118053001AJ1SfE478X1dIy",
  "sessionID": "ses_6852784ecffeuHwynj83p2lr14",
  "type": "tool",
  "tool": "multiedit",
  "callID": "toolu_01TwzY9wYtJmg3WgfBbyVxKW",
  "state": {
    "status": "completed",
    "input": {
      "filePath": "/home/user/project/lib/form-storage.ts",
      "edits": [
        {
          "oldString": "export interface StoredFormData {\n  version: string;\n  timestamp: number;\n  cargos: Array<{\n    id: string;\n    length: number;\n    width: number;\n    height: number;\n    weight: number;\n  }>;\n  fromCity: string;\n  toCity: string;\n  fromAddress: string;\n  toAddress: string;\n  declaredValue: number;\n  needPackaging: boolean;\n  needLoading: boolean;\n  needCarry: boolean;\n  floor: number;\n  hasFreightLift: boolean;\n  needInsurance: boolean;\n  fromTerminal: boolean;\n  toTerminal: boolean;\n  fromAddressDelivery: boolean;\n  toAddressDelivery: boolean;\n  fromLavsiteWarehouse: boolean;\n  selectedProducts: Array<{\n    product: {\n      id: string;\n      externalCode: string;\n      name: string;\n      retailPrice: number;\n      isActive: boolean;\n      cargoPlaces: Array<{\n        placeNumber: number;\n        weight: number;\n        height: number;\n        depth: number;\n        length: number;\n      }>;\n    };\n    quantity: number;\n    totalPrice: number;\n    cargoIndexes: number[];\n    addedAt: number;\n  }>;\n}",
          "newString": "export interface StoredFormData {\n  version: string;\n  timestamp: number;\n  cargos: Array<{\n    id: string;\n    length: number;\n    width: number;\n    height: number;\n    weight: number;\n    productId?: string;\n    placeNumber?: number;\n    isFromProduct?: boolean;\n    addedAt?: number;\n  }>;\n  fromCity: string;\n  toCity: string;\n  fromAddress: string;\n  toAddress: string;\n  declaredValue: number;\n  needPackaging: boolean;\n  needLoading: boolean;\n  needCarry: boolean;\n  floor: number;\n  hasFreightLift: boolean;\n  needInsurance: boolean;\n  fromTerminal: boolean;\n  toTerminal: boolean;\n  fromAddressDelivery: boolean;\n  toAddressDelivery: boolean;\n  fromLavsiteWarehouse: boolean;\n  selectedProducts: Array<{\n    product: {\n      id: string;\n      externalCode: string;\n      name: string;\n      retailPrice: number;\n      isActive: boolean;\n      cargoPlaces: Array<{\n        placeNumber: number;\n        weight: number;\n        height: number;\n        depth: number;\n        length: number;\n      }>;\n    };\n    quantity: number;\n    totalPrice: number;\n    cargoIndexes: number[];\n    addedAt: number;\n  }>;\n  enabledCompanies?: Record<string, boolean>;\n}"
        },
        {
          "oldString": "const FORM_VERSION = '1.1'; // –î–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–¥–æ–±–∞–≤–ª–µ–Ω fromLavsiteWarehouse)",
          "newString": "const FORM_VERSION = '1.2'; // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ñ–æ—Ä–º—ã + enabledCompanies"
        },
        {
          "oldString": "      fromLavsiteWarehouse: formData.fromLavsiteWarehouse || false,\n      selectedProducts: formData.selectedProducts || [],",
          "newString": "      fromLavsiteWarehouse: formData.fromLavsiteWarehouse || false,\n      selectedProducts: formData.selectedProducts || [],\n      enabledCompanies: formData.enabledCompanies || {},"
        }
      ]
    },
    "output": "",
    "metadata": {
      "results": [
        {
          "diagnostics": {},
          "diff": "Index: /home/user/project/lib/form-storage.ts\n===================================================================\n--- /home/user/project/lib/form-storage.ts\n+++ /home/user/project/lib/form-storage.ts\n@@ -12,8 +12,12 @@\n     length: number;\n     width: number;\n     height: number;\n     weight: number;\n+    productId?: string;\n+    placeNumber?: number;\n+    isFromProduct?: boolean;\n+    addedAt?: number;\n   }>;\n   fromCity: string;\n   toCity: string;\n   fromAddress: string;\n@@ -49,8 +53,9 @@\n     totalPrice: number;\n     cargoIndexes: number[];\n     addedAt: number;\n   }>;\n+  enabledCompanies?: Record<string, boolean>;\n }\n \n /**\n  * –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã –≤ localStorage\n"
        },
        {
          "diagnostics": {},
          "diff": "Index: /home/user/project/lib/form-storage.ts\n===================================================================\n--- /home/user/project/lib/form-storage.ts\n+++ /home/user/project/lib/form-storage.ts\n@@ -1,9 +1,9 @@\n 'use client';\n \n // –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è –∫–ª—é—á–µ–π localStorage\n const FORM_DATA_KEY = 'deliveryFormData';\n-const FORM_VERSION = '1.1'; // –î–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–¥–æ–±–∞–≤–ª–µ–Ω fromLavsiteWarehouse)\n+const FORM_VERSION = '1.2'; // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ñ–æ—Ä–º—ã + enabledCompanies\n \n export interface StoredFormData {\n   version: string;\n   timestamp: number;\n"
        },
        {
          "diagnostics": {},
          "diff": "Index: /home/user/project/lib/form-storage.ts\n===================================================================\n--- /home/user/project/lib/form-storage.ts\n+++ /home/user/project/lib/form-storage.ts\n@@ -87,8 +87,9 @@\n   fromAddressDelivery: formData.fromAddressDelivery || false,\n   toAddressDelivery: formData.toAddressDelivery || false,\n   fromLavsiteWarehouse: formData.fromLavsiteWarehouse || false,\n   selectedProducts: formData.selectedProducts || [],\n+  enabledCompanies: formData.enabledCompanies || {},\n };\n \n localStorage.setItem(FORM_DATA_KEY, JSON.stringify(dataToSave));\n console.log('üíæ –î–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ localStorage:', dataToSave);\n"
        }
      ]
    },
    "title": "lib/form-storage.ts",
    "time": {
      "start": 1759763400553,
      "end": 1759763400564
    }
  }
}
{
  "id": "prt_9ba42f5c40016DN4PnbuHbnSvf",
  "messageID": "msg_9ba42d340001dNg2CfHQCCx05y",
  "sessionID": "ses_6852784ecffeuHwynj83p2lr14",
  "type": "tool",
  "tool": "read",
  "callID": "toolu_01W9FWb7xaGYo9VceeCx2JVh",
  "state": {
    "status": "completed",
    "input": {
      "filePath": "/home/user/project/app/page.tsx",
      "offset": 3865,
      "limit": 200
    },
    "output": "<file>\n03866|                 </Button>\n03867|               </CardContent>\n03868|             </Card>\n03869| \n03870|             {/* Маршрут */}\n03871|             <Card className=\"bg-gray-800 border-gray-700\">\n03872|               <CardHeader className=\"pb-2\">\n03873|                 <CardTitle className=\"text-white flex items-center gap-2 text-sm\">\n03874|                   <Map className=\"h-3 w-3\" />\n03875|                   Маршрут\n03876|                 </CardTitle>\n03877|               </CardHeader>\n03878|               <CardContent className=\"space-y-2\">\n03879|                 <div>\n03880|                   <Label className=\"text-white text-xs\">Объявленная стоимость (руб.)</Label>\n03881|                   <Input\n03882|                     type=\"number\"\n03883|                     value={form.declaredValue || ''}\n03884|                     onChange={(e) => setForm(prev => ({ ...prev, declaredValue: Number(e.target.value) }))}\n03885|                     className=\"bg-gray-700 border-gray-600 h-8 text-white\"\n03886|                   />\n03887|                 </div>\n03888|                 \n03889|                 <div className=\"space-y-2\">\n03890|                   <div className=\"flex items-center space-x-2\">\n03891|                     <Checkbox\n03892|                       id=\"packaging\"\n03893|                       checked={form.needPackaging}\n03894|                       onCheckedChange={(checked) => setForm(prev => ({ ...prev, needPackaging: checked as boolean }))}\n03895|                       className=\"border-white data-[state=checked]:bg-white data-[state=checked]:text-black\"\n03896|                     />\n03897|                     <Label htmlFor=\"packaging\" className=\"text-white text-xs\">Требуется упаковка</Label>\n03898|                   </div>\n03899|                   \n03900|                   <div className=\"flex items-center space-x-2\">\n03901|                     <Checkbox\n03902|                       id=\"insurance\"\n03903|                       checked={form.needInsurance}\n03904|                       onCheckedChange={(checked) => setForm(prev => ({ ...prev, needInsurance: checked as boolean }))}\n03905|                       className=\"border-white data-[state=checked]:bg-white data-[state=checked]:text-black\"\n03906|                     />\n03907|                     <Label htmlFor=\"insurance\" className=\"text-white text-xs\">Требуется страховка</Label>\n03908|                   </div>\n03909|                   \n03910|                   <div className=\"flex items-center space-x-2\">\n03911|                     <Checkbox\n03912|                       id=\"loading\"\n03913|                       checked={form.needLoading}\n03914|                       onCheckedChange={(checked) => setForm(prev => ({ ...prev, needLoading: checked as boolean }))}\n03915|                       className=\"border-white data-[state=checked]:bg-white data-[state=checked]:text-black\"\n03916|                     />\n03917|                     <Label htmlFor=\"loading\" className=\"text-white text-xs\">Требуется погрузка/разгрузка</Label>\n03918|                   </div>\n03919|                   \n03920|                   <div className=\"flex items-center space-x-2\">\n03921|                     <Checkbox\n03922|                       id=\"carry\"\n03923|                       checked={form.needCarry}\n03924|                       onCheckedChange={(checked) => setForm(prev => ({ ...prev, needCarry: checked as boolean }))}\n03925|                       className=\"border-white data-[state=checked]:bg-white data-[state=checked]:text-black\"\n03926|                     />\n03927|                     <Label htmlFor=\"carry\" className=\"text-white text-xs\">Требуется подъем</Label>\n03928|                   </div>\n03929|                   \n03930|                   {form.needCarry && (\n03931|                     <div className=\"ml-6 space-y-2 border-l-2 border-gray-600 pl-3\">\n03932|                       <div>\n03933|                         <Label className=\"text-white text-xs\">Этаж</Label>\n03934|                         <Input\n03935|                           type=\"number\"\n03936|                           value={form.floor}\n03937|                           onChange={(e) => setForm(prev => ({ ...prev, floor: Number(e.target.value) }))}\n03938|                           className=\"bg-gray-700 border-gray-600 h-8 text-white\"\n03939|                         />\n03940|                       </div>\n03941|                       <div className=\"flex items-center space-x-2\">\n03942|                         <Checkbox\n03943|                           id=\"freightLift\"\n03944|                           checked={form.hasFreightLift}\n03945|                           onCheckedChange={(checked) => setForm(prev => ({ ...prev, hasFreightLift: checked as boolean }))}\n03946|                         />\n03947|                         <Label htmlFor=\"freightLift\" className=\"text-white text-xs\">Наличие грузового лифта</Label>\n03948|                       </div>\n03949|                     </div>\n03950|                   )}\n03951|                 </div>\n03952|                 \n03953|                 <div className=\"space-y-2\">\n03954|                   <Button \n03955|                     onClick={handleCalculate} \n03956|                     className=\"w-full bg-blue-600 hover:bg-blue-700 h-7 text-xs\" \n03957|                     disabled={calculating}\n03958|                   >\n03959|                     {calculating ? 'Расчет...' : 'Рассчитать'}\n03960|                   </Button>\n03961|                   \n03962|                   <Button \n03963|                     onClick={handleReset} \n03964|                     variant=\"outline\" \n03965|                     className=\"w-full h-7 text-xs text-black border-gray-600 hover:bg-gray-700 hover:text-white\" \n03966|                     disabled={calculating}\n03967|                   >\n03968|                     Сбросить расчет\n03969|                   </Button>\n03970|                 </div>\n03971|               </CardContent>\n03972|             </Card>\n03973|           </div>\n03974| \n03975|           {/* Правая часть - результаты */}\n03976|           <div className=\"space-y-2 overflow-y-auto\">\n03977|             {calculations.length > 0 && (\n03978|                  <div className=\"space-y-2\">\n03979|                 <div className=\"flex justify-between items-center\">\n03980|                   <h2 className=\"text-lg font-bold text-blue-400\">Результаты расчета</h2>\n03981|                   <Button \n03982|                     onClick={exportToPDF} \n03983|                     variant=\"outline\" \n03984|                     size=\"sm\" \n03985|                     className=\"h-7 text-xs border-blue-500 text-blue-400 hover:bg-blue-900/20 print:hidden\"\n03986|                   >\n03987|                     Сохранить в PDF\n03988|                   </Button>\n03989|                 </div>\n03990|                 \n03991|                 {calculations.map((calc, index) => (\n03992|                    <Card key={index} className=\"bg-gray-800 border-gray-700 text-xs\">\n03993|                      <CardHeader className=\"pb-1\">\n03994|                       <div className=\"flex justify-between items-center\">\n03995|                          <CardTitle className=\"text-white flex items-center gap-2 text-xs\">\n03996|                            <Building2 className=\"h-3 w-3\" />\n03997|                           {calc.company}\n03998|                         </CardTitle>\n03999|                         {calc.error ? (\n04000|                           <Badge variant=\"destructive\" className=\"text-xs\">Ошибка</Badge>\n04001|                         ) : (\n04002|                           <Badge variant=\"default\" className=\"bg-green-600 text-xs\">\n04003|                             {calc.price.toLocaleString()} ₽\n04004|                           </Badge>\n04005|                         )}\n04006|                       </div>\n04007|                     </CardHeader>\n04008|                     <CardContent className=\"pt-0\">\n04009|                       <div className=\"space-y-2\">\n04010|                         {calc.error ? (\n04011|                           <div className=\"space-y-2\">\n04012|                             <Alert className=\"border-red-600\">\n04013|                               <AlertDescription className=\"text-white text-xs\">{calc.error}</AlertDescription>\n04014|                             </Alert>\n04015|                             {calc.price > 0 && (\n04016|                               <>\n04017|                                 <p className=\"text-white text-xs\"><strong>Примерная стоимость:</strong> {calc.price.toLocaleString()} ₽</p>\n04018|                                 <p className=\"text-white text-xs\"><strong>Примерный срок:</strong> {calc.days} дней</p>\n04019|                               </>\n04020|                             )}\n04021|                           </div>\n04022|                         ) : (\n04023|                           <>\n04024|                             <p className=\"text-white text-xs\"><strong>Стоимость:</strong> {calc.price.toLocaleString()} ₽</p>\n04025|                             <p className=\"text-white text-xs\"><strong>Срок доставки:</strong> {calc.days} дней</p>\n04026|                           </>\n04027|                         )}\n04028|                         \n04029|                         <div className=\"flex gap-2 mt-2\">\n04030|                           {!calc.error && (\n04031|                             <Button\n04032|                               variant=\"outline\"\n04033|                               size=\"sm\"\n04034|                               onClick={() => toggleDetails(calc.company)}\n04035|                               className=\"h-6 text-xs\"\n04036|                             >\n04037|                               {expandedDetails[calc.company] ? 'Скрыть подробнее' : 'Показать подробнее'}\n04038|                             </Button>\n04039|                           )}\n04040|                           <Button\n04041|                             variant=\"outline\"\n04042|                             size=\"sm\"\n04043|                             onClick={() => toggleDebugInfo(calc.company)}\n04044|                             className=\"h-6 text-xs\"\n04045|                           >\n04046|                             {expandedDebugInfo[calc.company] ? 'Скрыть отладку' : 'Отладочная информация'}\n04047|                           </Button>\n04048|                         </div>\n04049|                         \n04050|                         {/* Детали расчета */}\n04051|                         {!calc.error && (\n04052|                           <Collapsible open={expandedDetails[calc.company]}>\n04053|                             <CollapsibleContent className=\"mt-2\">\n04054|                               <div className=\"bg-gray-900 p-3 rounded text-xs\">\n04055|                                 <h4 className=\"font-bold mb-2 text-white\">Детали расчета:</h4>\n04056|                                 {(() => {\n04057|                                   const details = parseCalculationDetails(calc);\n04058|                                   const totalPrice = details.reduce((sum, detail) => sum + detail.price, 0);\n04059|                                   \n04060|                                   return (\n04061|                                     <div className=\"space-y-1\">\n04062|                                       {details.map((detail, idx) => (\n04063|                                         <div key={idx} className=\"flex justify-between text-white\">\n04064|                                           <div>\n04065|                                             <div className=\"font-medium\">{detail.service}</div>\n\n(File has more lines. Use 'offset' parameter to read beyond line 4065)\n</file>",
    "metadata": {
      "preview": "                </Button>\n              </CardContent>\n            </Card>\n\n            {/* Маршрут */}\n            <Card className=\"bg-gray-800 border-gray-700\">\n              <CardHeader className=\"pb-2\">\n                <CardTitle className=\"text-white flex items-center gap-2 text-sm\">\n                  <Map className=\"h-3 w-3\" />\n                  Маршрут\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-2\">\n                <div>\n                  <Label className=\"text-white text-xs\">Объявленная стоимость (руб.)</Label>\n                  <Input\n                    type=\"number\"\n                    value={form.declaredValue || ''}\n                    onChange={(e) => setForm(prev => ({ ...prev, declaredValue: Number(e.target.value) }))}\n                    className=\"bg-gray-700 border-gray-600 h-8 text-white\""
    },
    "title": "app/page.tsx",
    "time": {
      "start": 1759766575388,
      "end": 1759766575393
    }
  }
}
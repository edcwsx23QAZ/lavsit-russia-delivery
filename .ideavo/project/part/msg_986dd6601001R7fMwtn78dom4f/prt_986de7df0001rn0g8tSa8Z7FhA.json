{
  "id": "prt_986de7df0001rn0g8tSa8Z7FhA",
  "messageID": "msg_986dd6601001R7fMwtn78dom4f",
  "sessionID": "ses_6852784ecffeuHwynj83p2lr14",
  "type": "tool",
  "tool": "read",
  "callID": "toolu_01W6VDGjM7LCzHdzDngP8ut2",
  "state": {
    "status": "completed",
    "input": {
      "filePath": "/home/user/project/app/page.tsx",
      "offset": 1050,
      "limit": 100
    },
    "output": "<file>\n01051|       console.log(`üìç –î–æ: ${form.toAddress || form.toCity}`);\n01052|       \n01053|       const senderZone = await getPekZoneByAddress(form.fromAddress || `–≥ ${form.fromCity}`);\n01054|       const receiverZone = await getPekZoneByAddress(form.toAddress || `–≥ ${form.toCity}`);\n01055|       \n01056|       console.log(`üîç –ü–≠–ö –∑–æ–Ω—ã:`);\n01057|       console.log(`üìç –û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å:`, senderZone ? `${senderZone.branchTitle} (${senderZone.mainWarehouseId})` : '–ù–ï –ù–ê–ô–î–ï–ù–ê');\n01058|       console.log(`üìç –ü–æ–ª—É—á–∞—Ç–µ–ª—å:`, receiverZone ? `${receiverZone.branchTitle} (${receiverZone.mainWarehouseId})` : '–ù–ï –ù–ê–ô–î–ï–ù–ê');\n01059|       \n01060|       if (!senderZone || !receiverZone) {\n01061|         // –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞\n01062|         const debugInfo = {\n01063|           senderAddress: form.fromAddress || form.fromCity,\n01064|           receiverAddress: form.toAddress || form.toCity,\n01065|           senderZoneFound: !!senderZone,\n01066|           receiverZoneFound: !!receiverZone,\n01067|           apiTested: true\n01068|         };\n01069|         \n01070|         console.error(`‚ùå –ü–≠–ö: –∑–æ–Ω—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã`, debugInfo);\n01071|         \n01072|         return {\n01073|           company: '–ü–≠–ö',\n01074|           price: 0,\n01075|           days: 0,\n01076|           error: `–ó–æ–Ω–∞ –ü–≠–ö –Ω–µ –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç—Å—è. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–¥—Ä–µ—Å–∞: ${!senderZone ? (form.fromAddress || form.fromCity) : ''} ${!receiverZone ? (form.toAddress || form.toCity) : ''}`.trim(),\n01077|           apiUrl,\n01078|           requestData: debugInfo,\n01079|           responseData: { senderZone, receiverZone }\n01080|         };\n01081|       }\n01082| \n01083|       // –ü–æ–ª—É—á–∞–µ–º –±–ª–∏–∂–∞–π—à–∏–µ –æ—Ç–¥–µ–ª–µ–Ω–∏—è –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –∞–¥—Ä–µ—Å–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞\n01084|       let senderWarehouseId = senderZone.mainWarehouseId;\n01085|       let receiverWarehouseId = receiverZone.mainWarehouseId;\n01086|       \n01087|       if (form.fromAddressDelivery && senderZone.warehousePoint) {\n01088|         const senderDepartment = await getPekNearestDepartments(\n01089|           form.fromAddress || form.fromCity,\n01090|           {\n01091|             latitude: senderZone.warehousePoint.latitude.toString(),\n01092|             longitude: senderZone.warehousePoint.longitude.toString()\n01093|           }\n01094|         );\n01095|         if (senderDepartment) {\n01096|           senderWarehouseId = senderDepartment.warehouseId;\n01097|         }\n01098|       }\n01099|       \n01100|       if (form.toAddressDelivery && receiverZone.warehousePoint) {\n01101|         const receiverDepartment = await getPekNearestDepartments(\n01102|           form.toAddress || form.toCity,\n01103|           {\n01104|             latitude: receiverZone.warehousePoint.latitude.toString(),\n01105|             longitude: receiverZone.warehousePoint.longitude.toString()\n01106|           }\n01107|         );\n01108|         if (receiverDepartment) {\n01109|           receiverWarehouseId = receiverDepartment.warehouseId;\n01110|         }\n01111|       }\n01112| \n01113|       // –§–æ—Ä–º–∏—Ä—É–µ–º –¥–∞—Ç—É –∑–∞–≤—Ç—Ä–∞ –¥–ª—è –∑–∞–±–æ—Ä–∞\n01114|       const tomorrow = new Date();\n01115|       tomorrow.setDate(tomorrow.getDate() + 1);\n01116|       const plannedDateTime = tomorrow.toISOString().slice(0, 19); // 2025-09-28T14:00:00\n01117| \n01118|       // –§–æ—Ä–º–∏—Ä—É–µ–º –º–∞—Å—Å–∏–≤ –≥—Ä—É–∑–æ–≤\n01119|       const cargos = form.cargos.map(cargo => ({\n01120|         length: cargo.length / 100, // –ø–µ—Ä–µ–≤–æ–¥–∏–º —Å–º –≤ –º–µ—Ç—Ä—ã\n01121|         width: cargo.width / 100,\n01122|         height: cargo.height / 100,\n01123|         volume: (cargo.length * cargo.width * cargo.height) / 1000000, // –º3\n01124|         weight: cargo.weight,\n01125|         isHP: form.needPackaging, // –∑–∞—â–∏—Ç–Ω–∞—è —É–ø–∞–∫–æ–≤–∫–∞\n01126|         sealingPositionsCount: 0\n01127|       }));\n01128| \n01129|       // –§–æ—Ä–º–∏—Ä—É–µ–º –∑–∞–ø—Ä–æ—Å –∫ API –ü–≠–ö\n01130|       const requestData: any = {\n01131|         currencyCode: \"643\", // —Ä—É–±–ª–∏\n01132|         types: [3], // —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ –ø–µ—Ä–µ–≤–æ–∑–∫–∞\n01133|         senderWarehouseId,\n01134|         receiverWarehouseId,\n01135|         isOpenCarSender: false,\n01136|         isOpenCarReceiver: false,\n01137|         isHyperMarket: false,\n01138|         plannedDateTime,\n01139|         isInsurance: form.needInsurance && form.declaredValue > 0,\n01140|         isInsurancePrice: form.needInsurance ? form.declaredValue : 0,\n01141|         isPickUp: form.fromAddressDelivery,\n01142|         isDelivery: form.toAddressDelivery,\n01143|         needReturnDocuments: false,\n01144|         needArrangeTransportationDocuments: false,\n01145|         senderDistanceType: 0,\n01146|         receiverDistanceType: 0,\n01147|         cargos\n01148|       };\n01149| \n01150|       // –î–æ–±–∞–≤–ª—è–µ–º —É—Å–ª—É–≥–∏ –ü–†–† –µ—Å–ª–∏ –Ω—É–∂–Ω–æ\n\n(File has more lines. Use 'offset' parameter to read beyond line 1150)\n</file>",
    "metadata": {
      "preview": "      console.log(`üìç –î–æ: ${form.toAddress || form.toCity}`);\n      \n      const senderZone = await getPekZoneByAddress(form.fromAddress || `–≥ ${form.fromCity}`);\n      const receiverZone = await getPekZoneByAddress(form.toAddress || `–≥ ${form.toCity}`);\n      \n      console.log(`üîç –ü–≠–ö –∑–æ–Ω—ã:`);\n      console.log(`üìç –û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å:`, senderZone ? `${senderZone.branchTitle} (${senderZone.mainWarehouseId})` : '–ù–ï –ù–ê–ô–î–ï–ù–ê');\n      console.log(`üìç –ü–æ–ª—É—á–∞—Ç–µ–ª—å:`, receiverZone ? `${receiverZone.branchTitle} (${receiverZone.mainWarehouseId})` : '–ù–ï –ù–ê–ô–î–ï–ù–ê');\n      \n      if (!senderZone || !receiverZone) {\n        // –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞\n        const debugInfo = {\n          senderAddress: form.fromAddress || form.fromCity,\n          receiverAddress: form.toAddress || form.toCity,\n          senderZoneFound: !!senderZone,\n          receiverZoneFound: !!receiverZone,\n          apiTested: true\n        };\n        \n        console.error(`‚ùå –ü–≠–ö: –∑–æ–Ω—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã`, debugInfo);"
    },
    "title": "app/page.tsx",
    "time": {
      "start": 1758904353228,
      "end": 1758904353230
    }
  }
}
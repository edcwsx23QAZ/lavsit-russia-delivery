{
  "id": "prt_99a31806e001AxK1IB8shXwEGb",
  "messageID": "msg_99a3152c3001ate4jfBsKpjbGd",
  "sessionID": "ses_6852784ecffeuHwynj83p2lr14",
  "type": "tool",
  "tool": "read",
  "callID": "toolu_01HABjEaRRj4isnWDdhbhdhe",
  "state": {
    "status": "completed",
    "input": {
      "filePath": "/home/user/project/app/diagnostic/page.tsx"
    },
    "output": "<file>\n00001| 'use client';\n00002| \n00003| import React, { useState, useEffect } from 'react';\n00004| import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\n00005| import { Button } from '@/components/ui/button';\n00006| import { Alert, AlertDescription } from '@/components/ui/alert';\n00007| import { Badge } from '@/components/ui/badge';\n00008| import { Building2, Truck, Activity, CheckCircle, AlertCircle, XCircle, TestTube, PlayCircle, Plus, Trash2, Save, ExternalLink, RefreshCw, Download } from 'lucide-react';\n00009| import { Input } from '@/components/ui/input';\n00010| import { Label } from '@/components/ui/label';\n00011| \n00012| export default function DiagnosticPage() {\n00013|   const [isTestingPEK, setIsTestingPEK] = useState(false);\n00014|   const [isTestingDellin, setIsTestingDellin] = useState(false);\n00015|   const [isTestingRailContinent, setIsTestingRailContinent] = useState(false);\n00016|   const [isTestingVozovoz, setIsTestingVozovoz] = useState(false);\n00017|   const [isTestingNordWheel, setIsTestingNordWheel] = useState(false);\n00018|   const [isFullTesting, setIsFullTesting] = useState(false);\n00019|   \n00020|   const [diagnosticResults, setDiagnosticResults] = useState<{\n00021|     [key: string]: {\n00022|       status: 'success' | 'warning' | 'error' | 'pending';\n00023|       message: string;\n00024|       details?: any;\n00025|       response?: any;\n00026|       requestData?: any;\n00027|       timing?: number;\n00028|     }\n00029|   }>({});\n00030| \n00031|   const [fullTestResults, setFullTestResults] = useState<{\n00032|     summary: {\n00033|       totalTests: number;\n00034|       successful: number;\n00035|       failed: number;\n00036|       skipped: number;\n00037|       errors: string[];\n00038|       averageResponseTime: number;\n00039|       successRate: number;\n00040|     };\n00041|     details: any[];\n00042|     progressInfo: {\n00043|       currentTK: string;\n00044|       completedTests: number;\n00045|       totalPlannedTests: number;\n00046|       stage: string;\n00047|     } | null;\n00048|   } | null>(null);\n00049| \n00050|   const [testProgress, setTestProgress] = useState<{\n00051|     currentTK: string;\n00052|     completedTests: number;\n00053|     totalPlannedTests: number;\n00054|     stage: string;\n00055|   } | null>(null);\n00056| \n00057|   // –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–∏–ø–∞–º–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π\n00058|   const [vehicleTypes, setVehicleTypes] = useState([\n00059|     { id: '1', name: '–§–æ—Ä–¥ –¢—Ä–∞–Ω–∑–∏—Ç', length: 4200, width: 2025, height: 2025 },\n00060|     { id: '2', name: '–§—É—Ä–∞ 18–º3', length: 4200, width: 2200, height: 2000 }\n00061|   ]);\n00062|   const [newVehicle, setNewVehicle] = useState({ name: '', length: '', width: '', height: '' });\n00063|   const [isSaving, setIsSaving] = useState(false);\n00064|   const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\n00065|   const [saveStatus, setSaveStatus] = useState<'idle' | 'saving' | 'success' | 'error'>('idle');\n00066|   const [isUpdatingData, setIsUpdatingData] = useState(false);\n00067|   const [updateStatus, setUpdateStatus] = useState<'idle' | 'updating' | 'success' | 'error'>('idle');\n00068|   const [lastUpdateTime, setLastUpdateTime] = useState<string | null>(null);\n00069|   \n00070|   // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ —Ç–∏–ø—ã –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏\n00071|   useEffect(() => {\n00072|     try {\n00073|       const saved = localStorage.getItem('vehicleTypes');\n00074|       if (saved) {\n00075|         const parsedVehicleTypes = JSON.parse(saved);\n00076|         setVehicleTypes(parsedVehicleTypes);\n00077|       }\n00078|       \n00079|       // –ó–∞–≥—Ä—É–∂–∞–µ–º –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è\n00080|       const lastUpdate = localStorage.getItem('lastProductDataUpdate');\n00081|       if (lastUpdate) {\n00082|         setLastUpdateTime(new Date(lastUpdate).toLocaleString('ru-RU'));\n00083|       }\n00084|     } catch (error) {\n00085|       console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:', error);\n00086|     }\n00087|   }, []);\n00088| \n00089|   // –§—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–∏–ø–∞–º–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π\n00090|   const addVehicleType = () => {\n00091|     if (!newVehicle.name || !newVehicle.length || !newVehicle.width || !newVehicle.height) {\n00092|       alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è');\n00093|       return;\n00094|     }\n00095|     \n00096|     const newId = (vehicleTypes.length + 1).toString();\n00097|     const vehicleToAdd = {\n00098|       id: newId,\n00099|       name: newVehicle.name,\n00100|       length: parseInt(newVehicle.length),\n00101|       width: parseInt(newVehicle.width),\n00102|       height: parseInt(newVehicle.height)\n00103|     };\n00104|     \n00105|     setVehicleTypes([...vehicleTypes, vehicleToAdd]);\n00106|     setNewVehicle({ name: '', length: '', width: '', height: '' });\n00107|     setHasUnsavedChanges(true);\n00108|   };\n00109|   \n00110|   const removeVehicleType = (id: string) => {\n00111|     setVehicleTypes(vehicleTypes.filter(vehicle => vehicle.id !== id));\n00112|     setHasUnsavedChanges(true);\n00113|   };\n00114|   \n00115|   const updateVehicleType = (id: string, field: string, value: string | number) => {\n00116|     setVehicleTypes(vehicleTypes.map(vehicle => \n00117|       vehicle.id === id ? { ...vehicle, [field]: value } : vehicle\n00118|     ));\n00119|     setHasUnsavedChanges(true);\n00120|   };\n00121|   \n00122|   const saveVehicleTypes = async () => {\n00123|     setIsSaving(true);\n00124|     setSaveStatus('saving');\n00125|     try {\n00126|       // –ò–º–∏—Ç–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã –±—ã–ª API –∑–∞–ø—Ä–æ—Å)\n00127|       localStorage.setItem('vehicleTypes', JSON.stringify(vehicleTypes));\n00128|       \n00129|       // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏ —Å–µ—Ç–µ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞\n00130|       await new Promise(resolve => setTimeout(resolve, 1000));\n00131|       \n00132|       setHasUnsavedChanges(false);\n00133|       setSaveStatus('success');\n00134|       \n00135|       // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã\n00136|       setTimeout(() => setSaveStatus('idle'), 3000);\n00137|     } catch (error) {\n00138|       console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:', error);\n00139|       setSaveStatus('error');\n00140|       setTimeout(() => setSaveStatus('idle'), 5000);\n00141|     } finally {\n00142|       setIsSaving(false);\n00143|     }\n00144|   };\n00145| \n00146|   // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ Google Sheets\n00147|   const updateProductData = async () => {\n00148|     setIsUpdatingData(true);\n00149|     setUpdateStatus('updating');\n00150|     \n00151|     try {\n00152|       console.log('üîÑ –ù–∞—á–∏–Ω–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ Google Sheets...');\n00153|       \n00154|       // –û—á–∏—â–∞–µ–º –∫—ç—à —Ç–æ–≤–∞—Ä–æ–≤ —á–µ—Ä–µ–∑ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ API\n00155|       const response = await fetch('/api/furniture-products?update=true');\n00156|       const result = await response.json();\n00157|       \n00158|       if (!result.success) {\n00159|         throw new Error(result.error || '–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö');\n00160|       }\n00161|       \n00162|       console.log(`‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ ${result.data.length} —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ Google Sheets`);\n00163|       console.log(`üï∞Ô∏è –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: ${result.lastUpdated}`);\n00164|       \n00165|       // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π (–æ—Å—Ç–∞–≤–ª—è–µ–º –∫–∞–∫ –µ—Å—Ç—å, —Ç.–∫. —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å)\n00166|       // –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å - –æ–±–Ω–æ–≤–∏—Ç—å –∫—ç—à —Ç–æ–≤–∞—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ ProductSearch\n00167|       \n00168|       // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –≥–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤\n00169|       if (window.opener) {\n00170|         window.opener.postMessage({\n00171|           type: 'PRODUCTS_UPDATED',\n00172|           data: {\n00173|             productsCount: result.data.length,\n00174|             lastUpdated: result.lastUpdated\n00175|           }\n00176|         }, '*');\n00177|         console.log('üì° –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –≥–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ –æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤');\n00178|       }\n00179|       \n00180|       // –û—á–∏—â–∞–µ–º localStorage –æ—Ç —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö –æ —Ç–æ–≤–∞—Ä–∞—Ö\n00181|       const keysToRemove: string[] = [];\n00182|       for (let i = 0; i < localStorage.length; i++) {\n00183|         const key = localStorage.key(i);\n00184|         if (key && (key.startsWith('furniture_') || key.startsWith('product_') || key.includes('cargo'))) {\n00185|           keysToRemove.push(key);\n00186|         }\n00187|       }\n00188|       keysToRemove.forEach(key => localStorage.removeItem(key));\n00189|       console.log(`üßΩ –û—á–∏—â–µ–Ω–æ ${keysToRemove.length} –∫–ª—é—á–µ–π –∏–∑ localStorage`);\n00190|       \n00191|       // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è\n00192|       localStorage.setItem('lastProductDataUpdate', new Date().toISOString());\n00193|       \n00194|       setUpdateStatus('success');\n00195|       setLastUpdateTime(new Date().toLocaleString('ru-RU'));\n00196|       setHasUnsavedChanges(false);\n00197|       \n00198|       // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã–≤–∞–µ–º —Å—Ç–∞—Ç—É—Å —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã\n00199|       setTimeout(() => setUpdateStatus('idle'), 3000);\n00200|       \n00201|     } catch (error) {\n00202|       console.error('‚ùå –û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:', error);\n00203|       setUpdateStatus('error');\n00204|       setTimeout(() => setUpdateStatus('idle'), 5000);\n00205|     } finally {\n00206|       setIsUpdatingData(false);\n00207|     }\n00208|   };\n00209| \n00210|   const updateResult = (service: string, result: any) => {\n00211|     setDiagnosticResults(prev => ({\n00212|       ...prev,\n00213|       [service]: result\n00214|     }));\n00215|   };\n00216| \n00217|   const testPEKAPI = async () => {\n00218|     setIsTestingPEK(true);\n00219|     const startTime = Date.now();\n00220|     \n00221|     try {\n00222|       console.log('üîß –ù–∞—á–∏–Ω–∞–µ–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –ü–≠–ö API...');\n00223|       \n00224|       // –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ü–≠–ö\n00225|       const testData = {\n00226|         fromCity: '–ú–æ—Å–∫–≤–∞',\n00227|         toCity: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',\n00228|         cargos: [{\n00229|           length: 100,\n00230|           width: 100,\n00231|           height: 100,\n00232|           weight: 10\n00233|         }],\n00234|         declaredValue: 50000,\n00235|         fromAddressDelivery: false,\n00236|         toAddressDelivery: false,\n00237|         needPackaging: false,\n00238|         needInsurance: false\n00239|       };\n00240| \n00241|       const response = await fetch('/api/pek', {\n00242|         method: 'POST',\n00243|         headers: { 'Content-Type': 'application/json' },\n00244|         body: JSON.stringify(testData)\n00245|       });\n00246| \n00247|       const data = await response.json();\n00248|       const timing = Date.now() - startTime;\n00249| \n00250|       console.log('üîß –ü–≠–ö API –æ—Ç–≤–µ—Ç:', data);\n00251| \n00252|       if (response.ok && data.success) {\n00253|         updateResult('pek', {\n00254|           status: 'success',\n00255|           message: `–ü–≠–ö API —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –ü–æ–ª—É—á–µ–Ω —Ç–∞—Ä–∏—Ñ: ${data.data?.price || 'N/A'} ‚ÇΩ`,\n00256|           details: data.data,\n00257|           response: data,\n00258|           requestData: testData,\n00259|           timing\n00260|         });\n00261|       } else {\n00262|         updateResult('pek', {\n00263|           status: 'warning',\n00264|           message: `–ü–≠–ö API –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É: ${data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}`,\n00265|           details: data.details,\n00266|           response: data,\n00267|           requestData: testData,\n00268|           timing\n00269|         });\n00270|       }\n00271|     } catch (error: any) {\n00272|       console.error('üîß –ü–≠–ö API –æ—à–∏–±–∫–∞:', error);\n00273|       updateResult('pek', {\n00274|         status: 'error',\n00275|         message: `–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –ü–≠–ö API: ${error.message}`,\n00276|         details: error,\n00277|         timing: Date.now() - startTime\n00278|       });\n00279|     } finally {\n00280|       setIsTestingPEK(false);\n00281|     }\n00282|   };\n00283| \n00284|   const testDellinAPI = async () => {\n00285|     setIsTestingDellin(true);\n00286|     const startTime = Date.now();\n00287|     \n00288|     try {\n00289|       console.log('üîß –ù–∞—á–∏–Ω–∞–µ–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ API...');\n00290|       \n00291|       const testData = {\n00292|         fromCity: '–ú–æ—Å–∫–≤–∞',\n00293|         toCity: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',\n00294|         cargos: [{\n00295|           length: 100,\n00296|           width: 100,\n00297|           height: 100,\n00298|           weight: 10\n00299|         }],\n00300|         declaredValue: 50000,\n00301|         fromAddressDelivery: false,\n00302|         toAddressDelivery: false,\n00303|         needPackaging: false,\n00304|         needInsurance: false\n00305|       };\n00306| \n00307|       const response = await fetch('/api/dellin-packages', {\n00308|         method: 'POST',\n00309|         headers: { 'Content-Type': 'application/json' },\n00310|         body: JSON.stringify(testData)\n00311|       });\n00312| \n00313|       const data = await response.json();\n00314|       const timing = Date.now() - startTime;\n00315| \n00316|       console.log('üîß –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ API –æ—Ç–≤–µ—Ç:', data);\n00317| \n00318|       if (response.ok && data.success) {\n00319|         updateResult('dellin', {\n00320|           status: 'success',\n00321|           message: `–î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ API —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –ü–æ–ª—É—á–µ–Ω —Ç–∞—Ä–∏—Ñ: ${data.data?.price || 'N/A'} ‚ÇΩ`,\n00322|           details: data.data,\n00323|           response: data,\n00324|           requestData: testData,\n00325|           timing\n00326|         });\n00327|       } else {\n00328|         updateResult('dellin', {\n00329|           status: 'warning',\n00330|           message: `–î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ API –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É: ${data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}`,\n00331|           details: data.details,\n00332|           response: data,\n00333|           requestData: testData,\n00334|           timing\n00335|         });\n00336|       }\n00337|     } catch (error: any) {\n00338|       console.error('üîß –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ API –æ—à–∏–±–∫–∞:', error);\n00339|       updateResult('dellin', {\n00340|         status: 'error',\n00341|         message: `–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ API: ${error.message}`,\n00342|         details: error,\n00343|         timing: Date.now() - startTime\n00344|       });\n00345|     } finally {\n00346|       setIsTestingDellin(false);\n00347|     }\n00348|   };\n00349| \n00350|   const testRailContinentAPI = async () => {\n00351|     setIsTestingRailContinent(true);\n00352|     const startTime = Date.now();\n00353|     \n00354|     try {\n00355|       console.log('üîß –ù–∞—á–∏–Ω–∞–µ–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É Rail Continent API...');\n00356|       \n00357|       const testData = {\n00358|         city_sender: '–ú–æ—Å–∫–≤–∞',\n00359|         city_receiver: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',\n00360|         weight: 10,\n00361|         volume: 0.1,\n00362|         length: 1,\n00363|         width: 1,\n00364|         height: 1,\n00365|         declared_cost: 50000,\n00366|         pickup: '0',\n00367|         delivery: '0',\n00368|         packaging: '0',\n00369|         insurance: '0',\n00370|         tariff: 'auto'\n00371|       };\n00372| \n00373|       const response = await fetch('/api/rail-continent', {\n00374|         method: 'POST',\n00375|         headers: { 'Content-Type': 'application/json' },\n00376|         body: JSON.stringify(testData)\n00377|       });\n00378| \n00379|       const data = await response.json();\n00380|       const timing = Date.now() - startTime;\n00381| \n00382|       console.log('üîß Rail Continent API –æ—Ç–≤–µ—Ç:', data);\n00383| \n00384|       if (response.ok && data.result === 'success') {\n00385|         updateResult('railcontinent', {\n00386|           status: 'success',\n00387|           message: `Rail Continent API —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –ü–æ–ª—É—á–µ–Ω —Ç–∞—Ä–∏—Ñ: ${data.data?.auto?.priceTotal || 'N/A'} ‚ÇΩ`,\n00388|           details: data.data,\n00389|           response: data,\n00390|           requestData: testData,\n00391|           timing\n00392|         });\n00393|       } else {\n00394|         updateResult('railcontinent', {\n00395|           status: 'warning',\n00396|           message: `Rail Continent API –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É: ${data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}`,\n00397|           details: data.details,\n00398|           response: data,\n00399|           requestData: testData,\n00400|           timing\n00401|         });\n00402|       }\n00403|     } catch (error: any) {\n00404|       console.error('üîß Rail Continent API –æ—à–∏–±–∫–∞:', error);\n00405|       updateResult('railcontinent', {\n00406|         status: 'error',\n00407|         message: `–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ Rail Continent API: ${error.message}`,\n00408|         details: error,\n00409|         timing: Date.now() - startTime\n00410|       });\n00411|     } finally {\n00412|       setIsTestingRailContinent(false);\n00413|     }\n00414|   };\n00415| \n00416|   const testVozovozAPI = async () => {\n00417|     setIsTestingVozovoz(true);\n00418|     const startTime = Date.now();\n00419|     \n00420|     try {\n00421|       console.log('üîß –ù–∞—á–∏–Ω–∞–µ–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –í–æ–∑–æ–≤–æ–∑ API...');\n00422|       \n00423|       const testData = {\n00424|         object: \"price\",\n00425|         action: \"get\",\n00426|         params: {\n00427|           cargo: {\n00428|             dimension: {\n00429|               quantity: 1,\n00430|               volume: 0.1,\n00431|               weight: 10\n00432|             }\n00433|           },\n00434|           gateway: {\n00435|             dispatch: {\n00436|               point: {\n00437|                 location: \"–ú–æ—Å–∫–≤–∞\",\n00438|                 terminal: \"default\"\n00439|               }\n00440|             },\n00441|             destination: {\n00442|               point: {\n00443|                 location: \"–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥\",\n00444|                 terminal: \"default\"\n00445|               }\n00446|             }\n00447|           }\n00448|         }\n00449|       };\n00450| \n00451|       const response = await fetch('/api/vozovoz', {\n00452|         method: 'POST',\n00453|         headers: { 'Content-Type': 'application/json' },\n00454|         body: JSON.stringify(testData)\n00455|       });\n00456| \n00457|       const data = await response.json();\n00458|       const timing = Date.now() - startTime;\n00459| \n00460|       console.log('üîß –í–æ–∑–æ–≤–æ–∑ API –æ—Ç–≤–µ—Ç:', data);\n00461| \n00462|       if (response.ok && data.response) {\n00463|         updateResult('vozovoz', {\n00464|           status: 'success',\n00465|           message: `–í–æ–∑–æ–≤–æ–∑ API —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –ü–æ–ª—É—á–µ–Ω —Ç–∞—Ä–∏—Ñ: ${data.response?.price || 'N/A'} ‚ÇΩ`,\n00466|           details: data.response,\n00467|           response: data,\n00468|           requestData: testData,\n00469|           timing\n00470|         });\n00471|       } else {\n00472|         updateResult('vozovoz', {\n00473|           status: 'warning',\n00474|           message: `–í–æ–∑–æ–≤–æ–∑ API –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É: ${data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}`,\n00475|           details: data.details,\n00476|           response: data,\n00477|           requestData: testData,\n00478|           timing\n00479|         });\n00480|       }\n00481|     } catch (error: any) {\n00482|       console.error('üîß –í–æ–∑–æ–≤–æ–∑ API –æ—à–∏–±–∫–∞:', error);\n00483|       updateResult('vozovoz', {\n00484|         status: 'error',\n00485|         message: `–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –í–æ–∑–æ–≤–æ–∑ API: ${error.message}`,\n00486|         details: error,\n00487|         timing: Date.now() - startTime\n00488|       });\n00489|     } finally {\n00490|       setIsTestingVozovoz(false);\n00491|     }\n00492|   };\n00493| \n00494|   const testNordWheelAPI = async () => {\n00495|     setIsTestingNordWheel(true);\n00496|     const startTime = Date.now();\n00497|     \n00498|     try {\n00499|       console.log('üîß –ù–∞—á–∏–Ω–∞–µ–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É Nord Wheel API...');\n00500|       \n00501|       const params = new URLSearchParams({\n00502|         from: '91', // –ú–æ—Å–∫–≤–∞\n00503|         to: '92', // –°–ü–±\n00504|         pickup: '0',\n00505|         deliver: '0',\n00506|         weight: '10',\n00507|         volume: '0.1',\n00508|         oversized: '0',\n00509|         package: '0',\n00510|         packageCount: '1',\n00511|         insurance: '0',\n00512|         sum: '50000',\n00513|         documentsReturn: '0',\n00514|         fragile: '1',\n00515|         length: '1',\n00516|         width: '1',\n00517|         height: '1'\n00518|       });\n00519| \n00520|       const apiUrl = 'https://nordw.ru/tools/api/calc/calculate/';\n00521|       const fullUrl = `${apiUrl}?${params.toString()}`;\n00522|       \n00523|       const response = await fetch(fullUrl);\n00524|       const data = await response.json();\n00525|       const timing = Date.now() - startTime;\n00526| \n00527|       console.log('üîß Nord Wheel API –æ—Ç–≤–µ—Ç:', data);\n00528| \n00529|       if (response.ok && data.status === 'success' && data.data) {\n00530|         updateResult('nordwheel', {\n00531|           status: 'success',\n00532|           message: `Nord Wheel API —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –ü–æ–ª—É—á–µ–Ω —Ç–∞—Ä–∏—Ñ: ${data.data?.total || 'N/A'} ‚ÇΩ`,\n00533|           details: data.data,\n00534|           response: data,\n00535|           requestData: Object.fromEntries(params),\n00536|           timing\n00537|         });\n00538|       } else {\n00539|         updateResult('nordwheel', {\n00540|           status: 'warning',\n00541|           message: `Nord Wheel API –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É: ${data.error || data.message || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}`,\n00542|           details: data.details,\n00543|           response: data,\n00544|           requestData: Object.fromEntries(params),\n00545|           timing\n00546|         });\n00547|       }\n00548|     } catch (error: any) {\n00549|       console.error('üîß Nord Wheel API –æ—à–∏–±–∫–∞:', error);\n00550|       updateResult('nordwheel', {\n00551|         status: 'error',\n00552|         message: `–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ Nord Wheel API: ${error.message}`,\n00553|         details: error,\n00554|         timing: Date.now() - startTime\n00555|       });\n00556|     } finally {\n00557|       setIsTestingNordWheel(false);\n00558|     }\n00559|   };\n00560| \n00561|   const testAllAPIs = async () => {\n00562|     await Promise.all([\n00563|       testPEKAPI(),\n00564|       testDellinAPI(), \n00565|       testRailContinentAPI(),\n00566|       testVozovozAPI(),\n00567|       testNordWheelAPI()\n00568|     ]);\n00569|   };\n00570| \n00571|   // üîß –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≥—Ä—É–∑–æ–≤—ã—Ö –º–µ—Å—Ç\n00572|   const generateTestCargos = (count: number, variant: 'small' | 'medium' | 'large' | 'mixed' = 'mixed') => {\n00573|     const cargos: Array<{length: number; width: number; height: number; weight: number}> = [];\n00574|     \n00575|     for (let i = 0; i < count; i++) {\n00576|       let cargo;\n00577|       \n00578|       switch (variant) {\n00579|         case 'small':\n00580|           cargo = {\n00581|             length: 30 + Math.floor(Math.random() * 70),  // 30-100 —Å–º\n00582|             width: 20 + Math.floor(Math.random() * 50),   // 20-70 —Å–º\n00583|             height: 15 + Math.floor(Math.random() * 35),  // 15-50 —Å–º\n00584|             weight: 1 + Math.floor(Math.random() * 19)    // 1-20 –∫–≥\n00585|           };\n00586|           break;\n00587|         case 'medium':\n00588|           cargo = {\n00589|             length: 80 + Math.floor(Math.random() * 70),  // 80-150 —Å–º\n00590|             width: 60 + Math.floor(Math.random() * 60),   // 60-120 —Å–º\n00591|             height: 40 + Math.floor(Math.random() * 80),  // 40-120 —Å–º\n00592|             weight: 15 + Math.floor(Math.random() * 35)   // 15-50 –∫–≥\n00593|           };\n00594|           break;\n00595|         case 'large':\n00596|           cargo = {\n00597|             length: 150 + Math.floor(Math.random() * 100), // 150-250 —Å–º (–Ω–µ–≥–∞–±–∞—Ä–∏—Ç)\n00598|             width: 120 + Math.floor(Math.random() * 80),   // 120-200 —Å–º\n00599|             height: 100 + Math.floor(Math.random() * 100), // 100-200 —Å–º\n00600|             weight: 40 + Math.floor(Math.random() * 460)   // 40-500 –∫–≥\n00601|           };\n00602|           break;\n00603|         default: // mixed\n00604|           const types = ['small', 'medium', 'large'] as const;\n00605|           const randomType = types[Math.floor(Math.random() * types.length)];\n00606|           cargo = generateTestCargos(1, randomType)[0];\n00607|           break;\n00608|       }\n00609|       \n00610|       cargos.push(cargo);\n00611|     }\n00612|     \n00613|     return cargos;\n00614|   };\n00615| \n00616|   // üîß –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤—Å–µ—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –æ–ø—Ü–∏–π —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏\n00617|   const generateOptionsCombinations = () => {\n00618|     const combinations: any[] = [];\n00619|     const options = [\n00620|       { name: 'fromAddressDelivery', values: [true, false] },\n00621|       { name: 'toAddressDelivery', values: [true, false] },\n00622|       { name: 'needPackaging', values: [true, false] },\n00623|       { name: 'needInsurance', values: [true, false] }\n00624|     ];\n00625| \n00626|     // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ (2^4 = 16 –∫–æ–º–±–∏–Ω–∞—Ü–∏–π)\n00627|     for (let i = 0; i < Math.pow(2, options.length); i++) {\n00628|       const combination: any = {\n00629|         fromCity: '–ú–æ—Å–∫–≤–∞',\n00630|         toCity: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',\n00631|         fromAddress: '—É–ª. –¢–≤–µ—Ä—Å–∫–∞—è, 1',\n00632|         toAddress: '–ù–µ–≤—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, 1',\n00633|         declaredValue: 50000\n00634|       };\n00635|       \n00636|       options.forEach((option, index) => {\n00637|         combination[option.name] = Boolean(i & (1 << index));\n00638|       });\n00639|       \n00640|       combinations.push(combination);\n00641|     }\n00642|     \n00643|     // –î–æ–±–∞–≤–ª—è–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ —Å—Ç–æ–∏–º–æ—Å—Ç—è–º–∏\n00644|     const specialCombinations = [\n00645|       { ...combinations[0], declaredValue: 10000, testCase: 'low_value' },\n00646|       { ...combinations[0], declaredValue: 100000, testCase: 'medium_value' },\n00647|       { ...combinations[0], declaredValue: 500000, testCase: 'high_value' },\n00648|       { ...combinations[0], declaredValue: 1000000, testCase: 'very_high_value' },\n00649|       // –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤\n00650|       { ...combinations[0], fromCity: '–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥', toCity: '–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫', testCase: 'long_distance' },\n00651|       { ...combinations[0], fromCity: '–ú–æ—Å–∫–≤–∞', toCity: '–ú—ã—Ç–∏—â–∏', testCase: 'short_distance' }\n00652|     ];\n00653|     \n00654|     return [...combinations, ...specialCombinations];\n00655|   };\n00656| \n00657|   // üîß –§—É–Ω–∫—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ–¥–Ω–æ–π –¢–ö —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏\n00658|   const testSingleTK = async (tkName: string, testData: any) => {\n00659|     const startTime = Date.now();\n00660|     let apiUrl = '';\n00661|     let requestData: any = {};\n00662|     \n00663|     try {\n00664|       switch (tkName) {\n00665|         case 'pek':\n00666|           apiUrl = '/api/pek';\n00667|           requestData = { method: 'calculateprice', ...testData };\n00668|           break;\n00669|         case 'dellin':\n00670|           // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä—è–º–æ–π —Ä–∞—Å—á–µ—Ç –∫–∞–∫ –≤ –≥–ª–∞–≤–Ω–æ–º –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–µ\n00671|           apiUrl = 'DELLIN_DIRECT';\n00672|           requestData = testData;\n00673|           break;\n00674|         case 'railcontinent':\n00675|           apiUrl = '/api/rail-continent';\n00676|           requestData = {\n00677|             city_sender: testData.fromCity,\n00678|             city_receiver: testData.toCity,\n00679|             weight: testData.cargos.reduce((sum: number, cargo: any) => sum + cargo.weight, 0),\n00680|             volume: testData.cargos.reduce((sum: number, cargo: any) => \n00681|               sum + (cargo.length * cargo.width * cargo.height) / 1000000, 0\n00682|             ),\n00683|             quantity: testData.cargos.length, // üîß –ù–æ–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä\n00684|             length: Math.max(...testData.cargos.map((c: any) => c.length)) / 100,\n00685|             width: Math.max(...testData.cargos.map((c: any) => c.width)) / 100,\n00686|             height: Math.max(...testData.cargos.map((c: any) => c.height)) / 100,\n00687|             declared_cost: testData.declaredValue,\n00688|             pickup: testData.fromAddressDelivery ? '1' : '0',\n00689|             delivery: testData.toAddressDelivery ? '1' : '0',\n00690|             packaging: testData.needPackaging ? '1' : '0',\n00691|             insurance: testData.needInsurance ? '1' : '0',\n00692|             tariff: 'auto'\n00693|           };\n00694|           break;\n00695|         case 'vozovoz':\n00696|           apiUrl = '/api/vozovoz';\n00697|           requestData = {\n00698|             object: \"price\",\n00699|             action: \"get\",\n00700|             params: {\n00701|               cargo: {\n00702|                 dimension: {\n00703|                   quantity: testData.cargos.length,\n00704|                   volume: testData.cargos.reduce((sum: number, cargo: any) => \n00705|                     sum + (cargo.length * cargo.width * cargo.height) / 1000000, 0\n00706|                   ),\n00707|                   weight: testData.cargos.reduce((sum: number, cargo: any) => sum + cargo.weight, 0)\n00708|                 },\n00709|                 ...(testData.needInsurance && testData.declaredValue > 0 ? {\n00710|                   insurance: testData.declaredValue\n00711|                 } : {}),\n00712|                 ...(testData.needPackaging ? {\n00713|                   wrapping: {\n00714|                     palletCollar: testData.cargos.reduce((sum: number, cargo: any) => \n00715|                       sum + (cargo.length * cargo.width * cargo.height) / 1000000, 0\n00716|                     )\n00717|                   }\n00718|                 } : {})\n00719|               },\n00720|               gateway: {\n00721|                 dispatch: {\n00722|                   point: {\n00723|                     location: testData.fromCity,\n00724|                     ...(testData.fromAddressDelivery ? {\n00725|                       address: testData.fromAddress || \"–∞–¥—Ä–µ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è\"\n00726|                     } : {\n00727|                       terminal: \"default\"\n00728|                     })\n00729|                   }\n00730|                 },\n00731|                 destination: {\n00732|                   point: {\n00733|                     location: testData.toCity,\n00734|                     ...(testData.toAddressDelivery ? {\n00735|                       address: testData.toAddress || \"–∞–¥—Ä–µ—Å –ø–æ–ª—É—á–µ–Ω–∏—è\"\n00736|                     } : {\n00737|                       terminal: \"default\"\n00738|                     })\n00739|                   }\n00740|                 }\n00741|               }\n00742|             }\n00743|           };\n00744|           break;\n00745|         case 'nordwheel':\n00746|           const totalWeight = testData.cargos.reduce((sum: number, cargo: any) => sum + cargo.weight, 0);\n00747|           const totalVolume = testData.cargos.reduce((sum: number, cargo: any) => \n00748|             sum + (cargo.length * cargo.width * cargo.height) / 1000000, 0\n00749|           );\n00750|           const maxLength = Math.max(...testData.cargos.map((c: any) => c.length));\n00751|           const maxWidth = Math.max(...testData.cargos.map((c: any) => c.width));\n00752|           const maxHeight = Math.max(...testData.cargos.map((c: any) => c.height));\n00753|           const isOversized = maxLength > 200 || maxWidth > 200 || maxHeight > 200 || totalWeight > 1000;\n00754|           \n00755|           const params = new URLSearchParams({\n00756|             from: '91',\n00757|             to: '92',\n00758|             pickup: testData.fromAddressDelivery ? '1' : '0',\n00759|             deliver: testData.toAddressDelivery ? '1' : '0',\n00760|             weight: totalWeight.toString(),\n00761|             volume: totalVolume.toString(),\n00762|             oversized: isOversized ? '1' : '0',\n00763|             package: testData.needPackaging ? '1' : '0',\n00764|             packageCount: testData.cargos.length.toString(),\n00765|             insurance: testData.needInsurance ? '1' : '0',\n00766|             sum: testData.declaredValue.toString(),\n00767|             documentsReturn: '0',\n00768|             fragile: '1',\n00769|             length: (maxLength / 100).toString(),\n00770|             width: (maxWidth / 100).toString(),\n00771|             height: (maxHeight / 100).toString(),\n00772|             multiplePackages: testData.cargos.length > 1 ? '1' : '0'\n00773|           });\n00774|           \n00775|           apiUrl = `https://nordw.ru/tools/api/calc/calculate/?${params.toString()}`;\n00776|           requestData = Object.fromEntries(params);\n00777|           break;\n00778|       }\n00779| \n00780|       let response: any;\n00781|       let data: any;\n00782| \n00783|       if (tkName === 'nordwheel') {\n00784|         response = await fetch(apiUrl);\n00785|         data = await response.json();\n00786|       } else if (tkName === 'dellin') {\n00787|         // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ –≤ –º–∞—Å—Å–æ–≤–æ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏–∑-–∑–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏\n00788|         return {\n00789|           tk: tkName,\n00790|           status: 'skipped',\n00791|           message: '–ü—Ä–æ–ø—É—â–µ–Ω–æ (—Å–ª–æ–∂–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)',\n00792|           timing: Date.now() - startTime,\n00793|           requestData,\n00794|           cargoCount: testData.cargos.length\n00795|         };\n00796|       } else {\n00797|         response = await fetch(apiUrl, {\n00798|           method: 'POST',\n00799|           headers: { 'Content-Type': 'application/json' },\n00800|           body: JSON.stringify(requestData)\n00801|         });\n00802|         data = await response.json();\n00803|       }\n00804| \n00805|       const timing = Date.now() - startTime;\n00806| \n00807|       // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¢–ö\n00808|       let isSuccess = false;\n00809|       let price = 0;\n00810|       \n00811|       switch (tkName) {\n00812|         case 'pek':\n00813|           isSuccess = response.ok && data.success;\n00814|           price = data.data?.price || 0;\n00815|           break;\n00816|         case 'railcontinent':\n00817|           isSuccess = response.ok && data.result === 'success';\n00818|           price = data.data?.auto?.priceTotal || 0;\n00819|           break;\n00820|         case 'vozovoz':\n00821|           isSuccess = response.ok && data.response;\n00822|           price = data.response?.price || 0;\n00823|           break;\n00824|         case 'nordwheel':\n00825|           isSuccess = response.ok && data.status === 'success' && data.data;\n00826|           price = data.data?.total || 0;\n00827|           break;\n00828|       }\n00829| \n00830|       return {\n00831|         tk: tkName,\n00832|         status: isSuccess ? 'success' : 'error',\n00833|         message: isSuccess ? `–¢–∞—Ä–∏—Ñ: ${price} ‚ÇΩ` : (data.error || data.message || '–û—à–∏–±–∫–∞'),\n00834|         timing,\n00835|         price,\n00836|         requestData,\n00837|         responseData: data,\n00838|         cargoCount: testData.cargos.length\n00839|       };\n00840| \n00841|     } catch (error: any) {\n00842|       return {\n00843|         tk: tkName,\n00844|         status: 'error',\n00845|         message: `–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞: ${error.message}`,\n00846|         timing: Date.now() - startTime,\n00847|         requestData,\n00848|         cargoCount: testData.cargos.length,\n00849|         error: error.message\n00850|       };\n00851|     }\n00852|   };\n00853| \n00854|   // üîß –†–ê–°–®–ò–†–ï–ù–ù–û–ï –ü–û–õ–ù–û–ï –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï\n00855|   const runFullTesting = async () => {\n00856|     setIsFullTesting(true);\n00857|     setFullTestResults(null);\n00858|     setTestProgress(null);\n00859|     \n00860|     const allResults: any[] = [];\n00861|     const errors: string[] = [];\n00862|     let totalTests = 0;\n00863|     let successful = 0;\n00864|     let skipped = 0;\n00865|     let totalResponseTime = 0;\n00866|     \n00867|     console.log('üß™ ===== –ù–ê–ß–ê–õ–û –†–ê–°–®–ò–†–ï–ù–ù–û–ì–û –ü–û–õ–ù–û–ì–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø =====');\n00868|     \n00869|     try {\n00870|       const transportCompanies = ['pek', 'railcontinent', 'vozovoz', 'nordwheel', 'dellin'];\n00871|       // –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≥—Ä—É–∑–æ–≤—ã—Ö –º–µ—Å—Ç\n00872|       const cargoCountTests = [1, 2, 3, 5, 7, 10, 15, 20, 25, 30, 40, 50];\n00873|       const cargoVariants = ['small', 'medium', 'large', 'mixed'] as const;\n00874|       const optionCombinations = generateOptionsCombinations();\n00875|       \n00876|       // –ü–ª–∞–Ω–∏—Ä—É–µ–º –±–æ–ª–µ–µ –ø–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ\n00877|       const totalPlannedTests = transportCompanies.length * cargoCountTests.length * cargoVariants.length * Math.min(optionCombinations.length, 8);\n00878|       \n00879|       console.log(`üß™ –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è —Ç–µ—Å—Ç–æ–≤: ${totalPlannedTests} (${transportCompanies.length} –¢–ö √ó ${cargoCountTests.length} –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –º–µ—Å—Ç √ó ${cargoVariants.length} —Ç–∏–ø–æ–≤ –≥—Ä—É–∑–∞ √ó –¥–æ 8 –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –æ–ø—Ü–∏–π)`);\n00880|       \n00881|       for (const tk of transportCompanies) {\n00882|         console.log(`üß™ –ù–∞—á–∏–Ω–∞–µ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ${tk.toUpperCase()}...`);\n00883|         \n00884|         setTestProgress({\n00885|           currentTK: tk.toUpperCase(),\n00886|           completedTests: totalTests,\n00887|           totalPlannedTests,\n00888|           stage: '–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è'\n00889|         });\n00890|         \n00891|         let testsForCurrentTK = 0;\n00892|         const maxTestsPerTK = 150; // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –ª–∏–º–∏—Ç –¥–ª—è –±–æ–ª–µ–µ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è\n00893|         \n00894|         // –¢–µ—Å—Ç–∏—Ä—É–µ–º —Ä–∞–∑–ª–∏—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥—Ä—É–∑–æ–≤—ã—Ö –º–µ—Å—Ç\n00895|         for (const cargoCount of cargoCountTests) {\n00896|           if (testsForCurrentTK >= maxTestsPerTK) {\n00897|             console.log(`‚ö†Ô∏è –î–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç —Ç–µ—Å—Ç–æ–≤ –¥–ª—è ${tk} (${maxTestsPerTK})`);\n00898|             break;\n00899|           }\n00900|           \n00901|           setTestProgress({\n00902|             currentTK: tk.toUpperCase(),\n00903|             completedTests: totalTests,\n00904|             totalPlannedTests,\n00905|             stage: `–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ${cargoCount} –≥—Ä—É–∑–æ–≤—ã—Ö –º–µ—Å—Ç`\n00906|           });\n00907|           \n00908|           // –¢–µ—Å—Ç–∏—Ä—É–µ–º —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –≥—Ä—É–∑–æ–≤\n00909|           for (const cargoVariant of cargoVariants) {\n00910|             if (testsForCurrentTK >= maxTestsPerTK) break;\n00911|             \n00912|             // –í—ã–±–∏—Ä–∞–µ–º —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –æ–ø—Ü–∏–π\n00913|             const selectedCombinations = [\n00914|               optionCombinations[0],  // –ë–∞–∑–æ–≤–∞—è (–≤—Å–µ false)\n00915|               optionCombinations[15], // –í—Å–µ —É—Å–ª—É–≥–∏ (–≤—Å–µ true)\n00916|               optionCombinations[5],  // –ß–∞—Å—Ç–∏—á–Ω–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è 1\n00917|               optionCombinations[10], // –ß–∞—Å—Ç–∏—á–Ω–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è 2\n00918|               ...optionCombinations.filter(c => c.testCase).slice(0, 4) // –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏\n00919|             ].slice(0, Math.min(8, Math.ceil(maxTestsPerTK / (cargoCountTests.length * cargoVariants.length))));\n00920|             \n00921|             for (const options of selectedCombinations) {\n00922|               if (testsForCurrentTK >= maxTestsPerTK) break;\n00923|               \n00924|               const testData = {\n00925|                 ...options,\n00926|                 cargos: generateTestCargos(cargoCount, cargoVariant),\n00927|                 testMetadata: {\n00928|                   cargoVariant,\n00929|                   cargoCount,\n00930|                   testCase: options.testCase || 'standard'\n00931|                 }\n00932|               };\n00933|               \n00934|               const activeOptions = Object.entries(options)\n00935|                 .filter(([k, v]) => typeof v === 'boolean' && v && !['testCase'].includes(k))\n00936|                 .map(([k]) => k)\n00937|                 .join(', ') || '–±–∞–∑–æ–≤—ã–µ';\n00938|               \n00939|               console.log(`üß™ ${tk}: ${cargoCount} –º–µ—Å—Ç (${cargoVariant}), –æ–ø—Ü–∏–∏: [${activeOptions}]${options.testCase ? ` - ${options.testCase}` : ''}`);\n00940|               \n00941|               setTestProgress({\n00942|                 currentTK: tk.toUpperCase(),\n00943|                 completedTests: totalTests,\n00944|                 totalPlannedTests,\n00945|                 stage: `${cargoCount} –º–µ—Å—Ç (${cargoVariant}) - ${activeOptions}`\n00946|               });\n00947|               \n00948|               const result = await testSingleTK(tk, testData);\n00949|               allResults.push({\n00950|                 ...result,\n00951|                 testMetadata: testData.testMetadata\n00952|               });\n00953|               \n00954|               totalTests++;\n00955|               testsForCurrentTK++;\n00956|               \n00957|               if (result.timing) {\n00958|                 totalResponseTime += result.timing;\n00959|               }\n00960|               \n00961|               if (result.status === 'success') {\n00962|                 successful++;\n00963|                 console.log(`‚úÖ ${tk}: ${result.message} (${result.timing}ms)`);\n00964|               } else if (result.status === 'skipped') {\n00965|                 skipped++;\n00966|                 console.log(`‚è≠Ô∏è ${tk}: ${result.message}`);\n00967|               } else {\n00968|                 console.log(`‚ùå ${tk}: ${result.message} (${result.timing || 0}ms)`);\n00969|                 errors.push(`${tk} (${cargoCount} –º–µ—Å—Ç, ${cargoVariant}): ${result.message}`);\n00970|               }\n00971|               \n00972|               // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞\n00973|               if (totalTests % 10 === 0) {\n00974|                 const currentSuccessRate = totalTests > 0 ? (successful / totalTests) * 100 : 0;\n00975|                 console.log(`üìä –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã: ${totalTests} —Ç–µ—Å—Ç–æ–≤, ${successful} —É—Å–ø–µ—à–Ω—ã—Ö (${currentSuccessRate.toFixed(1)}%)`);\n00976|               }\n00977|               \n00978|               // –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –ø–∞—É–∑–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏\n00979|               const pauseTime = result.status === 'error' ? 500 : 200;\n00980|               await new Promise(resolve => setTimeout(resolve, pauseTime));\n00981|             }\n00982|           }\n00983|         }\n00984|         \n00985|         console.log(`üèÅ –ó–∞–≤–µ—Ä—à–µ–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ${tk.toUpperCase()}: ${testsForCurrentTK} —Ç–µ—Å—Ç–æ–≤`);\n00986|       }\n00987|       \n00988|       const averageResponseTime = totalTests > 0 ? Math.round(totalResponseTime / (totalTests - skipped)) : 0;\n00989|       const successRate = totalTests > 0 ? (successful / totalTests) * 100 : 0;\n00990|       \n00991|       const summary = {\n00992|         totalTests,\n00993|         successful,\n00994|         failed: totalTests - successful - skipped,\n00995|         skipped,\n00996|         errors,\n00997|         averageResponseTime,\n00998|         successRate\n00999|       };\n01000|       \n01001|       setFullTestResults({\n01002|         summary,\n01003|         details: allResults,\n01004|         progressInfo: null\n01005|       });\n01006|       \n01007|       // –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞\n01008|       console.log('üß™ ===== –†–ï–ó–£–õ–¨–¢–ê–¢–´ –†–ê–°–®–ò–†–ï–ù–ù–û–ì–û –ü–û–õ–ù–û–ì–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø =====');\n01009|       console.log(`üìä –í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤: ${totalTests}`);\n01010|       console.log(`‚úÖ –£—Å–ø–µ—à–Ω—ã—Ö: ${successful}`);\n01011|       console.log(`‚ùå –ù–µ—É–¥–∞—á–Ω—ã—Ö: ${totalTests - successful - skipped}`);\n01012|       console.log(`‚è≠Ô∏è –ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö: ${skipped}`);\n01013|       console.log(`üìà –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—Ö–∞: ${successRate.toFixed(1)}%`);\n01014|       console.log(`‚è±Ô∏è –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: ${averageResponseTime}ms`);\n01015|       \n01016|       // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –¢–ö\n01017|       const tkStats = transportCompanies.map(tk => {\n01018|         const tkResults = allResults.filter(r => r.tk === tk);\n01019|         const tkSuccessful = tkResults.filter(r => r.status === 'success').length;\n01020|         const tkTotal = tkResults.length;\n01021|         return {\n01022|           tk: tk.toUpperCase(),\n01023|           tests: tkTotal,\n01024|           successful: tkSuccessful,\n01025|           successRate: tkTotal > 0 ? (tkSuccessful / tkTotal) * 100 : 0\n01026|         };\n01027|       });\n01028|       \n01029|       console.log('üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –¢–ö:');\n01030|       tkStats.forEach(stat => {\n01031|         console.log(`   ${stat.tk}: ${stat.successful}/${stat.tests} (${stat.successRate.toFixed(1)}%)`);\n01032|       });\n01033|       \n01034|       if (errors.length > 0) {\n01035|         console.log('‚ùå –û—Å–Ω–æ–≤–Ω—ã–µ –æ—à–∏–±–∫–∏:');\n01036|         // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –æ—à–∏–±–∫–∏ –ø–æ —Ç–∏–ø–∞–º\n01037|         const errorGroups = errors.reduce((acc, error) => {\n01038|           const key = error.split(':')[0];\n01039|           acc[key] = (acc[key] || 0) + 1;\n01040|           return acc;\n01041|         }, {} as {[key: string]: number});\n01042|         \n01043|         Object.entries(errorGroups).forEach(([errorType, count]) => {\n01044|           console.log(`   - ${errorType}: ${count} —Ä–∞–∑`);\n01045|         });\n01046|       }\n01047|       \n01048|     } catch (error: any) {\n01049|       console.error('üß™ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:', error);\n01050|       errors.push(`–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞: ${error.message}`);\n01051|       \n01052|       setFullTestResults({\n01053|         summary: { \n01054|           totalTests, \n01055|           successful, \n01056|           failed: totalTests - successful - skipped, \n01057|           skipped,\n01058|           errors,\n01059|           averageResponseTime: 0,\n01060|           successRate: 0\n01061|         },\n01062|         details: allResults,\n01063|         progressInfo: null\n01064|       });\n01065|     } finally {\n01066|       setIsFullTesting(false);\n01067|       setTestProgress(null);\n01068|       console.log('üß™ ===== –ö–û–ù–ï–¶ –†–ê–°–®–ò–†–ï–ù–ù–û–ì–û –ü–û–õ–ù–û–ì–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø =====');\n01069|     }\n01070|   };\n01071| \n01072|   const getStatusIcon = (status: string) => {\n01073|     switch (status) {\n01074|       case 'success': return <CheckCircle className=\"h-4 w-4 text-green-400\" />;\n01075|       case 'warning': return <AlertCircle className=\"h-4 w-4 text-yellow-400\" />;\n01076|       case 'error': return <XCircle className=\"h-4 w-4 text-red-400\" />;\n01077|       default: return <Activity className=\"h-4 w-4 text-gray-400\" />;\n01078|     }\n01079|   };\n01080| \n01081|   const getStatusColor = (status: string) => {\n01082|     switch (status) {\n01083|       case 'success': return 'border-green-500 bg-green-900/20';\n01084|       case 'warning': return 'border-yellow-500 bg-yellow-900/20';\n01085|       case 'error': return 'border-red-500 bg-red-900/20';\n01086|       default: return 'border-gray-500 bg-gray-900/20';\n01087|     }\n01088|   };\n01089| \n01090|   return (\n01091|     <div className=\"min-h-screen bg-gray-950 text-white p-6\">\n01092|       <div className=\"max-w-6xl mx-auto\">\n01093|         <div className=\"mb-6\">\n01094|           <h1 className=\"text-3xl font-bold mb-2\">–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π</h1>\n01095|           <p className=\"text-gray-400\">–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ API –≤—Å–µ—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã—Ö –¢–ö</p>\n01096|         </div>\n01097| \n01098|         <div className=\"flex gap-4 mb-6 flex-wrap\">\n01099|           <Button onClick={testAllAPIs} className=\"bg-blue-600 hover:bg-blue-700\">\n01100|             <Activity className=\"h-4 w-4 mr-2\" />\n01101|             –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ API\n01102|           </Button>\n01103|           <Button \n01104|             onClick={runFullTesting} \n01105|             disabled={isFullTesting}\n01106|             className=\"bg-purple-600 hover:bg-purple-700\"\n01107|           >\n01108|             <TestTube className=\"h-4 w-4 mr-2\" />\n01109|             {isFullTesting ? '–ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...' : '–ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ'}\n01110|           </Button>\n01111|           <Button onClick={() => window.open('/env-check', '_blank')} variant=\"outline\" className=\"text-black bg-white border-gray-300 hover:bg-gray-100\">\n01112|             <Building2 className=\"h-4 w-4 mr-2\" />\n01113|             –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è\n01114|           </Button>\n01115|           <Button \n01116|             onClick={() => {\n01117|               window.open('https://docs.google.com/spreadsheets/d/1e0P91PfGKVIuSWDY0ceWkIE7jD-vzD_xrIesBeQno1Y/edit?gid=0#gid=0', '_blank');\n01118|             }} \n01119|             variant=\"outline\" \n01120|             className=\"bg-green-600 hover:bg-green-700 text-white border-green-600\"\n01121|             title=\"–û—Ç–∫—Ä—ã—Ç—å Google Sheets —Å –±–∞–∑–æ–π —Ç–æ–≤–∞—Ä–æ–≤ –∏ —Ä–∞–∑–º–µ—Ä–æ–≤\"\n01122|           >\n01123|             <ExternalLink className=\"h-4 w-4 mr-2\" />\n01124|             –ë–∞–∑–∞ —Ç–æ–≤–∞—Ä–æ–≤\n01125|           </Button>\n01126|           <Button \n01127|             onClick={updateProductData}\n01128|             disabled={isUpdatingData}\n01129|             variant=\"outline\"\n01130|             className={\n01131|               updateStatus === 'success' \n01132|                 ? \"bg-green-600 hover:bg-green-700 text-white border-green-600\" \n01133|                 : updateStatus === 'error'\n01134|                 ? \"bg-red-600 hover:bg-red-700 text-white border-red-600\"\n01135|                 : \"bg-blue-600 hover:bg-blue-700 text-white border-blue-600\"\n01136|             }\n01137|             title=\"–û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ —Ç–æ–≤–∞—Ä–∞—Ö –∏–∑ Google Sheets\"\n01138|           >\n01139|             {updateStatus === 'updating' ? (\n01140|               <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n01141|             ) : (\n01142|               <Download className=\"h-4 w-4 mr-2\" />\n01143|             )}\n01144|             {updateStatus === 'updating' && '–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ...'}\n01145|             {updateStatus === 'success' && '–û–±–Ω–æ–≤–ª–µ–Ω–æ!'}\n01146|             {updateStatus === 'error' && '–û—à–∏–±–∫–∞'}\n01147|             {updateStatus === 'idle' && '–û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ'}\n01148|           </Button>\n01149|           <Button onClick={() => window.close()} variant=\"outline\" className=\"text-black bg-white border-gray-300 hover:bg-gray-100\">\n01150|             –ó–∞–∫—Ä—ã—Ç—å\n01151|           </Button>\n01152|         </div>\n01153| \n01154|         {/* –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ Google Sheets */}\n01155|         <Alert className=\"border-green-500 bg-green-900/20 mb-6\">\n01156|           <ExternalLink className=\"h-4 w-4\" />\n01157|           <AlertDescription>\n01158|             <strong>–ë–∞–∑–∞ —Ç–æ–≤–∞—Ä–æ–≤ –∏ —Ä–∞–∑–º–µ—Ä–æ–≤:</strong> –ö–ª–∏–∫–Ω–∏—Ç–µ –∫–Ω–æ–ø–∫—É \"–ë–∞–∑–∞ —Ç–æ–≤–∞—Ä–æ–≤\" –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è Google Sheets —Å –ø–æ–ª–Ω–æ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –æ —Ç–æ–≤–∞—Ä–∞—Ö.\n01159|             <br /><br />\n01160| <strong>–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:</strong> –ù–∞–∂–º–∏—Ç–µ \"–û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ\" –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫—ç—à–∞ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤ —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ Google Sheets. –≠—Ç–æ –æ—á–∏—Å—Ç–∏—Ç –≤—Å–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≥—Ä—É–∑–æ–≤—ã–µ –º–µ—Å—Ç–∞ –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç –≤—Å—é —Ç–æ–≤–∞—Ä–Ω—É—é –º–∞—Ç—Ä–∏—Ü—É —Å –Ω–æ–≤—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏.\n01161|             {lastUpdateTime && (\n01162|               <><br /><strong>–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:</strong> {lastUpdateTime}</>\n01163|             )}\n01164|             <br /><br />\n01165|             <strong>–ß—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç –±–∞–∑–∞:</strong>\n01166|             <ul className=\"list-disc list-inside mt-2 space-y-1\">\n01167|               <li>–ù–∞–∑–≤–∞–Ω–∏—è –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤</li>\n01168|               <li>–¢–æ—á–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã (–¥–ª–∏–Ω–∞ √ó —à–∏—Ä–∏–Ω–∞ √ó –≤—ã—Å–æ—Ç–∞)</li>\n01169|               <li>–í–µ—Å –∏ –æ–±—ä—ë–º —Ç–æ–≤–∞—Ä–æ–≤</li>\n01170|               <li>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —É–ø–∞–∫–æ–≤–∫–∏ –∏ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è</li>\n01171|               <li>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ</li>\n01172|             </ul>\n01173|           </AlertDescription>\n01174|         </Alert>\n01175| \n01176|         {/* –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –≥—Ä—É–∑–æ–≤ */}\n01177|         <Card className=\"border-green-500 bg-green-900/20 mb-6\">\n01178|           <CardHeader>\n01179|             <CardTitle className=\"flex items-center gap-2\">\n01180|               <Truck className=\"h-5 w-5 text-green-400\" />\n01181|               –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –≥—Ä—É–∑–æ–≤ –≤ –∫—É–∑–æ–≤–µ —Ñ—É—Ä–≥–æ–Ω–∞\n01182|             </CardTitle>\n01183|           </CardHeader>\n01184|           <CardContent>\n01185|             <div className=\"space-y-3\">\n01186|               <div className=\"bg-gray-800 p-3 rounded\">\n01187|                 <h3 className=\"font-medium text-green-400 mb-2\">–ì–∞–±–∞—Ä–∏—Ç—ã –∫—É–∑–æ–≤–∞:</h3>\n01188|                 <ul className=\"text-sm space-y-1 text-gray-300\">\n01189|                   <li>‚Ä¢ –î–ª–∏–Ω–∞: 4200 –º–º</li>\n01190|                   <li>‚Ä¢ –®–∏—Ä–∏–Ω–∞: 2025 –º–º</li>\n01191|                   <li>‚Ä¢ –í—ã—Å–æ—Ç–∞: 2025 –º–º</li>\n01192|                 </ul>\n01193|               </div>\n01194|               \n01195|               <div className=\"bg-gray-800 p-3 rounded\">\n01196|                 <h3 className=\"font-medium text-green-400 mb-2\">–ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è:</h3>\n01197|                 <div className=\"text-sm space-y-2 text-gray-300\">\n01198|                   <div>\n01199|                     <strong>1. –ü–æ–≤–æ—Ä–æ—Ç –∏ —à—Ç–∞–±–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ:</strong>\n01200|                     <p className=\"ml-4\">‚Ä¢ –ì—Ä—É–∑—ã –º–æ–∂–Ω–æ —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞ –∏ –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å –ª—é–±–æ–π —Å—Ç–æ—Ä–æ–Ω–æ–π</p>\n01201|                   </div>\n01202|                   \n01203|                   <div>\n01204|                     <strong>2. –ü—Ä–∞–≤–∏–ª–æ –ø–æ –≤–µ—Å—É:</strong>\n01205|                     <p className=\"ml-4\">‚Ä¢ –ì—Ä—É–∑—ã —Å –±–æ–ª—å—à–∏–º –≤–µ—Å–æ–º –Ω–µ–ª—å–∑—è —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å –Ω–∞ –≥—Ä—É–∑—ã —Å –º–µ–Ω—å—à–∏–º –≤–µ—Å–æ–º</p>\n01206|                   </div>\n01207|                   \n01208|                   <div>\n01209|                     <strong>3. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è —Å—Ç—É–ª—å–µ–≤ –∏ –∫—Ä–µ—Å–µ–ª:</strong>\n01210|                     <p className=\"ml-4\">‚Ä¢ –ì—Ä—É–∑—ã —Å –∫–ª—é—á–µ–≤—ã–º–∏ —Å–ª–æ–≤–∞–º–∏ \"—Å—Ç—É–ª\" –∏–ª–∏ \"–∫—Ä–µ—Å–ª–æ\" –Ω–µ–ª—å–∑—è –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–π –æ—Å–∏</p>\n01211|                     <p className=\"ml-4\">‚Ä¢ –ù–∞ —Ç–∞–∫–∏–µ –≥—Ä—É–∑—ã –º–æ–∂–Ω–æ —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥—Ä—É–≥–∏–µ –≥—Ä—É–∑—ã —Å —Ç–µ–º–∏ –∂–µ –∫–ª—é—á–µ–≤—ã–º–∏ —Å–ª–æ–≤–∞–º–∏</p>\n01212|                     <p className=\"ml-4\">‚Ä¢ –î—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–µ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ –¥–≤—É—Ö —Ç–∞–∫–∏—Ö –≥—Ä—É–∑–æ–≤</p>\n01213|                   </div>\n01214|                   \n01215|                   <div>\n01216|                     <strong>4. –¶–µ–ª—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:</strong>\n01217|                     <p className=\"ml-4\">‚Ä¢ –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–Ω—è—Ç–æ–π –ø–ª–æ—â–∞–¥–∏ –ø–æ–ª–∞</p>\n01218|                     <p className=\"ml-4\">‚Ä¢ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∫–æ–º–ø–∞–∫—Ç–Ω–æ–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ</p>\n01219|                   </div>\n01220|                   \n01221|                   <div>\n01222|                     <strong>5. –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–∑–º–µ—â–µ–Ω–∏—è 3D:</strong>\n01223|                     <p className=\"ml-4\">‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–≤–æ—Ä–æ—Ç–æ–≤ –≥—Ä—É–∑–æ–≤ –ø–æ–¥ —É–≥–ª–∞–º–∏: 0¬∞, 45¬∞, 90¬∞, 135¬∞, 180¬∞, 225¬∞, 270¬∞, 315¬∞</p>\n01224|                     <p className=\"ml-4\">‚Ä¢ –î–∏–∞–≥–æ–Ω–∞–ª—å–Ω–æ–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞</p>\n01225|                     <p className=\"ml-4\">‚Ä¢ 6 –±–∞–∑–æ–≤—ã—Ö –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–π + –≤—Ä–∞—â–µ–Ω–∏–µ = –¥–æ 48 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –Ω–∞ –≥—Ä—É–∑</p>\n01226|                     <p className=\"ml-4\">‚Ä¢ –°–µ—Ç–∫–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è —Å —à–∞–≥–æ–º 25–º–º –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</p>\n01227|                     <p className=\"ml-4\">‚Ä¢ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ø–ª–æ—â–∞–¥—å –ø–æ–ª–∞ ‚Üí –≤—ã—Å–æ—Ç–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è ‚Üí –æ–±—â–∏–π –æ–±—ä–µ–º</p>\n01228|                   </div>\n01229|                 </div>\n01230|               </div>\n01231|             </div>\n01232|           </CardContent>\n01233|         </Card>\n01234| \n01235|         {/* –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è */}\n01236|         {testProgress && (\n01237|           <Card className=\"border-blue-500 bg-blue-900/20 mb-6\">\n01238|             <CardHeader>\n01239|               <CardTitle className=\"flex items-center gap-2\">\n01240|                 <PlayCircle className=\"h-5 w-5 text-blue-400 animate-pulse\" />\n01241|                 –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ\n01242|               </CardTitle>\n01243|             </CardHeader>\n01244|             <CardContent>\n01245|               <div className=\"space-y-3\">\n01246|                 <div className=\"flex justify-between text-sm\">\n01247|                   <span>–¢–µ–∫—É—â–∞—è –¢–ö: <strong>{testProgress.currentTK}</strong></span>\n01248|                   <span>{testProgress.completedTests}/{testProgress.totalPlannedTests} —Ç–µ—Å—Ç–æ–≤</span>\n01249|                 </div>\n01250|                 <div className=\"w-full bg-gray-700 rounded-full h-2\">\n01251|                   <div \n01252|                     className=\"bg-blue-500 h-2 rounded-full transition-all duration-300\"\n01253|                     style={{\n01254|                       width: `${(testProgress.completedTests / testProgress.totalPlannedTests) * 100}%`\n01255|                     }}\n01256|                   ></div>\n01257|                 </div>\n01258|                 <div className=\"text-xs text-gray-400\">\n01259|                   –≠—Ç–∞–ø: {testProgress.stage}\n01260|                 </div>\n01261|               </div>\n01262|             </CardContent>\n01263|           </Card>\n01264|         )}\n01265| \n01266|         {/* –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è */}\n01267|         {fullTestResults && (\n01268|           <Card className=\"border-gray-700 bg-gray-900 mb-6\">\n01269|             <CardHeader>\n01270|               <CardTitle className=\"flex items-center gap-2\">\n01271|                 <TestTube className=\"h-5 w-5 text-purple-400\" />\n01272|                 –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è\n01273|               </CardTitle>\n01274|             </CardHeader>\n01275|             <CardContent>\n01276|               <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-4\">\n01277|                 <div className=\"text-center\">\n01278|                   <div className=\"text-2xl font-bold text-blue-400\">{fullTestResults.summary.totalTests}</div>\n01279|                   <div className=\"text-sm text-gray-400\">–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤</div>\n01280|                 </div>\n01281|                 <div className=\"text-center\">\n01282|                   <div className=\"text-2xl font-bold text-green-400\">{fullTestResults.summary.successful}</div>\n01283|                   <div className=\"text-sm text-gray-400\">–£—Å–ø–µ—à–Ω—ã—Ö</div>\n01284|                 </div>\n01285|                 <div className=\"text-center\">\n01286|                   <div className=\"text-2xl font-bold text-red-400\">{fullTestResults.summary.failed}</div>\n01287|                   <div className=\"text-sm text-gray-400\">–ù–µ—É–¥–∞—á–Ω—ã—Ö</div>\n01288|                 </div>\n01289|                 <div className=\"text-center\">\n01290|                   <div className=\"text-2xl font-bold text-gray-400\">{fullTestResults.summary.skipped}</div>\n01291|                   <div className=\"text-sm text-gray-400\">–ü—Ä–æ–ø—É—â–µ–Ω–æ</div>\n01292|                 </div>\n01293|                 <div className=\"text-center\">\n01294|                   <div className=\"text-2xl font-bold text-yellow-400\">\n01295|                     {fullTestResults.summary.successRate.toFixed(1)}%\n01296|                   </div>\n01297|                   <div className=\"text-sm text-gray-400\">–£—Å–ø–µ—à–Ω–æ—Å—Ç—å</div>\n01298|                 </div>\n01299|                 <div className=\"text-center\">\n01300|                   <div className=\"text-2xl font-bold text-cyan-400\">{fullTestResults.summary.averageResponseTime}ms</div>\n01301|                   <div className=\"text-sm text-gray-400\">–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è</div>\n01302|                 </div>\n01303|               </div>\n01304|               \n01305|               {/* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –¢–ö */}\n01306|               <div className=\"mb-4\">\n01307|                 <h4 className=\"font-medium mb-2\">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–º –∫–æ–º–ø–∞–Ω–∏—è–º:</h4>\n01308|                 <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2\">\n01309|                   {['PEK', 'RAILCONTINENT', 'VOZOVOZ', 'NORDWHEEL', 'DELLIN'].map(tk => {\n01310|                     const tkResults = fullTestResults.details.filter((r: any) => r.tk === tk.toLowerCase());\n01311|                     const tkSuccessful = tkResults.filter((r: any) => r.status === 'success').length;\n01312|                     const tkTotal = tkResults.length;\n01313|                     const tkSuccessRate = tkTotal > 0 ? (tkSuccessful / tkTotal) * 100 : 0;\n01314|                     \n01315|                     return (\n01316|                       <div key={tk} className=\"bg-gray-800 p-2 rounded text-sm\">\n01317|                         <div className=\"font-medium\">{tk}</div>\n01318|                         <div className=\"text-xs text-gray-400\">\n01319|                           {tkSuccessful}/{tkTotal} ({tkSuccessRate.toFixed(1)}%)\n01320|                         </div>\n01321|                       </div>\n01322|                     );\n01323|                   })}\n01324|                 </div>\n01325|               </div>\n01326|               \n01327|               {fullTestResults.summary.errors.length > 0 && (\n01328|                 <Alert className=\"border-red-500 bg-red-900/20 mb-4\">\n01329|                   <AlertCircle className=\"h-4 w-4\" />\n01330|                   <AlertDescription>\n01331|                     <div className=\"font-medium mb-2\">–ù–∞–π–¥–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ ({fullTestResults.summary.errors.length}):</div>\n01332|                     <ul className=\"list-disc list-inside text-sm space-y-1\">\n01333|                       {fullTestResults.summary.errors.slice(0, 15).map((error, index) => (\n01334|                         <li key={index}>{error}</li>\n01335|                       ))}\n01336|                       {fullTestResults.summary.errors.length > 15 && (\n01337|                         <li>... –∏ –µ—â–µ {fullTestResults.summary.errors.length - 15} –æ—à–∏–±–æ–∫</li>\n01338|                       )}\n01339|                     </ul>\n01340|                   </AlertDescription>\n01341|                 </Alert>\n01342|               )}\n01343|               \n01344|               <details className=\"mt-4\">\n01345|                 <summary className=\"cursor-pointer text-sm font-medium\">–ü–æ–¥—Ä–æ–±–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã ({fullTestResults.details.length} –∑–∞–ø–∏—Å–µ–π)</summary>\n01346|                 <div className=\"mt-2 max-h-96 overflow-y-auto\">\n01347|                   <pre className=\"text-xs p-2 bg-gray-800 rounded\">\n01348|                     {JSON.stringify(fullTestResults.details.map(detail => ({\n01349|                       tk: detail.tk,\n01350|                       status: detail.status,\n01351|                       cargoCount: detail.cargoCount,\n01352|                       testMetadata: detail.testMetadata,\n01353|                       timing: detail.timing,\n01354|                       price: detail.price,\n01355|                       message: detail.message\n01356|                     })), null, 2)}\n01357|                   </pre>\n01358|                 </div>\n01359|               </details>\n01360|             </CardContent>\n01361|           </Card>\n01362|         )}\n01363| \n01364|         <div className=\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6\">\n01365|           {/* –ü–≠–ö */}\n01366|           <Card className=\"border-gray-700 bg-gray-900\">\n01367|             <CardHeader>\n01368|               <CardTitle className=\"flex items-center justify-between\">\n01369|                 <div className=\"flex items-center gap-2\">\n01370|                   <Truck className=\"h-5 w-5 text-blue-400\" />\n01371|                   –ü–≠–ö\n01372|                 </div>\n01373|                 <Button \n01374|                   onClick={testPEKAPI} \n01375|                   disabled={isTestingPEK}\n01376|                   size=\"sm\"\n01377|                   variant=\"outline\"\n01378|                 >\n01379|                   {isTestingPEK ? '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...' : '–¢–µ—Å—Ç'}\n01380|                 </Button>\n01381|               </CardTitle>\n01382|             </CardHeader>\n01383|             <CardContent>\n01384|               {diagnosticResults.pek ? (\n01385|                 <Alert className={getStatusColor(diagnosticResults.pek.status)}>\n01386|                   <div className=\"flex items-start gap-2\">\n01387|                     {getStatusIcon(diagnosticResults.pek.status)}\n01388|                     <div className=\"flex-1\">\n01389|                       <AlertDescription>\n01390|                         <div className=\"font-medium mb-2\">{diagnosticResults.pek.message}</div>\n01391|                         {diagnosticResults.pek.timing && (\n01392|                           <Badge variant=\"outline\" className=\"mb-2\">\n01393|                             –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: {diagnosticResults.pek.timing}–º—Å\n01394|                           </Badge>\n01395|                         )}\n01396|                         {diagnosticResults.pek.details && (\n01397|                           <details className=\"mt-2\">\n01398|                             <summary className=\"cursor-pointer text-sm\">–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏</summary>\n01399|                             <pre className=\"text-xs mt-2 p-2 bg-gray-800 rounded overflow-auto\">\n01400|                               {JSON.stringify(diagnosticResults.pek.details, null, 2)}\n01401|                             </pre>\n01402|                           </details>\n01403|                         )}\n01404|                       </AlertDescription>\n01405|                     </div>\n01406|                   </div>\n01407|                 </Alert>\n01408|               ) : (\n01409|                 <p className=\"text-gray-400\">–ù–∞–∂–º–∏—Ç–µ \"–¢–µ—Å—Ç\" –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API –ü–≠–ö</p>\n01410|               )}\n01411|             </CardContent>\n01412|           </Card>\n01413| \n01414|           {/* –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ */}\n01415|           <Card className=\"border-gray-700 bg-gray-900\">\n01416|             <CardHeader>\n01417|               <CardTitle className=\"flex items-center justify-between\">\n01418|                 <div className=\"flex items-center gap-2\">\n01419|                   <Truck className=\"h-5 w-5 text-green-400\" />\n01420|                   –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏\n01421|                 </div>\n01422|                 <Button \n01423|                   onClick={testDellinAPI} \n01424|                   disabled={isTestingDellin}\n01425|                   size=\"sm\"\n01426|                   variant=\"outline\"\n01427|                 >\n01428|                   {isTestingDellin ? '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...' : '–¢–µ—Å—Ç'}\n01429|                 </Button>\n01430|               </CardTitle>\n01431|             </CardHeader>\n01432|             <CardContent>\n01433|               {diagnosticResults.dellin ? (\n01434|                 <Alert className={getStatusColor(diagnosticResults.dellin.status)}>\n01435|                   <div className=\"flex items-start gap-2\">\n01436|                     {getStatusIcon(diagnosticResults.dellin.status)}\n01437|                     <div className=\"flex-1\">\n01438|                       <AlertDescription>\n01439|                         <div className=\"font-medium mb-2\">{diagnosticResults.dellin.message}</div>\n01440|                         {diagnosticResults.dellin.timing && (\n01441|                           <Badge variant=\"outline\" className=\"mb-2\">\n01442|                             –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: {diagnosticResults.dellin.timing}–º—Å\n01443|                           </Badge>\n01444|                         )}\n01445|                         {diagnosticResults.dellin.details && (\n01446|                           <details className=\"mt-2\">\n01447|                             <summary className=\"cursor-pointer text-sm\">–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏</summary>\n01448|                             <pre className=\"text-xs mt-2 p-2 bg-gray-800 rounded overflow-auto\">\n01449|                               {JSON.stringify(diagnosticResults.dellin.details, null, 2)}\n01450|                             </pre>\n01451|                           </details>\n01452|                         )}\n01453|                       </AlertDescription>\n01454|                     </div>\n01455|                   </div>\n01456|                 </Alert>\n01457|               ) : (\n01458|                 <p className=\"text-gray-400\">–ù–∞–∂–º–∏—Ç–µ \"–¢–µ—Å—Ç\" –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏</p>\n01459|               )}\n01460|             </CardContent>\n01461|           </Card>\n01462| \n01463|           {/* Rail Continent */}\n01464|           <Card className=\"border-gray-700 bg-gray-900\">\n01465|             <CardHeader>\n01466|               <CardTitle className=\"flex items-center justify-between\">\n01467|                 <div className=\"flex items-center gap-2\">\n01468|                   <Truck className=\"h-5 w-5 text-purple-400\" />\n01469|                   Rail Continent\n01470|                 </div>\n01471|                 <Button \n01472|                   onClick={testRailContinentAPI} \n01473|                   disabled={isTestingRailContinent}\n01474|                   size=\"sm\"\n01475|                   variant=\"outline\"\n01476|                 >\n01477|                   {isTestingRailContinent ? '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...' : '–¢–µ—Å—Ç'}\n01478|                 </Button>\n01479|               </CardTitle>\n01480|             </CardHeader>\n01481|             <CardContent>\n01482|               {diagnosticResults.railcontinent ? (\n01483|                 <Alert className={getStatusColor(diagnosticResults.railcontinent.status)}>\n01484|                   <div className=\"flex items-start gap-2\">\n01485|                     {getStatusIcon(diagnosticResults.railcontinent.status)}\n01486|                     <div className=\"flex-1\">\n01487|                       <AlertDescription>\n01488|                         <div className=\"font-medium mb-2\">{diagnosticResults.railcontinent.message}</div>\n01489|                         {diagnosticResults.railcontinent.timing && (\n01490|                           <Badge variant=\"outline\" className=\"mb-2\">\n01491|                             –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: {diagnosticResults.railcontinent.timing}–º—Å\n01492|                           </Badge>\n01493|                         )}\n01494|                         {diagnosticResults.railcontinent.details && (\n01495|                           <details className=\"mt-2\">\n01496|                             <summary className=\"cursor-pointer text-sm\">–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏</summary>\n01497|                             <pre className=\"text-xs mt-2 p-2 bg-gray-800 rounded overflow-auto\">\n01498|                               {JSON.stringify(diagnosticResults.railcontinent.details, null, 2)}\n01499|                             </pre>\n01500|                           </details>\n01501|                         )}\n01502|                       </AlertDescription>\n01503|                     </div>\n01504|                   </div>\n01505|                 </Alert>\n01506|               ) : (\n01507|                 <p className=\"text-gray-400\">–ù–∞–∂–º–∏—Ç–µ \"–¢–µ—Å—Ç\" –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API Rail Continent</p>\n01508|               )}\n01509|             </CardContent>\n01510|           </Card>\n01511| \n01512|           {/* –í–æ–∑–æ–≤–æ–∑ */}\n01513|           <Card className=\"border-gray-700 bg-gray-900\">\n01514|             <CardHeader>\n01515|               <CardTitle className=\"flex items-center justify-between\">\n01516|                 <div className=\"flex items-center gap-2\">\n01517|                   <Truck className=\"h-5 w-5 text-orange-400\" />\n01518|                   –í–æ–∑–æ–≤–æ–∑\n01519|                 </div>\n01520|                 <Button \n01521|                   onClick={testVozovozAPI} \n01522|                   disabled={isTestingVozovoz}\n01523|                   size=\"sm\"\n01524|                   variant=\"outline\"\n01525|                 >\n01526|                   {isTestingVozovoz ? '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...' : '–¢–µ—Å—Ç'}\n01527|                 </Button>\n01528|               </CardTitle>\n01529|             </CardHeader>\n01530|             <CardContent>\n01531|               {diagnosticResults.vozovoz ? (\n01532|                 <Alert className={getStatusColor(diagnosticResults.vozovoz.status)}>\n01533|                   <div className=\"flex items-start gap-2\">\n01534|                     {getStatusIcon(diagnosticResults.vozovoz.status)}\n01535|                     <div className=\"flex-1\">\n01536|                       <AlertDescription>\n01537|                         <div className=\"font-medium mb-2\">{diagnosticResults.vozovoz.message}</div>\n01538|                         {diagnosticResults.vozovoz.timing && (\n01539|                           <Badge variant=\"outline\" className=\"mb-2\">\n01540|                             –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: {diagnosticResults.vozovoz.timing}–º—Å\n01541|                           </Badge>\n01542|                         )}\n01543|                         {diagnosticResults.vozovoz.details && (\n01544|                           <details className=\"mt-2\">\n01545|                             <summary className=\"cursor-pointer text-sm\">–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏</summary>\n01546|                             <pre className=\"text-xs mt-2 p-2 bg-gray-800 rounded overflow-auto\">\n01547|                               {JSON.stringify(diagnosticResults.vozovoz.details, null, 2)}\n01548|                             </pre>\n01549|                           </details>\n01550|                         )}\n01551|                       </AlertDescription>\n01552|                     </div>\n01553|                   </div>\n01554|                 </Alert>\n01555|               ) : (\n01556|                 <p className=\"text-gray-400\">–ù–∞–∂–º–∏—Ç–µ \"–¢–µ—Å—Ç\" –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API –í–æ–∑–æ–≤–æ–∑</p>\n01557|               )}\n01558|             </CardContent>\n01559|           </Card>\n01560| \n01561|           {/* Nord Wheel */}\n01562|           <Card className=\"border-gray-700 bg-gray-900\">\n01563|             <CardHeader>\n01564|               <CardTitle className=\"flex items-center justify-between\">\n01565|                 <div className=\"flex items-center gap-2\">\n01566|                   <Truck className=\"h-5 w-5 text-cyan-400\" />\n01567|                   Nord Wheel\n01568|                 </div>\n01569|                 <Button \n01570|                   onClick={testNordWheelAPI} \n01571|                   disabled={isTestingNordWheel}\n01572|                   size=\"sm\"\n01573|                   variant=\"outline\"\n01574|                 >\n01575|                   {isTestingNordWheel ? '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...' : '–¢–µ—Å—Ç'}\n01576|                 </Button>\n01577|               </CardTitle>\n01578|             </CardHeader>\n01579|             <CardContent>\n01580|               {diagnosticResults.nordwheel ? (\n01581|                 <Alert className={getStatusColor(diagnosticResults.nordwheel.status)}>\n01582|                   <div className=\"flex items-start gap-2\">\n01583|                     {getStatusIcon(diagnosticResults.nordwheel.status)}\n01584|                     <div className=\"flex-1\">\n01585|                       <AlertDescription>\n01586|                         <div className=\"font-medium mb-2\">{diagnosticResults.nordwheel.message}</div>\n01587|                         {diagnosticResults.nordwheel.timing && (\n01588|                           <Badge variant=\"outline\" className=\"mb-2\">\n01589|                             –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: {diagnosticResults.nordwheel.timing}–º—Å\n01590|                           </Badge>\n01591|                         )}\n01592|                         {diagnosticResults.nordwheel.details && (\n01593|                           <details className=\"mt-2\">\n01594|                             <summary className=\"cursor-pointer text-sm\">–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏</summary>\n01595|                             <pre className=\"text-xs mt-2 p-2 bg-gray-800 rounded overflow-auto\">\n01596|                               {JSON.stringify(diagnosticResults.nordwheel.details, null, 2)}\n01597|                             </pre>\n01598|                           </details>\n01599|                         )}\n01600|                       </AlertDescription>\n01601|                     </div>\n01602|                   </div>\n01603|                 </Alert>\n01604|               ) : (\n01605|                 <p className=\"text-gray-400\">–ù–∞–∂–º–∏—Ç–µ \"–¢–µ—Å—Ç\" –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API Nord Wheel</p>\n01606|               )}\n01607|             </CardContent>\n01608|           </Card>\n01609|         </div>\n01610| \n01611|         {/* –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–∞–º–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π */}\n01612|         <Card className=\"border-blue-500 bg-blue-900/20 mt-6\">\n01613|           <CardHeader>\n01614|             <div className=\"flex items-center justify-between\">\n01615|               <CardTitle className=\"flex items-center gap-2\">\n01616|                 <Truck className=\"h-5 w-5 text-blue-400\" />\n01617|                 –¢–∏–ø—ã –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π\n01618|                 {hasUnsavedChanges && (\n01619|                   <Badge variant=\"outline\" className=\"text-orange-400 border-orange-400\">\n01620|                     –ï—Å—Ç—å –Ω–µ—Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è\n01621|                   </Badge>\n01622|                 )}\n01623|               </CardTitle>\n01624|               <Button \n01625|                 onClick={saveVehicleTypes}\n01626|                 disabled={!hasUnsavedChanges || isSaving}\n01627|                 className={\n01628|                   saveStatus === 'success' \n01629|                     ? \"bg-green-600 hover:bg-green-700 text-white\" \n01630|                     : saveStatus === 'error'\n01631|                     ? \"bg-red-600 hover:bg-red-700 text-white\"\n01632|                     : \"bg-green-600 hover:bg-green-700 disabled:bg-gray-600\"\n01633|                 }\n01634|                 size=\"sm\"\n01635|               >\n01636|                 <Save className=\"h-4 w-4 mr-2\" />\n01637|                 {saveStatus === 'saving' && '–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...'}\n01638|                 {saveStatus === 'success' && '–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ!'}\n01639|                 {saveStatus === 'error' && '–û—à–∏–±–∫–∞'}\n01640|                 {saveStatus === 'idle' && '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å'}\n01641|               </Button>\n01642|             </div>\n01643|           </CardHeader>\n01644|           <CardContent>\n01645|             {/* –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ */}\n01646|             <Alert className=\"border-blue-500 bg-blue-900/20 mb-4\">\n01647|               <AlertCircle className=\"h-4 w-4\" />\n01648|               <AlertDescription>\n01649|                 –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ä–∞–∑–º–µ—Ä–∞—Ö –∏ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö —Ç–∏–ø–æ–≤ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –ª–æ–∫–∞–ª—å–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –ù–∞–∂–º–∏—Ç–µ \"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å\" –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π.\n01650|                 <br /><br />\n01651|                 <strong>–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ Google Sheets:</strong> –î–∞–Ω–Ω—ã–µ —Ç–∞–∫–∂–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã —Å –ø–æ–º–æ—â—å—é –∫–Ω–æ–ø–∫–∏ \"–û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ\" —Å–≤–µ—Ä—Ö—É. –≠—Ç–æ –∑–∞–º–µ–Ω–∏—Ç –≤—Å–µ –º–µ—Å—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ —Ç–∞–±–ª–∏—Ü—ã.\n01652|               </AlertDescription>\n01653|             </Alert>\n01654|             \n01655|             {/* –°–ø–∏—Å–æ–∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π */}\n01656|             <div className=\"space-y-4 mb-6\">\n01657|               <h3 className=\"text-lg font-medium text-white\">–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–∏–ø—ã:</h3>\n01658|               <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n01659|                 {vehicleTypes.map((vehicle) => (\n01660|                   <div key={vehicle.id} className=\"bg-gray-800 p-4 rounded-lg border border-gray-600\">\n01661|                     <div className=\"space-y-3\">\n01662|                       <div>\n01663|                         <Label className=\"text-sm text-gray-300\">–ù–∞–∑–≤–∞–Ω–∏–µ</Label>\n01664|                         <Input\n01665|                           value={vehicle.name}\n01666|                           onChange={(e) => updateVehicleType(vehicle.id, 'name', e.target.value)}\n01667|                           className=\"bg-gray-700 border-gray-600 text-white\"\n01668|                         />\n01669|                       </div>\n01670|                       \n01671|                       <div className=\"grid grid-cols-3 gap-2\">\n01672|                         <div>\n01673|                           <Label className=\"text-xs text-gray-400\">–î–ª–∏–Ω–∞ (–º–º)</Label>\n01674|                           <Input\n01675|                             type=\"number\"\n01676|                             value={vehicle.length}\n01677|                             onChange={(e) => updateVehicleType(vehicle.id, 'length', parseInt(e.target.value) || 0)}\n01678|                             className=\"bg-gray-700 border-gray-600 text-white text-xs\"\n01679|                           />\n01680|                         </div>\n01681|                         <div>\n01682|                           <Label className=\"text-xs text-gray-400\">–®–∏—Ä–∏–Ω–∞ (–º–º)</Label>\n01683|                           <Input\n01684|                             type=\"number\"\n01685|                             value={vehicle.width}\n01686|                             onChange={(e) => updateVehicleType(vehicle.id, 'width', parseInt(e.target.value) || 0)}\n01687|                             className=\"bg-gray-700 border-gray-600 text-white text-xs\"\n01688|                           />\n01689|                         </div>\n01690|                         <div>\n01691|                           <Label className=\"text-xs text-gray-400\">–í—ã—Å–æ—Ç–∞ (–º–º)</Label>\n01692|                           <Input\n01693|                             type=\"number\"\n01694|                             value={vehicle.height}\n01695|                             onChange={(e) => updateVehicleType(vehicle.id, 'height', parseInt(e.target.value) || 0)}\n01696|                             className=\"bg-gray-700 border-gray-600 text-white text-xs\"\n01697|                           />\n01698|                         </div>\n01699|                       </div>\n01700|                       \n01701|                       <div className=\"flex justify-between items-center pt-2\">\n01702|                         <div className=\"text-xs text-gray-400\">\n01703|                           –û–±—ä—ë–º: {((vehicle.length * vehicle.width * vehicle.height) / 1000000000).toFixed(1)} –º¬≥\n01704|                         </div>\n01705|                         <Button\n01706|                           onClick={() => removeVehicleType(vehicle.id)}\n01707|                           variant=\"outline\"\n01708|                           size=\"sm\"\n01709|                           className=\"text-red-400 border-red-400 hover:bg-red-400 hover:text-white\"\n01710|                         >\n01711|                           <Trash2 className=\"h-3 w-3\" />\n01712|                         </Button>\n01713|                       </div>\n01714|                     </div>\n01715|                   </div>\n01716|                 ))}\n01717|               </div>\n01718|             </div>\n01719|             \n01720|             {/* –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∞–≤—Ç–æ–º–æ–±–∏–ª—è */}\n01721|             <div className=\"bg-gray-800 p-4 rounded-lg border-2 border-dashed border-gray-600\">\n01722|               <h3 className=\"text-lg font-medium text-white mb-4\">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø:</h3>\n01723|               <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4\">\n01724|                 <div>\n01725|                   <Label className=\"text-sm text-gray-300\">–ù–∞–∑–≤–∞–Ω–∏–µ</Label>\n01726|                   <Input\n01727|                     placeholder=\"–Ω–∞–ø—Ä. –ú–µ—Ä—Å–µ–¥–µ—Å –°–ø—Ä–∏–Ω—Ç–µ—Ä\"\n01728|                     value={newVehicle.name}\n01729|                     onChange={(e) => setNewVehicle({ ...newVehicle, name: e.target.value })}\n01730|                     className=\"bg-gray-700 border-gray-600 text-white\"\n01731|                   />\n01732|                 </div>\n01733|                 <div>\n01734|                   <Label className=\"text-sm text-gray-300\">–î–ª–∏–Ω–∞ –∫—É–∑–æ–≤–∞ (–≤–Ω—É—Ç—Ä–∏), –º–º</Label>\n01735|                   <Input\n01736|                     type=\"number\"\n01737|                     placeholder=\"4200\"\n01738|                     value={newVehicle.length}\n01739|                     onChange={(e) => setNewVehicle({ ...newVehicle, length: e.target.value })}\n01740|                     className=\"bg-gray-700 border-gray-600 text-white\"\n01741|                   />\n01742|                 </div>\n01743|                 <div>\n01744|                   <Label className=\"text-sm text-gray-300\">–®–∏—Ä–∏–Ω–∞ –∫—É–∑–æ–≤–∞ (–≤–Ω—É—Ç—Ä–∏), –º–º</Label>\n01745|                   <Input\n01746|                     type=\"number\"\n01747|                     placeholder=\"2025\"\n01748|                     value={newVehicle.width}\n01749|                     onChange={(e) => setNewVehicle({ ...newVehicle, width: e.target.value })}\n01750|                     className=\"bg-gray-700 border-gray-600 text-white\"\n01751|                   />\n01752|                 </div>\n01753|                 <div>\n01754|                   <Label className=\"text-sm text-gray-300\">–í—ã—Å–æ—Ç–∞ –∫—É–∑–æ–≤–∞ (–≤–Ω—É—Ç—Ä–∏), –º–º</Label>\n01755|                   <Input\n01756|                     type=\"number\"\n01757|                     placeholder=\"2025\"\n01758|                     value={newVehicle.height}\n01759|                     onChange={(e) => setNewVehicle({ ...newVehicle, height: e.target.value })}\n01760|                     className=\"bg-gray-700 border-gray-600 text-white\"\n01761|                   />\n01762|                 </div>\n01763|               </div>\n01764|               \n01765|               <div className=\"flex justify-between items-center\">\n01766|                 <div className=\"text-sm text-gray-400\">\n01767|                   {newVehicle.length && newVehicle.width && newVehicle.height && (\n01768|                     <span>\n01769|                       –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º—ã–π –æ–±—ä—ë–º: {((parseInt(newVehicle.length) * parseInt(newVehicle.width) * parseInt(newVehicle.height)) / 1000000000).toFixed(1)} –º¬≥\n01770|                     </span>\n01771|                   )}\n01772|                 </div>\n01773|                 <Button \n01774|                   onClick={addVehicleType}\n01775|                   className=\"bg-blue-600 hover:bg-blue-700\"\n01776|                 >\n01777|                   <Plus className=\"h-4 w-4 mr-2\" />\n01778|                   –î–æ–±–∞–≤–∏—Ç—å\n01779|                 </Button>\n01780|               </div>\n01781|             </div>\n01782|           </CardContent>\n01783|         </Card>\n01784|       </div>\n01785|     </div>\n01786|   );\n01787| }\n</file>",
    "metadata": {
      "preview": "'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Badge } from '@/components/ui/badge';\nimport { Building2, Truck, Activity, CheckCircle, AlertCircle, XCircle, TestTube, PlayCircle, Plus, Trash2, Save, ExternalLink, RefreshCw, Download } from 'lucide-react';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\n\nexport default function DiagnosticPage() {\n  const [isTestingPEK, setIsTestingPEK] = useState(false);\n  const [isTestingDellin, setIsTestingDellin] = useState(false);\n  const [isTestingRailContinent, setIsTestingRailContinent] = useState(false);\n  const [isTestingVozovoz, setIsTestingVozovoz] = useState(false);\n  const [isTestingNordWheel, setIsTestingNordWheel] = useState(false);\n  const [isFullTesting, setIsFullTesting] = useState(false);\n  \n  const [diagnosticResults, setDiagnosticResults] = useState<{"
    },
    "title": "app/diagnostic/page.tsx",
    "time": {
      "start": 1759228560133,
      "end": 1759228560140
    }
  }
}
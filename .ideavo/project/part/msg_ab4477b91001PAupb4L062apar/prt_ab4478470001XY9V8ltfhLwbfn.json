{
  "id": "prt_ab4478470001XY9V8ltfhLwbfn",
  "sessionID": "ses_6852784ecffeuHwynj83p2lr14",
  "messageID": "msg_ab4477b91001PAupb4L062apar",
  "type": "tool",
  "callID": "call_ff333d24dfc34f9d89f6dd45",
  "tool": "read",
  "state": {
    "status": "completed",
    "input": {
      "filePath": "/home/user/project/app/page.tsx",
      "limit": 100,
      "offset": 3580
    },
    "output": "<file>\n03581|         } else {\n03582|           return {\n03583|             type: 'address' as const,\n03584|             address: form.fromAddress || form.fromCity // –ò—Å–ø–æ–ª—å–∑—É–µ–º –∞–¥—Ä–µ—Å –µ—Å–ª–∏ –µ—Å—Ç—å, –∏–Ω–∞—á–µ –≥–æ—Ä–æ–¥\n03585|           };\n03586|         }\n03587|       };\n03588| \n03589|       const getDestinationLocation = () => {\n03590|         if (form.toTerminal) {\n03591|           return {\n03592|             type: 'terminal' as const,\n03593|             // –î–ª—è —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≥–æ—Ä–æ–¥–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω–∞–ª—ã\n03594|             terminal_id: form.toCity.toLowerCase().includes('–º–æ—Å–∫–≤–∞') ? '0c7a2795-1220-486d-a7ce-8bcf130a1224' :\n03595|                         form.toCity.toLowerCase().includes('—Å–∞–Ω–∫—Ç') || form.toCity.toLowerCase().includes('—Å–ø–±') ? '3ca02b62-3632-4da0-8fde-de9d9c77c553' :\n03596|                         '3ca02b62-3632-4da0-8fde-de9d9c77c553', // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –°–ü–±\n03597|             city_fias: form.toCity.toLowerCase().includes('–º–æ—Å–∫–≤–∞') ? '0c5b2444-70a0-4932-980c-b4dc0d3f02b5' :\n03598|                        form.toCity.toLowerCase().includes('—Å–∞–Ω–∫—Ç') || form.toCity.toLowerCase().includes('—Å–ø–±') ? 'c2deb16a-0330-4f05-821f-1d09c93331e6' :\n03599|                        'c2deb16a-0330-4f05-821f-1d09c93331e6' // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –°–ü–±\n03600|           };\n03601|         } else {\n03602|           return {\n03603|             type: 'address' as const,\n03604|             address: form.toAddress || form.toCity // –ò—Å–ø–æ–ª—å–∑—É–µ–º –∞–¥—Ä–µ—Å –µ—Å–ª–∏ –µ—Å—Ç—å, –∏–Ω–∞—á–µ –≥–æ—Ä–æ–¥\n03605|           };\n03606|         }\n03607|       };\n03608| \n03609|       // –§–æ—Ä–º–∏—Ä—É–µ–º –∑–∞–ø—Ä–æ—Å –¥–ª—è –Ω–æ–≤–æ–≥–æ API NordWheel —Å —É—á–µ—Ç–æ–º –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Ñ–æ—Ä–º—ã\n03610|       const requestData = {\n03611|         dispatch: {\n03612|           location: getDispatchLocation()\n03613|         },\n03614|         destination: {\n03615|           location: getDestinationLocation()\n03616|         },\n03617|         cargo: {\n03618|           total_weight: totalWeight,\n03619|           total_volume: totalVolume,\n03620|           total_quantity: form.cargos.length\n03621|         },\n03622|         insurance: form.needInsurance && form.declaredValue ? form.declaredValue : 0,\n03623|         insurance_refuse: !form.needInsurance,\n03624|         services: {\n03625|           is_package: form.needPackaging,\n03626|           is_documents_return: false,\n03627|           is_fragile: false\n03628|         },\n03629|         promocode: null\n03630|       };\n03631| \n03632|       console.log('üöõ Nord Wheel –Ω–æ–≤—ã–π API –∑–∞–ø—Ä–æ—Å:', JSON.stringify(requestData, null, 2));\n03633| \n03634|       const response = await fetch(apiUrl, {\n03635|         method: 'POST',\n03636|         headers: {\n03637|           'Content-Type': 'application/json',\n03638|           'Authorization': `Bearer ${process.env.NORDWHEEL_API_KEY}`\n03639|         },\n03640|         body: JSON.stringify(requestData)\n03641|       });\n03642| \n03643|       if (!response.ok) {\n03644|         console.error('‚ùå Nord Wheel API –æ—à–∏–±–∫–∞:', response.status, response.statusText);\n03645|         const errorDetails = response.status === 401 ? '–ù–µ–≤–µ—Ä–Ω—ã–π API –∫–ª—é—á' :\n03646|                             response.status === 400 ? '–ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å' :\n03647|                             response.status === 404 ? '–ì–æ—Ä–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω' :\n03648|                             response.status === 500 ? '–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞' :\n03649|                             `–û—à–∏–±–∫–∞ API: ${response.status} ${response.statusText}`;\n03650|         \n03651|         return {\n03652|           company: 'Nord Wheel',\n03653|           price: 0,\n03654|           days: 0,\n03655|           error: errorDetails,\n03656|           apiUrl,\n03657|           requestData\n03658|         };\n03659|       }\n03660| \n03661|       const data = await response.json();\n03662|       console.log('üöõ Nord Wheel API –æ—Ç–≤–µ—Ç:', data);\n03663| \n03664|       // –ü–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞ API - –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã\n03665|       let price = 0;\n03666|       let days = 0;\n03667|       let details: any = {};\n03668| \n03669|       if (data.success) {\n03670|         // –ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç API\n03671|         price = data.price || data.total_cost || data.cost || 0;\n03672|         days = data.days || data.delivery_days || data.delivery_time || 0;\n03673|         details = {\n03674|           totalCost: price,\n03675|           deliveryCost: data.delivery_cost || 0,\n03676|           pickupCost: data.pickup_cost || 0,\n03677|           insuranceCost: data.insurance_cost || 0,\n03678|           services: data.services || [],\n03679|           currency: data.currency || 'RUB'\n03680|         };\n\n(File has more lines. Use 'offset' parameter to read beyond line 3680)\n</file>",
    "title": "app/page.tsx",
    "metadata": {
      "preview": "        } else {\n          return {\n            type: 'address' as const,\n            address: form.fromAddress || form.fromCity // –ò—Å–ø–æ–ª—å–∑—É–µ–º –∞–¥—Ä–µ—Å –µ—Å–ª–∏ –µ—Å—Ç—å, –∏–Ω–∞—á–µ –≥–æ—Ä–æ–¥\n          };\n        }\n      };\n\n      const getDestinationLocation = () => {\n        if (form.toTerminal) {\n          return {\n            type: 'terminal' as const,\n            // –î–ª—è —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≥–æ—Ä–æ–¥–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω–∞–ª—ã\n            terminal_id: form.toCity.toLowerCase().includes('–º–æ—Å–∫–≤–∞') ? '0c7a2795-1220-486d-a7ce-8bcf130a1224' :\n                        form.toCity.toLowerCase().includes('—Å–∞–Ω–∫—Ç') || form.toCity.toLowerCase().includes('—Å–ø–±') ? '3ca02b62-3632-4da0-8fde-de9d9c77c553' :\n                        '3ca02b62-3632-4da0-8fde-de9d9c77c553', // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –°–ü–±\n            city_fias: form.toCity.toLowerCase().includes('–º–æ—Å–∫–≤–∞') ? '0c5b2444-70a0-4932-980c-b4dc0d3f02b5' :\n                       form.toCity.toLowerCase().includes('—Å–∞–Ω–∫—Ç') || form.toCity.toLowerCase().includes('—Å–ø–±') ? 'c2deb16a-0330-4f05-821f-1d09c93331e6' :\n                       'c2deb16a-0330-4f05-821f-1d09c93331e6' // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –°–ü–±\n          };"
    },
    "time": {
      "start": 1763961177201,
      "end": 1763961177207
    }
  }
}
{
  "id": "prt_9bf2767b7001Son77UJmFK6leW",
  "messageID": "msg_9bf270ac5001frY1X4uJ1X13jF",
  "sessionID": "ses_6852784ecffeuHwynj83p2lr14",
  "type": "tool",
  "tool": "read",
  "callID": "toolu_018rrWPbArRCZWY5VtquNATG",
  "state": {
    "status": "completed",
    "input": {
      "filePath": "/home/user/project/app/page.tsx",
      "offset": 3070,
      "limit": 180
    },
    "output": "<file>\n03071|     const apiUrl = '/api/vozovoz';\n03072|     \n03073|     try {\n03074|       // –í—ã—á–∏—Å–ª—è–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≥—Ä—É–∑–∞\n03075|       const totalWeight = form.cargos.reduce((sum, cargo) => sum + cargo.weight, 0);\n03076|       const totalVolume = form.cargos.reduce((sum, cargo) => \n03077|         sum + (cargo.length * cargo.width * cargo.height) / 1000000, 0\n03078|       );\n03079|       \n03080|       console.log('üöö –í–æ–∑–æ–≤–æ–∑: –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö...');\n03081|       console.log('   - –û–±—â–∏–π –≤–µ—Å:', totalWeight, '–∫–≥');\n03082|       console.log('   - –û–±—â–∏–π –æ–±—ä–µ–º:', totalVolume, '–º¬≥');\n03083|       console.log('   - –û—Ç–∫—É–¥–∞:', form.fromCity);\n03084|       console.log('   - –ö—É–¥–∞:', form.toCity);\n03085|       \n03086|       // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è API Vozovoz\n03087|       const requestData = {\n03088|         object: \"price\",\n03089|         action: \"get\",\n03090|         params: {\n03091|           cargo: {\n03092|             dimension: {\n03093|               quantity: form.cargos.length,\n03094|               volume: totalVolume,\n03095|               weight: totalWeight\n03096|             },\n03097|             ...(form.needInsurance && form.declaredValue > 0 ? {\n03098|               insurance: form.declaredValue\n03099|             } : {}),\n03100|             ...(form.needPackaging ? {\n03101|               wrapping: {\n03102|                 palletCollar: totalVolume // –û–±—Ä–µ—à–µ—Ç–∫–∞ –ø–æ –æ–±—ä–µ–º—É\n03103|               }\n03104|             } : {})\n03105|           },\n03106|           gateway: {\n03107|             dispatch: {\n03108|               point: {\n03109|                 location: form.fromCity || '–ú–æ—Å–∫–≤–∞',\n03110|                 ...(form.fromAddressDelivery ? {\n03111|                   address: form.fromAddress || \"–∞–¥—Ä–µ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è\"\n03112|                 } : {\n03113|                   terminal: \"default\"\n03114|                 })\n03115|               }\n03116|             },\n03117|             destination: {\n03118|               point: {\n03119|                 location: form.toCity || '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',\n03120|                 ...(form.toAddressDelivery ? {\n03121|                   address: form.toAddress || \"–∞–¥—Ä–µ—Å –ø–æ–ª—É—á–µ–Ω–∏—è\"\n03122|                 } : {\n03123|                   terminal: \"default\"\n03124|                 })\n03125|               }\n03126|             }\n03127|           }\n03128|         }\n03129|       };\n03130| \n03131|       console.log('üöö –í–æ–∑–æ–≤–æ–∑ –∑–∞–ø—Ä–æ—Å:', JSON.stringify(requestData, null, 2));\n03132| \n03133|       const response = await fetch(apiUrl, {\n03134|         method: 'POST',\n03135|         headers: {\n03136|           'Content-Type': 'application/json',\n03137|         },\n03138|         body: JSON.stringify(requestData)\n03139|       });\n03140| \n03141|       const data = await response.json();\n03142|       console.log('üöö –í–æ–∑–æ–≤–æ–∑ –æ—Ç–≤–µ—Ç:', JSON.stringify(data, null, 2));\n03143| \n03144|       if (response.ok && data.response) {\n03145|         const responseData = data.response;\n03146|         \n03147|         // –°–æ–±–∏—Ä–∞–µ–º –¥–µ—Ç–∞–ª–∏ –ø–æ —É—Å–ª—É–≥–∞–º\n03148|         const services: { name: string; description: string; price: number }[] = [];\n03149|         let totalPrice = responseData.price || responseData.basePrice || 0;\n03150|         \n03151|         console.log('üöö –í–æ–∑–æ–≤–æ–∑ –∞–Ω–∞–ª–∏–∑ –æ—Ç–≤–µ—Ç–∞:', responseData);\n03152|         \n03153|         // –ë–∞–∑–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏\n03154|         if (responseData.basePrice && responseData.basePrice > 0) {\n03155|           services.push({\n03156|             name: '–î–æ—Å—Ç–∞–≤–∫–∞ –≥—Ä—É–∑–∞',\n03157|             description: `${form.fromCity} - ${form.toCity}`,\n03158|             price: responseData.basePrice\n03159|           });\n03160|         }\n03161|         \n03162|         // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏ –∏–∑ –æ—Ç–≤–µ—Ç–∞ API\n03163|         if (responseData.service && Array.isArray(responseData.service)) {\n03164|           responseData.service.forEach((service: any) => {\n03165|             if (service.price > 0) {\n03166|               services.push({\n03167|                 name: service.name || '–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —É—Å–ª—É–≥–∞',\n03168|                 description: service.description || '',\n03169|                 price: service.price\n03170|               });\n03171|             }\n03172|           });\n03173|         }\n03174|         \n03175|         // –ó–∞–±–æ—Ä –≥—Ä—É–∑–∞ —Å –∞–¥—Ä–µ—Å–∞ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω)\n03176|         if (form.fromAddressDelivery && responseData.pickupPrice) {\n03177|           services.push({\n03178|             name: '–ó–∞–±–æ—Ä –≥—Ä—É–∑–∞',\n03179|             description: `–ó–∞–±–æ—Ä —Å –∞–¥—Ä–µ—Å–∞: ${form.fromAddress || '–∞–¥—Ä–µ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è'}`,\n03180|             price: responseData.pickupPrice\n03181|           });\n03182|         }\n03183|         \n03184|         // –î–æ—Å—Ç–∞–≤–∫–∞ –≥—Ä—É–∑–∞ –¥–æ –∞–¥—Ä–µ—Å–∞ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω)\n03185|         if (form.toAddressDelivery && responseData.deliveryPrice) {\n03186|           services.push({\n03187|             name: '–î–æ—Å—Ç–∞–≤–∫–∞ –¥–æ –∞–¥—Ä–µ—Å–∞',\n03188|             description: `–î–æ—Å—Ç–∞–≤–∫–∞ –¥–æ: ${form.toAddress || '–∞–¥—Ä–µ—Å –ø–æ–ª—É—á–µ–Ω–∏—è'}`,\n03189|             price: responseData.deliveryPrice\n03190|           });\n03191|         }\n03192|         \n03193|         // –£–ø–∞–∫–æ–≤–∫–∞ (–æ–±—Ä–µ—à–µ—Ç–∫–∞)\n03194|         if (form.needPackaging && responseData.wrappingPrice) {\n03195|           services.push({\n03196|             name: '–£–ø–∞–∫–æ–≤–∫–∞ –≥—Ä—É–∑–∞',\n03197|             description: '–û–±—Ä–µ—à–µ—Ç–∫–∞ –≥—Ä—É–∑–∞',\n03198|             price: responseData.wrappingPrice\n03199|           });\n03200|         }\n03201|         \n03202|         // –°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ\n03203|         if (form.needInsurance && responseData.insurancePrice) {\n03204|           services.push({\n03205|             name: '–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ –≥—Ä—É–∑–∞',\n03206|             description: `–ù–∞ —Å—É–º–º—É ${form.declaredValue.toLocaleString()} ‚ÇΩ`,\n03207|             price: responseData.insurancePrice\n03208|           });\n03209|         }\n03210|         \n03211|         // –ï—Å–ª–∏ —É—Å–ª—É–≥ –Ω–µ—Ç, –¥–æ–±–∞–≤–ª—è–µ–º –æ–±—â—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å\n03212|         if (services.length === 0) {\n03213|           services.push({\n03214|             name: '–î–æ—Å—Ç–∞–≤–∫–∞ –≥—Ä—É–∑–∞',\n03215|             description: `${form.fromCity} - ${form.toCity}`,\n03216|             price: totalPrice\n03217|           });\n03218|         }\n03219| \n03220|         console.log('üöö –í–æ–∑–æ–≤–æ–∑ –∏—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:', totalPrice);\n03221|         console.log('üöö –í–æ–∑–æ–≤–æ–∑ —É—Å–ª—É–≥–∏:', services);\n03222| \n03223|         return {\n03224|           company: '–í–æ–∑–æ–≤–æ–∑',\n03225|           price: Math.round(totalPrice),\n03226|           days: responseData.deliveryTime?.to || responseData.deliveryTime?.from || 3,\n03227|           details: {\n03228|             note: `–î–æ—Å—Ç–∞–≤–∫–∞ ${form.fromCity} - ${form.toCity}`,\n03229|             services,\n03230|             basePrice: responseData.basePrice,\n03231|             finalPrice: responseData.price,\n03232|             deliveryTime: responseData.deliveryTime,\n03233|             weight: totalWeight,\n03234|             volume: totalVolume\n03235|           },\n03236|           requestData,\n03237|           responseData: data,\n03238|           apiUrl\n03239|         };\n03240|       } else {\n03241|         return {\n03242|           company: '–í–æ–∑–æ–≤–æ–∑',\n03243|           price: 0,\n03244|           days: 0,\n03245|           error: data.error || '–û—à–∏–±–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ –í–æ–∑–æ–≤–æ–∑',\n03246|           requestData,\n03247|           responseData: data,\n03248|           apiUrl\n03249|         };\n03250|       }\n\n(File has more lines. Use 'offset' parameter to read beyond line 3250)\n</file>",
    "metadata": {
      "preview": "    const apiUrl = '/api/vozovoz';\n    \n    try {\n      // –í—ã—á–∏—Å–ª—è–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≥—Ä—É–∑–∞\n      const totalWeight = form.cargos.reduce((sum, cargo) => sum + cargo.weight, 0);\n      const totalVolume = form.cargos.reduce((sum, cargo) => \n        sum + (cargo.length * cargo.width * cargo.height) / 1000000, 0\n      );\n      \n      console.log('üöö –í–æ–∑–æ–≤–æ–∑: –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö...');\n      console.log('   - –û–±—â–∏–π –≤–µ—Å:', totalWeight, '–∫–≥');\n      console.log('   - –û–±—â–∏–π –æ–±—ä–µ–º:', totalVolume, '–º¬≥');\n      console.log('   - –û—Ç–∫—É–¥–∞:', form.fromCity);\n      console.log('   - –ö—É–¥–∞:', form.toCity);\n      \n      // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è API Vozovoz\n      const requestData = {\n        object: \"price\",\n        action: \"get\",\n        params: {"
    },
    "title": "app/page.tsx",
    "time": {
      "start": 1759848655693,
      "end": 1759848655699
    }
  }
}
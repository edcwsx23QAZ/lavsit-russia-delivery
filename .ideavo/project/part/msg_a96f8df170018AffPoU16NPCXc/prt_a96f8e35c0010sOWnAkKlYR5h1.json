{
  "id": "prt_a96f8e35c0010sOWnAkKlYR5h1",
  "sessionID": "ses_6852784ecffeuHwynj83p2lr14",
  "messageID": "msg_a96f8df170018AffPoU16NPCXc",
  "type": "tool",
  "callID": "call_23974311",
  "tool": "read",
  "state": {
    "status": "completed",
    "input": {
      "filePath": "test-nordwheel-api.js"
    },
    "output": "<file>\n00001| // Тестовый скрипт для проверки NordWheel API\n00002| const testNordWheelAPI = async () => {\n00003|   const apiUrl = 'https://api.nordw.orog.ru/api/v1/calculate';\n00004| \n00005|   const requestData = {\n00006|     dispatch: {\n00007|       location: {\n00008|         type: 'terminal',\n00009|         terminal_id: '0c7a2795-1220-486d-a7ce-8bcf130a1224',\n00010|         city_fias: '0c5b2444-70a0-4932-980c-b4dc0d3f02b5' // Москва FIAS\n00011|       }\n00012|     },\n00013|     destination: {\n00014|       location: {\n00015|         type: 'terminal',\n00016|         terminal_id: '3ca02b62-3632-4da0-8fde-de9d9c77c553',\n00017|         city_fias: 'c2deb16a-0330-4f05-821f-1d09c93331e6' // СПб FIAS\n00018|       }\n00019|     },\n00020|     cargo: {\n00021|       total_weight: 10,\n00022|       total_volume: 1.0,\n00023|       total_quantity: 1\n00024|     },\n00025|     insurance: 1000,\n00026|     insurance_refuse: false,\n00027|     services: {\n00028|       is_package: false,\n00029|       is_documents_return: false,\n00030|       is_fragile: false\n00031|     },\n00032|     promocode: null\n00033|   };\n00034| \n00035|   try {\n00036|     console.log('Отправка запроса к NordWheel API...');\n00037|     console.log('URL:', apiUrl);\n00038|     console.log('Request data:', JSON.stringify(requestData, null, 2));\n00039| \n00040|     const response = await fetch(apiUrl, {\n00041|       method: 'POST',\n00042|       headers: {\n00043|         'Content-Type': 'application/json',\n00044|         'Authorization': `Bearer ${process.env.NORDWHEEL_API_KEY || '5|WYpV9f788Y2ASobpv3xy6N5qxtIUaKhxFF4yWETOfc398950'}`\n00045|       },\n00046|       body: JSON.stringify(requestData)\n00047|     });\n00048| \n00049|     console.log('Статус ответа:', response.status);\n00050| \n00051|     if (!response.ok) {\n00052|       console.error('Ошибка API:', response.status, response.statusText);\n00053|       const errorText = await response.text();\n00054|       console.error('Тело ошибки:', errorText);\n00055|       return;\n00056|     }\n00057| \n00058|     const data = await response.json();\n00059|     console.log('Ответ от API:', JSON.stringify(data, null, 2));\n00060| \n00061|     if (data.success) {\n00062|       console.log('Цена:', data.price);\n00063|       console.log('Дни:', data.days);\n00064|     } else {\n00065|       console.log('API вернул success: false');\n00066|       if (data.message) {\n00067|         console.log('Сообщение:', data.message);\n00068|       }\n00069|     }\n00070| \n00071|   } catch (error) {\n00072|     console.error('Ошибка соединения:', error);\n00073|   }\n00074| };\n00075| \n00076| // Обертка для top-level await\n00077| (async () => {\n00078|   await testNordWheelAPI();\n00079| })();\n</file>",
    "title": "test-nordwheel-api.js",
    "metadata": {
      "preview": "// Тестовый скрипт для проверки NordWheel API\nconst testNordWheelAPI = async () => {\n  const apiUrl = 'https://api.nordw.orog.ru/api/v1/calculate';\n\n  const requestData = {\n    dispatch: {\n      location: {\n        type: 'terminal',\n        terminal_id: '0c7a2795-1220-486d-a7ce-8bcf130a1224',\n        city_fias: '0c5b2444-70a0-4932-980c-b4dc0d3f02b5' // Москва FIAS\n      }\n    },\n    destination: {\n      location: {\n        type: 'terminal',\n        terminal_id: '3ca02b62-3632-4da0-8fde-de9d9c77c553',\n        city_fias: 'c2deb16a-0330-4f05-821f-1d09c93331e6' // СПб FIAS\n      }\n    },\n    cargo: {"
    },
    "time": {
      "start": 1763469484895,
      "end": 1763469484899
    }
  }
}
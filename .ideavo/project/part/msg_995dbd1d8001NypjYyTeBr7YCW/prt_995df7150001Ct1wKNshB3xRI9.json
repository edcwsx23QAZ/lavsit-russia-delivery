{
  "id": "prt_995df7150001Ct1wKNshB3xRI9",
  "messageID": "msg_995dbd1d8001NypjYyTeBr7YCW",
  "sessionID": "ses_6852784ecffeuHwynj83p2lr14",
  "type": "tool",
  "tool": "read",
  "callID": "toolu_01E5tVw9dGBwMbWaGP4YEUBq",
  "state": {
    "status": "completed",
    "input": {
      "filePath": "/home/user/project/app/diagnostic/page.tsx"
    },
    "output": "<file>\n00001| 'use client';\n00002| \n00003| import React, { useState } from 'react';\n00004| import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\n00005| import { Button } from '@/components/ui/button';\n00006| import { Alert, AlertDescription } from '@/components/ui/alert';\n00007| import { Badge } from '@/components/ui/badge';\n00008| import { Building2, Truck, Activity, CheckCircle, AlertCircle, XCircle, TestTube, PlayCircle } from 'lucide-react';\n00009| \n00010| export default function DiagnosticPage() {\n00011|   const [isTestingPEK, setIsTestingPEK] = useState(false);\n00012|   const [isTestingDellin, setIsTestingDellin] = useState(false);\n00013|   const [isTestingRailContinent, setIsTestingRailContinent] = useState(false);\n00014|   const [isTestingVozovoz, setIsTestingVozovoz] = useState(false);\n00015|   const [isTestingNordWheel, setIsTestingNordWheel] = useState(false);\n00016|   const [isFullTesting, setIsFullTesting] = useState(false);\n00017|   \n00018|   const [diagnosticResults, setDiagnosticResults] = useState<{\n00019|     [key: string]: {\n00020|       status: 'success' | 'warning' | 'error' | 'pending';\n00021|       message: string;\n00022|       details?: any;\n00023|       response?: any;\n00024|       requestData?: any;\n00025|       timing?: number;\n00026|     }\n00027|   }>({});\n00028| \n00029|   const [fullTestResults, setFullTestResults] = useState<{\n00030|     summary: {\n00031|       totalTests: number;\n00032|       successful: number;\n00033|       failed: number;\n00034|       skipped: number;\n00035|       errors: string[];\n00036|       averageResponseTime: number;\n00037|       successRate: number;\n00038|     };\n00039|     details: any[];\n00040|     progressInfo: {\n00041|       currentTK: string;\n00042|       completedTests: number;\n00043|       totalPlannedTests: number;\n00044|       stage: string;\n00045|     } | null;\n00046|   } | null>(null);\n00047| \n00048|   const [testProgress, setTestProgress] = useState<{\n00049|     currentTK: string;\n00050|     completedTests: number;\n00051|     totalPlannedTests: number;\n00052|     stage: string;\n00053|   } | null>(null);\n00054| \n00055|   const updateResult = (service: string, result: any) => {\n00056|     setDiagnosticResults(prev => ({\n00057|       ...prev,\n00058|       [service]: result\n00059|     }));\n00060|   };\n00061| \n00062|   const testPEKAPI = async () => {\n00063|     setIsTestingPEK(true);\n00064|     const startTime = Date.now();\n00065|     \n00066|     try {\n00067|       console.log('üîß –ù–∞—á–∏–Ω–∞–µ–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –ü–≠–ö API...');\n00068|       \n00069|       // –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ü–≠–ö\n00070|       const testData = {\n00071|         fromCity: '–ú–æ—Å–∫–≤–∞',\n00072|         toCity: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',\n00073|         cargos: [{\n00074|           length: 100,\n00075|           width: 100,\n00076|           height: 100,\n00077|           weight: 10\n00078|         }],\n00079|         declaredValue: 50000,\n00080|         fromAddressDelivery: false,\n00081|         toAddressDelivery: false,\n00082|         needPackaging: false,\n00083|         needInsurance: false\n00084|       };\n00085| \n00086|       const response = await fetch('/api/pek', {\n00087|         method: 'POST',\n00088|         headers: { 'Content-Type': 'application/json' },\n00089|         body: JSON.stringify(testData)\n00090|       });\n00091| \n00092|       const data = await response.json();\n00093|       const timing = Date.now() - startTime;\n00094| \n00095|       console.log('üîß –ü–≠–ö API –æ—Ç–≤–µ—Ç:', data);\n00096| \n00097|       if (response.ok && data.success) {\n00098|         updateResult('pek', {\n00099|           status: 'success',\n00100|           message: `–ü–≠–ö API —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –ü–æ–ª—É—á–µ–Ω —Ç–∞—Ä–∏—Ñ: ${data.data?.price || 'N/A'} ‚ÇΩ`,\n00101|           details: data.data,\n00102|           response: data,\n00103|           requestData: testData,\n00104|           timing\n00105|         });\n00106|       } else {\n00107|         updateResult('pek', {\n00108|           status: 'warning',\n00109|           message: `–ü–≠–ö API –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É: ${data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}`,\n00110|           details: data.details,\n00111|           response: data,\n00112|           requestData: testData,\n00113|           timing\n00114|         });\n00115|       }\n00116|     } catch (error: any) {\n00117|       console.error('üîß –ü–≠–ö API –æ—à–∏–±–∫–∞:', error);\n00118|       updateResult('pek', {\n00119|         status: 'error',\n00120|         message: `–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –ü–≠–ö API: ${error.message}`,\n00121|         details: error,\n00122|         timing: Date.now() - startTime\n00123|       });\n00124|     } finally {\n00125|       setIsTestingPEK(false);\n00126|     }\n00127|   };\n00128| \n00129|   const testDellinAPI = async () => {\n00130|     setIsTestingDellin(true);\n00131|     const startTime = Date.now();\n00132|     \n00133|     try {\n00134|       console.log('üîß –ù–∞—á–∏–Ω–∞–µ–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ API...');\n00135|       \n00136|       const testData = {\n00137|         fromCity: '–ú–æ—Å–∫–≤–∞',\n00138|         toCity: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',\n00139|         cargos: [{\n00140|           length: 100,\n00141|           width: 100,\n00142|           height: 100,\n00143|           weight: 10\n00144|         }],\n00145|         declaredValue: 50000,\n00146|         fromAddressDelivery: false,\n00147|         toAddressDelivery: false,\n00148|         needPackaging: false,\n00149|         needInsurance: false\n00150|       };\n00151| \n00152|       const response = await fetch('/api/dellin-packages', {\n00153|         method: 'POST',\n00154|         headers: { 'Content-Type': 'application/json' },\n00155|         body: JSON.stringify(testData)\n00156|       });\n00157| \n00158|       const data = await response.json();\n00159|       const timing = Date.now() - startTime;\n00160| \n00161|       console.log('üîß –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ API –æ—Ç–≤–µ—Ç:', data);\n00162| \n00163|       if (response.ok && data.success) {\n00164|         updateResult('dellin', {\n00165|           status: 'success',\n00166|           message: `–î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ API —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –ü–æ–ª—É—á–µ–Ω —Ç–∞—Ä–∏—Ñ: ${data.data?.price || 'N/A'} ‚ÇΩ`,\n00167|           details: data.data,\n00168|           response: data,\n00169|           requestData: testData,\n00170|           timing\n00171|         });\n00172|       } else {\n00173|         updateResult('dellin', {\n00174|           status: 'warning',\n00175|           message: `–î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ API –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É: ${data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}`,\n00176|           details: data.details,\n00177|           response: data,\n00178|           requestData: testData,\n00179|           timing\n00180|         });\n00181|       }\n00182|     } catch (error: any) {\n00183|       console.error('üîß –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ API –æ—à–∏–±–∫–∞:', error);\n00184|       updateResult('dellin', {\n00185|         status: 'error',\n00186|         message: `–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ API: ${error.message}`,\n00187|         details: error,\n00188|         timing: Date.now() - startTime\n00189|       });\n00190|     } finally {\n00191|       setIsTestingDellin(false);\n00192|     }\n00193|   };\n00194| \n00195|   const testRailContinentAPI = async () => {\n00196|     setIsTestingRailContinent(true);\n00197|     const startTime = Date.now();\n00198|     \n00199|     try {\n00200|       console.log('üîß –ù–∞—á–∏–Ω–∞–µ–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É Rail Continent API...');\n00201|       \n00202|       const testData = {\n00203|         city_sender: '–ú–æ—Å–∫–≤–∞',\n00204|         city_receiver: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',\n00205|         weight: 10,\n00206|         volume: 0.1,\n00207|         length: 1,\n00208|         width: 1,\n00209|         height: 1,\n00210|         declared_cost: 50000,\n00211|         pickup: '0',\n00212|         delivery: '0',\n00213|         packaging: '0',\n00214|         insurance: '0',\n00215|         tariff: 'auto'\n00216|       };\n00217| \n00218|       const response = await fetch('/api/rail-continent', {\n00219|         method: 'POST',\n00220|         headers: { 'Content-Type': 'application/json' },\n00221|         body: JSON.stringify(testData)\n00222|       });\n00223| \n00224|       const data = await response.json();\n00225|       const timing = Date.now() - startTime;\n00226| \n00227|       console.log('üîß Rail Continent API –æ—Ç–≤–µ—Ç:', data);\n00228| \n00229|       if (response.ok && data.result === 'success') {\n00230|         updateResult('railcontinent', {\n00231|           status: 'success',\n00232|           message: `Rail Continent API —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –ü–æ–ª—É—á–µ–Ω —Ç–∞—Ä–∏—Ñ: ${data.data?.auto?.priceTotal || 'N/A'} ‚ÇΩ`,\n00233|           details: data.data,\n00234|           response: data,\n00235|           requestData: testData,\n00236|           timing\n00237|         });\n00238|       } else {\n00239|         updateResult('railcontinent', {\n00240|           status: 'warning',\n00241|           message: `Rail Continent API –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É: ${data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}`,\n00242|           details: data.details,\n00243|           response: data,\n00244|           requestData: testData,\n00245|           timing\n00246|         });\n00247|       }\n00248|     } catch (error: any) {\n00249|       console.error('üîß Rail Continent API –æ—à–∏–±–∫–∞:', error);\n00250|       updateResult('railcontinent', {\n00251|         status: 'error',\n00252|         message: `–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ Rail Continent API: ${error.message}`,\n00253|         details: error,\n00254|         timing: Date.now() - startTime\n00255|       });\n00256|     } finally {\n00257|       setIsTestingRailContinent(false);\n00258|     }\n00259|   };\n00260| \n00261|   const testVozovozAPI = async () => {\n00262|     setIsTestingVozovoz(true);\n00263|     const startTime = Date.now();\n00264|     \n00265|     try {\n00266|       console.log('üîß –ù–∞—á–∏–Ω–∞–µ–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –í–æ–∑–æ–≤–æ–∑ API...');\n00267|       \n00268|       const testData = {\n00269|         object: \"price\",\n00270|         action: \"get\",\n00271|         params: {\n00272|           cargo: {\n00273|             dimension: {\n00274|               quantity: 1,\n00275|               volume: 0.1,\n00276|               weight: 10\n00277|             }\n00278|           },\n00279|           gateway: {\n00280|             dispatch: {\n00281|               point: {\n00282|                 location: \"–ú–æ—Å–∫–≤–∞\",\n00283|                 terminal: \"default\"\n00284|               }\n00285|             },\n00286|             destination: {\n00287|               point: {\n00288|                 location: \"–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥\",\n00289|                 terminal: \"default\"\n00290|               }\n00291|             }\n00292|           }\n00293|         }\n00294|       };\n00295| \n00296|       const response = await fetch('/api/vozovoz', {\n00297|         method: 'POST',\n00298|         headers: { 'Content-Type': 'application/json' },\n00299|         body: JSON.stringify(testData)\n00300|       });\n00301| \n00302|       const data = await response.json();\n00303|       const timing = Date.now() - startTime;\n00304| \n00305|       console.log('üîß –í–æ–∑–æ–≤–æ–∑ API –æ—Ç–≤–µ—Ç:', data);\n00306| \n00307|       if (response.ok && data.response) {\n00308|         updateResult('vozovoz', {\n00309|           status: 'success',\n00310|           message: `–í–æ–∑–æ–≤–æ–∑ API —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –ü–æ–ª—É—á–µ–Ω —Ç–∞—Ä–∏—Ñ: ${data.response?.price || 'N/A'} ‚ÇΩ`,\n00311|           details: data.response,\n00312|           response: data,\n00313|           requestData: testData,\n00314|           timing\n00315|         });\n00316|       } else {\n00317|         updateResult('vozovoz', {\n00318|           status: 'warning',\n00319|           message: `–í–æ–∑–æ–≤–æ–∑ API –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É: ${data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}`,\n00320|           details: data.details,\n00321|           response: data,\n00322|           requestData: testData,\n00323|           timing\n00324|         });\n00325|       }\n00326|     } catch (error: any) {\n00327|       console.error('üîß –í–æ–∑–æ–≤–æ–∑ API –æ—à–∏–±–∫–∞:', error);\n00328|       updateResult('vozovoz', {\n00329|         status: 'error',\n00330|         message: `–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –í–æ–∑–æ–≤–æ–∑ API: ${error.message}`,\n00331|         details: error,\n00332|         timing: Date.now() - startTime\n00333|       });\n00334|     } finally {\n00335|       setIsTestingVozovoz(false);\n00336|     }\n00337|   };\n00338| \n00339|   const testNordWheelAPI = async () => {\n00340|     setIsTestingNordWheel(true);\n00341|     const startTime = Date.now();\n00342|     \n00343|     try {\n00344|       console.log('üîß –ù–∞—á–∏–Ω–∞–µ–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É Nord Wheel API...');\n00345|       \n00346|       const params = new URLSearchParams({\n00347|         from: '91', // –ú–æ—Å–∫–≤–∞\n00348|         to: '92', // –°–ü–±\n00349|         pickup: '0',\n00350|         deliver: '0',\n00351|         weight: '10',\n00352|         volume: '0.1',\n00353|         oversized: '0',\n00354|         package: '0',\n00355|         packageCount: '1',\n00356|         insurance: '0',\n00357|         sum: '50000',\n00358|         documentsReturn: '0',\n00359|         fragile: '1',\n00360|         length: '1',\n00361|         width: '1',\n00362|         height: '1'\n00363|       });\n00364| \n00365|       const apiUrl = 'https://nordw.ru/tools/api/calc/calculate/';\n00366|       const fullUrl = `${apiUrl}?${params.toString()}`;\n00367|       \n00368|       const response = await fetch(fullUrl);\n00369|       const data = await response.json();\n00370|       const timing = Date.now() - startTime;\n00371| \n00372|       console.log('üîß Nord Wheel API –æ—Ç–≤–µ—Ç:', data);\n00373| \n00374|       if (response.ok && data.status === 'success' && data.data) {\n00375|         updateResult('nordwheel', {\n00376|           status: 'success',\n00377|           message: `Nord Wheel API —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –ü–æ–ª—É—á–µ–Ω —Ç–∞—Ä–∏—Ñ: ${data.data?.total || 'N/A'} ‚ÇΩ`,\n00378|           details: data.data,\n00379|           response: data,\n00380|           requestData: Object.fromEntries(params),\n00381|           timing\n00382|         });\n00383|       } else {\n00384|         updateResult('nordwheel', {\n00385|           status: 'warning',\n00386|           message: `Nord Wheel API –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É: ${data.error || data.message || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}`,\n00387|           details: data.details,\n00388|           response: data,\n00389|           requestData: Object.fromEntries(params),\n00390|           timing\n00391|         });\n00392|       }\n00393|     } catch (error: any) {\n00394|       console.error('üîß Nord Wheel API –æ—à–∏–±–∫–∞:', error);\n00395|       updateResult('nordwheel', {\n00396|         status: 'error',\n00397|         message: `–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ Nord Wheel API: ${error.message}`,\n00398|         details: error,\n00399|         timing: Date.now() - startTime\n00400|       });\n00401|     } finally {\n00402|       setIsTestingNordWheel(false);\n00403|     }\n00404|   };\n00405| \n00406|   const testAllAPIs = async () => {\n00407|     await Promise.all([\n00408|       testPEKAPI(),\n00409|       testDellinAPI(), \n00410|       testRailContinentAPI(),\n00411|       testVozovozAPI(),\n00412|       testNordWheelAPI()\n00413|     ]);\n00414|   };\n00415| \n00416|   // üîß –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≥—Ä—É–∑–æ–≤—ã—Ö –º–µ—Å—Ç\n00417|   const generateTestCargos = (count: number, variant: 'small' | 'medium' | 'large' | 'mixed' = 'mixed') => {\n00418|     const cargos: Array<{length: number; width: number; height: number; weight: number}> = [];\n00419|     \n00420|     for (let i = 0; i < count; i++) {\n00421|       let cargo;\n00422|       \n00423|       switch (variant) {\n00424|         case 'small':\n00425|           cargo = {\n00426|             length: 30 + Math.floor(Math.random() * 70),  // 30-100 —Å–º\n00427|             width: 20 + Math.floor(Math.random() * 50),   // 20-70 —Å–º\n00428|             height: 15 + Math.floor(Math.random() * 35),  // 15-50 —Å–º\n00429|             weight: 1 + Math.floor(Math.random() * 19)    // 1-20 –∫–≥\n00430|           };\n00431|           break;\n00432|         case 'medium':\n00433|           cargo = {\n00434|             length: 80 + Math.floor(Math.random() * 70),  // 80-150 —Å–º\n00435|             width: 60 + Math.floor(Math.random() * 60),   // 60-120 —Å–º\n00436|             height: 40 + Math.floor(Math.random() * 80),  // 40-120 —Å–º\n00437|             weight: 15 + Math.floor(Math.random() * 35)   // 15-50 –∫–≥\n00438|           };\n00439|           break;\n00440|         case 'large':\n00441|           cargo = {\n00442|             length: 150 + Math.floor(Math.random() * 100), // 150-250 —Å–º (–Ω–µ–≥–∞–±–∞—Ä–∏—Ç)\n00443|             width: 120 + Math.floor(Math.random() * 80),   // 120-200 —Å–º\n00444|             height: 100 + Math.floor(Math.random() * 100), // 100-200 —Å–º\n00445|             weight: 40 + Math.floor(Math.random() * 460)   // 40-500 –∫–≥\n00446|           };\n00447|           break;\n00448|         default: // mixed\n00449|           const types = ['small', 'medium', 'large'] as const;\n00450|           const randomType = types[Math.floor(Math.random() * types.length)];\n00451|           cargo = generateTestCargos(1, randomType)[0];\n00452|           break;\n00453|       }\n00454|       \n00455|       cargos.push(cargo);\n00456|     }\n00457|     \n00458|     return cargos;\n00459|   };\n00460| \n00461|   // üîß –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤—Å–µ—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –æ–ø—Ü–∏–π —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏\n00462|   const generateOptionsCombinations = () => {\n00463|     const combinations: any[] = [];\n00464|     const options = [\n00465|       { name: 'fromAddressDelivery', values: [true, false] },\n00466|       { name: 'toAddressDelivery', values: [true, false] },\n00467|       { name: 'needPackaging', values: [true, false] },\n00468|       { name: 'needInsurance', values: [true, false] }\n00469|     ];\n00470| \n00471|     // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ (2^4 = 16 –∫–æ–º–±–∏–Ω–∞—Ü–∏–π)\n00472|     for (let i = 0; i < Math.pow(2, options.length); i++) {\n00473|       const combination: any = {\n00474|         fromCity: '–ú–æ—Å–∫–≤–∞',\n00475|         toCity: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',\n00476|         fromAddress: '—É–ª. –¢–≤–µ—Ä—Å–∫–∞—è, 1',\n00477|         toAddress: '–ù–µ–≤—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, 1',\n00478|         declaredValue: 50000\n00479|       };\n00480|       \n00481|       options.forEach((option, index) => {\n00482|         combination[option.name] = Boolean(i & (1 << index));\n00483|       });\n00484|       \n00485|       combinations.push(combination);\n00486|     }\n00487|     \n00488|     // –î–æ–±–∞–≤–ª—è–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ —Å—Ç–æ–∏–º–æ—Å—Ç—è–º–∏\n00489|     const specialCombinations = [\n00490|       { ...combinations[0], declaredValue: 10000, testCase: 'low_value' },\n00491|       { ...combinations[0], declaredValue: 100000, testCase: 'medium_value' },\n00492|       { ...combinations[0], declaredValue: 500000, testCase: 'high_value' },\n00493|       { ...combinations[0], declaredValue: 1000000, testCase: 'very_high_value' },\n00494|       // –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤\n00495|       { ...combinations[0], fromCity: '–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥', toCity: '–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫', testCase: 'long_distance' },\n00496|       { ...combinations[0], fromCity: '–ú–æ—Å–∫–≤–∞', toCity: '–ú—ã—Ç–∏—â–∏', testCase: 'short_distance' }\n00497|     ];\n00498|     \n00499|     return [...combinations, ...specialCombinations];\n00500|   };\n00501| \n00502|   // üîß –§—É–Ω–∫—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ–¥–Ω–æ–π –¢–ö —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏\n00503|   const testSingleTK = async (tkName: string, testData: any) => {\n00504|     const startTime = Date.now();\n00505|     let apiUrl = '';\n00506|     let requestData: any = {};\n00507|     \n00508|     try {\n00509|       switch (tkName) {\n00510|         case 'pek':\n00511|           apiUrl = '/api/pek';\n00512|           requestData = { method: 'calculateprice', ...testData };\n00513|           break;\n00514|         case 'dellin':\n00515|           // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä—è–º–æ–π —Ä–∞—Å—á–µ—Ç –∫–∞–∫ –≤ –≥–ª–∞–≤–Ω–æ–º –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–µ\n00516|           apiUrl = 'DELLIN_DIRECT';\n00517|           requestData = testData;\n00518|           break;\n00519|         case 'railcontinent':\n00520|           apiUrl = '/api/rail-continent';\n00521|           requestData = {\n00522|             city_sender: testData.fromCity,\n00523|             city_receiver: testData.toCity,\n00524|             weight: testData.cargos.reduce((sum: number, cargo: any) => sum + cargo.weight, 0),\n00525|             volume: testData.cargos.reduce((sum: number, cargo: any) => \n00526|               sum + (cargo.length * cargo.width * cargo.height) / 1000000, 0\n00527|             ),\n00528|             quantity: testData.cargos.length, // üîß –ù–æ–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä\n00529|             length: Math.max(...testData.cargos.map((c: any) => c.length)) / 100,\n00530|             width: Math.max(...testData.cargos.map((c: any) => c.width)) / 100,\n00531|             height: Math.max(...testData.cargos.map((c: any) => c.height)) / 100,\n00532|             declared_cost: testData.declaredValue,\n00533|             pickup: testData.fromAddressDelivery ? '1' : '0',\n00534|             delivery: testData.toAddressDelivery ? '1' : '0',\n00535|             packaging: testData.needPackaging ? '1' : '0',\n00536|             insurance: testData.needInsurance ? '1' : '0',\n00537|             tariff: 'auto'\n00538|           };\n00539|           break;\n00540|         case 'vozovoz':\n00541|           apiUrl = '/api/vozovoz';\n00542|           requestData = {\n00543|             object: \"price\",\n00544|             action: \"get\",\n00545|             params: {\n00546|               cargo: {\n00547|                 dimension: {\n00548|                   quantity: testData.cargos.length,\n00549|                   volume: testData.cargos.reduce((sum: number, cargo: any) => \n00550|                     sum + (cargo.length * cargo.width * cargo.height) / 1000000, 0\n00551|                   ),\n00552|                   weight: testData.cargos.reduce((sum: number, cargo: any) => sum + cargo.weight, 0)\n00553|                 },\n00554|                 ...(testData.needInsurance && testData.declaredValue > 0 ? {\n00555|                   insurance: testData.declaredValue\n00556|                 } : {}),\n00557|                 ...(testData.needPackaging ? {\n00558|                   wrapping: {\n00559|                     palletCollar: testData.cargos.reduce((sum: number, cargo: any) => \n00560|                       sum + (cargo.length * cargo.width * cargo.height) / 1000000, 0\n00561|                     )\n00562|                   }\n00563|                 } : {})\n00564|               },\n00565|               gateway: {\n00566|                 dispatch: {\n00567|                   point: {\n00568|                     location: testData.fromCity,\n00569|                     ...(testData.fromAddressDelivery ? {\n00570|                       address: testData.fromAddress || \"–∞–¥—Ä–µ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è\"\n00571|                     } : {\n00572|                       terminal: \"default\"\n00573|                     })\n00574|                   }\n00575|                 },\n00576|                 destination: {\n00577|                   point: {\n00578|                     location: testData.toCity,\n00579|                     ...(testData.toAddressDelivery ? {\n00580|                       address: testData.toAddress || \"–∞–¥—Ä–µ—Å –ø–æ–ª—É—á–µ–Ω–∏—è\"\n00581|                     } : {\n00582|                       terminal: \"default\"\n00583|                     })\n00584|                   }\n00585|                 }\n00586|               }\n00587|             }\n00588|           };\n00589|           break;\n00590|         case 'nordwheel':\n00591|           const totalWeight = testData.cargos.reduce((sum: number, cargo: any) => sum + cargo.weight, 0);\n00592|           const totalVolume = testData.cargos.reduce((sum: number, cargo: any) => \n00593|             sum + (cargo.length * cargo.width * cargo.height) / 1000000, 0\n00594|           );\n00595|           const maxLength = Math.max(...testData.cargos.map((c: any) => c.length));\n00596|           const maxWidth = Math.max(...testData.cargos.map((c: any) => c.width));\n00597|           const maxHeight = Math.max(...testData.cargos.map((c: any) => c.height));\n00598|           const isOversized = maxLength > 200 || maxWidth > 200 || maxHeight > 200 || totalWeight > 1000;\n00599|           \n00600|           const params = new URLSearchParams({\n00601|             from: '91',\n00602|             to: '92',\n00603|             pickup: testData.fromAddressDelivery ? '1' : '0',\n00604|             deliver: testData.toAddressDelivery ? '1' : '0',\n00605|             weight: totalWeight.toString(),\n00606|             volume: totalVolume.toString(),\n00607|             oversized: isOversized ? '1' : '0',\n00608|             package: testData.needPackaging ? '1' : '0',\n00609|             packageCount: testData.cargos.length.toString(),\n00610|             insurance: testData.needInsurance ? '1' : '0',\n00611|             sum: testData.declaredValue.toString(),\n00612|             documentsReturn: '0',\n00613|             fragile: '1',\n00614|             length: (maxLength / 100).toString(),\n00615|             width: (maxWidth / 100).toString(),\n00616|             height: (maxHeight / 100).toString(),\n00617|             multiplePackages: testData.cargos.length > 1 ? '1' : '0'\n00618|           });\n00619|           \n00620|           apiUrl = `https://nordw.ru/tools/api/calc/calculate/?${params.toString()}`;\n00621|           requestData = Object.fromEntries(params);\n00622|           break;\n00623|       }\n00624| \n00625|       let response: any;\n00626|       let data: any;\n00627| \n00628|       if (tkName === 'nordwheel') {\n00629|         response = await fetch(apiUrl);\n00630|         data = await response.json();\n00631|       } else if (tkName === 'dellin') {\n00632|         // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ –≤ –º–∞—Å—Å–æ–≤–æ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏–∑-–∑–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏\n00633|         return {\n00634|           tk: tkName,\n00635|           status: 'skipped',\n00636|           message: '–ü—Ä–æ–ø—É—â–µ–Ω–æ (—Å–ª–æ–∂–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)',\n00637|           timing: Date.now() - startTime,\n00638|           requestData,\n00639|           cargoCount: testData.cargos.length\n00640|         };\n00641|       } else {\n00642|         response = await fetch(apiUrl, {\n00643|           method: 'POST',\n00644|           headers: { 'Content-Type': 'application/json' },\n00645|           body: JSON.stringify(requestData)\n00646|         });\n00647|         data = await response.json();\n00648|       }\n00649| \n00650|       const timing = Date.now() - startTime;\n00651| \n00652|       // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¢–ö\n00653|       let isSuccess = false;\n00654|       let price = 0;\n00655|       \n00656|       switch (tkName) {\n00657|         case 'pek':\n00658|           isSuccess = response.ok && data.success;\n00659|           price = data.data?.price || 0;\n00660|           break;\n00661|         case 'railcontinent':\n00662|           isSuccess = response.ok && data.result === 'success';\n00663|           price = data.data?.auto?.priceTotal || 0;\n00664|           break;\n00665|         case 'vozovoz':\n00666|           isSuccess = response.ok && data.response;\n00667|           price = data.response?.price || 0;\n00668|           break;\n00669|         case 'nordwheel':\n00670|           isSuccess = response.ok && data.status === 'success' && data.data;\n00671|           price = data.data?.total || 0;\n00672|           break;\n00673|       }\n00674| \n00675|       return {\n00676|         tk: tkName,\n00677|         status: isSuccess ? 'success' : 'error',\n00678|         message: isSuccess ? `–¢–∞—Ä–∏—Ñ: ${price} ‚ÇΩ` : (data.error || data.message || '–û—à–∏–±–∫–∞'),\n00679|         timing,\n00680|         price,\n00681|         requestData,\n00682|         responseData: data,\n00683|         cargoCount: testData.cargos.length\n00684|       };\n00685| \n00686|     } catch (error: any) {\n00687|       return {\n00688|         tk: tkName,\n00689|         status: 'error',\n00690|         message: `–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞: ${error.message}`,\n00691|         timing: Date.now() - startTime,\n00692|         requestData,\n00693|         cargoCount: testData.cargos.length,\n00694|         error: error.message\n00695|       };\n00696|     }\n00697|   };\n00698| \n00699|   // üîß –†–ê–°–®–ò–†–ï–ù–ù–û–ï –ü–û–õ–ù–û–ï –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï\n00700|   const runFullTesting = async () => {\n00701|     setIsFullTesting(true);\n00702|     setFullTestResults(null);\n00703|     setTestProgress(null);\n00704|     \n00705|     const allResults: any[] = [];\n00706|     const errors: string[] = [];\n00707|     let totalTests = 0;\n00708|     let successful = 0;\n00709|     let skipped = 0;\n00710|     let totalResponseTime = 0;\n00711|     \n00712|     console.log('üß™ ===== –ù–ê–ß–ê–õ–û –†–ê–°–®–ò–†–ï–ù–ù–û–ì–û –ü–û–õ–ù–û–ì–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø =====');\n00713|     \n00714|     try {\n00715|       const transportCompanies = ['pek', 'railcontinent', 'vozovoz', 'nordwheel', 'dellin'];\n00716|       // –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≥—Ä—É–∑–æ–≤—ã—Ö –º–µ—Å—Ç\n00717|       const cargoCountTests = [1, 2, 3, 5, 7, 10, 15, 20, 25, 30, 40, 50];\n00718|       const cargoVariants = ['small', 'medium', 'large', 'mixed'] as const;\n00719|       const optionCombinations = generateOptionsCombinations();\n00720|       \n00721|       // –ü–ª–∞–Ω–∏—Ä—É–µ–º –±–æ–ª–µ–µ –ø–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ\n00722|       const totalPlannedTests = transportCompanies.length * cargoCountTests.length * cargoVariants.length * Math.min(optionCombinations.length, 8);\n00723|       \n00724|       console.log(`üß™ –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è —Ç–µ—Å—Ç–æ–≤: ${totalPlannedTests} (${transportCompanies.length} –¢–ö √ó ${cargoCountTests.length} –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –º–µ—Å—Ç √ó ${cargoVariants.length} —Ç–∏–ø–æ–≤ –≥—Ä—É–∑–∞ √ó –¥–æ 8 –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –æ–ø—Ü–∏–π)`);\n00725|       \n00726|       for (const tk of transportCompanies) {\n00727|         console.log(`üß™ –ù–∞—á–∏–Ω–∞–µ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ${tk.toUpperCase()}...`);\n00728|         \n00729|         setTestProgress({\n00730|           currentTK: tk.toUpperCase(),\n00731|           completedTests: totalTests,\n00732|           totalPlannedTests,\n00733|           stage: '–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è'\n00734|         });\n00735|         \n00736|         let testsForCurrentTK = 0;\n00737|         const maxTestsPerTK = 150; // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –ª–∏–º–∏—Ç –¥–ª—è –±–æ–ª–µ–µ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è\n00738|         \n00739|         // –¢–µ—Å—Ç–∏—Ä—É–µ–º —Ä–∞–∑–ª–∏—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥—Ä—É–∑–æ–≤—ã—Ö –º–µ—Å—Ç\n00740|         for (const cargoCount of cargoCountTests) {\n00741|           if (testsForCurrentTK >= maxTestsPerTK) {\n00742|             console.log(`‚ö†Ô∏è –î–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç —Ç–µ—Å—Ç–æ–≤ –¥–ª—è ${tk} (${maxTestsPerTK})`);\n00743|             break;\n00744|           }\n00745|           \n00746|           setTestProgress({\n00747|             currentTK: tk.toUpperCase(),\n00748|             completedTests: totalTests,\n00749|             totalPlannedTests,\n00750|             stage: `–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ${cargoCount} –≥—Ä—É–∑–æ–≤—ã—Ö –º–µ—Å—Ç`\n00751|           });\n00752|           \n00753|           // –¢–µ—Å—Ç–∏—Ä—É–µ–º —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –≥—Ä—É–∑–æ–≤\n00754|           for (const cargoVariant of cargoVariants) {\n00755|             if (testsForCurrentTK >= maxTestsPerTK) break;\n00756|             \n00757|             // –í—ã–±–∏—Ä–∞–µ–º —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –æ–ø—Ü–∏–π\n00758|             const selectedCombinations = [\n00759|               optionCombinations[0],  // –ë–∞–∑–æ–≤–∞—è (–≤—Å–µ false)\n00760|               optionCombinations[15], // –í—Å–µ —É—Å–ª—É–≥–∏ (–≤—Å–µ true)\n00761|               optionCombinations[5],  // –ß–∞—Å—Ç–∏—á–Ω–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è 1\n00762|               optionCombinations[10], // –ß–∞—Å—Ç–∏—á–Ω–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è 2\n00763|               ...optionCombinations.filter(c => c.testCase).slice(0, 4) // –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏\n00764|             ].slice(0, Math.min(8, Math.ceil(maxTestsPerTK / (cargoCountTests.length * cargoVariants.length))));\n00765|             \n00766|             for (const options of selectedCombinations) {\n00767|               if (testsForCurrentTK >= maxTestsPerTK) break;\n00768|               \n00769|               const testData = {\n00770|                 ...options,\n00771|                 cargos: generateTestCargos(cargoCount, cargoVariant),\n00772|                 testMetadata: {\n00773|                   cargoVariant,\n00774|                   cargoCount,\n00775|                   testCase: options.testCase || 'standard'\n00776|                 }\n00777|               };\n00778|               \n00779|               const activeOptions = Object.entries(options)\n00780|                 .filter(([k, v]) => typeof v === 'boolean' && v && !['testCase'].includes(k))\n00781|                 .map(([k]) => k)\n00782|                 .join(', ') || '–±–∞–∑–æ–≤—ã–µ';\n00783|               \n00784|               console.log(`üß™ ${tk}: ${cargoCount} –º–µ—Å—Ç (${cargoVariant}), –æ–ø—Ü–∏–∏: [${activeOptions}]${options.testCase ? ` - ${options.testCase}` : ''}`);\n00785|               \n00786|               setTestProgress({\n00787|                 currentTK: tk.toUpperCase(),\n00788|                 completedTests: totalTests,\n00789|                 totalPlannedTests,\n00790|                 stage: `${cargoCount} –º–µ—Å—Ç (${cargoVariant}) - ${activeOptions}`\n00791|               });\n00792|               \n00793|               const result = await testSingleTK(tk, testData);\n00794|               allResults.push({\n00795|                 ...result,\n00796|                 testMetadata: testData.testMetadata\n00797|               });\n00798|               \n00799|               totalTests++;\n00800|               testsForCurrentTK++;\n00801|               \n00802|               if (result.timing) {\n00803|                 totalResponseTime += result.timing;\n00804|               }\n00805|               \n00806|               if (result.status === 'success') {\n00807|                 successful++;\n00808|                 console.log(`‚úÖ ${tk}: ${result.message} (${result.timing}ms)`);\n00809|               } else if (result.status === 'skipped') {\n00810|                 skipped++;\n00811|                 console.log(`‚è≠Ô∏è ${tk}: ${result.message}`);\n00812|               } else {\n00813|                 console.log(`‚ùå ${tk}: ${result.message} (${result.timing || 0}ms)`);\n00814|                 errors.push(`${tk} (${cargoCount} –º–µ—Å—Ç, ${cargoVariant}): ${result.message}`);\n00815|               }\n00816|               \n00817|               // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞\n00818|               if (totalTests % 10 === 0) {\n00819|                 const currentSuccessRate = totalTests > 0 ? (successful / totalTests) * 100 : 0;\n00820|                 console.log(`üìä –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã: ${totalTests} —Ç–µ—Å—Ç–æ–≤, ${successful} —É—Å–ø–µ—à–Ω—ã—Ö (${currentSuccessRate.toFixed(1)}%)`);\n00821|               }\n00822|               \n00823|               // –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –ø–∞—É–∑–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏\n00824|               const pauseTime = result.status === 'error' ? 500 : 200;\n00825|               await new Promise(resolve => setTimeout(resolve, pauseTime));\n00826|             }\n00827|           }\n00828|         }\n00829|         \n00830|         console.log(`üèÅ –ó–∞–≤–µ—Ä—à–µ–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ${tk.toUpperCase()}: ${testsForCurrentTK} —Ç–µ—Å—Ç–æ–≤`);\n00831|       }\n00832|       \n00833|       const averageResponseTime = totalTests > 0 ? Math.round(totalResponseTime / (totalTests - skipped)) : 0;\n00834|       const successRate = totalTests > 0 ? (successful / totalTests) * 100 : 0;\n00835|       \n00836|       const summary = {\n00837|         totalTests,\n00838|         successful,\n00839|         failed: totalTests - successful - skipped,\n00840|         skipped,\n00841|         errors,\n00842|         averageResponseTime,\n00843|         successRate\n00844|       };\n00845|       \n00846|       setFullTestResults({\n00847|         summary,\n00848|         details: allResults,\n00849|         progressInfo: null\n00850|       });\n00851|       \n00852|       // –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞\n00853|       console.log('üß™ ===== –†–ï–ó–£–õ–¨–¢–ê–¢–´ –†–ê–°–®–ò–†–ï–ù–ù–û–ì–û –ü–û–õ–ù–û–ì–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø =====');\n00854|       console.log(`üìä –í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤: ${totalTests}`);\n00855|       console.log(`‚úÖ –£—Å–ø–µ—à–Ω—ã—Ö: ${successful}`);\n00856|       console.log(`‚ùå –ù–µ—É–¥–∞—á–Ω—ã—Ö: ${totalTests - successful - skipped}`);\n00857|       console.log(`‚è≠Ô∏è –ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö: ${skipped}`);\n00858|       console.log(`üìà –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—Ö–∞: ${successRate.toFixed(1)}%`);\n00859|       console.log(`‚è±Ô∏è –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: ${averageResponseTime}ms`);\n00860|       \n00861|       // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –¢–ö\n00862|       const tkStats = transportCompanies.map(tk => {\n00863|         const tkResults = allResults.filter(r => r.tk === tk);\n00864|         const tkSuccessful = tkResults.filter(r => r.status === 'success').length;\n00865|         const tkTotal = tkResults.length;\n00866|         return {\n00867|           tk: tk.toUpperCase(),\n00868|           tests: tkTotal,\n00869|           successful: tkSuccessful,\n00870|           successRate: tkTotal > 0 ? (tkSuccessful / tkTotal) * 100 : 0\n00871|         };\n00872|       });\n00873|       \n00874|       console.log('üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –¢–ö:');\n00875|       tkStats.forEach(stat => {\n00876|         console.log(`   ${stat.tk}: ${stat.successful}/${stat.tests} (${stat.successRate.toFixed(1)}%)`);\n00877|       });\n00878|       \n00879|       if (errors.length > 0) {\n00880|         console.log('‚ùå –û—Å–Ω–æ–≤–Ω—ã–µ –æ—à–∏–±–∫–∏:');\n00881|         // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –æ—à–∏–±–∫–∏ –ø–æ —Ç–∏–ø–∞–º\n00882|         const errorGroups = errors.reduce((acc, error) => {\n00883|           const key = error.split(':')[0];\n00884|           acc[key] = (acc[key] || 0) + 1;\n00885|           return acc;\n00886|         }, {} as {[key: string]: number});\n00887|         \n00888|         Object.entries(errorGroups).forEach(([errorType, count]) => {\n00889|           console.log(`   - ${errorType}: ${count} —Ä–∞–∑`);\n00890|         });\n00891|       }\n00892|       \n00893|     } catch (error: any) {\n00894|       console.error('üß™ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:', error);\n00895|       errors.push(`–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞: ${error.message}`);\n00896|       \n00897|       setFullTestResults({\n00898|         summary: { \n00899|           totalTests, \n00900|           successful, \n00901|           failed: totalTests - successful - skipped, \n00902|           skipped,\n00903|           errors,\n00904|           averageResponseTime: 0,\n00905|           successRate: 0\n00906|         },\n00907|         details: allResults,\n00908|         progressInfo: null\n00909|       });\n00910|     } finally {\n00911|       setIsFullTesting(false);\n00912|       setTestProgress(null);\n00913|       console.log('üß™ ===== –ö–û–ù–ï–¶ –†–ê–°–®–ò–†–ï–ù–ù–û–ì–û –ü–û–õ–ù–û–ì–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø =====');\n00914|     }\n00915|   };\n00916| \n00917|   const getStatusIcon = (status: string) => {\n00918|     switch (status) {\n00919|       case 'success': return <CheckCircle className=\"h-4 w-4 text-green-400\" />;\n00920|       case 'warning': return <AlertCircle className=\"h-4 w-4 text-yellow-400\" />;\n00921|       case 'error': return <XCircle className=\"h-4 w-4 text-red-400\" />;\n00922|       default: return <Activity className=\"h-4 w-4 text-gray-400\" />;\n00923|     }\n00924|   };\n00925| \n00926|   const getStatusColor = (status: string) => {\n00927|     switch (status) {\n00928|       case 'success': return 'border-green-500 bg-green-900/20';\n00929|       case 'warning': return 'border-yellow-500 bg-yellow-900/20';\n00930|       case 'error': return 'border-red-500 bg-red-900/20';\n00931|       default: return 'border-gray-500 bg-gray-900/20';\n00932|     }\n00933|   };\n00934| \n00935|   return (\n00936|     <div className=\"min-h-screen bg-gray-950 text-white p-6\">\n00937|       <div className=\"max-w-6xl mx-auto\">\n00938|         <div className=\"mb-6\">\n00939|           <h1 className=\"text-3xl font-bold mb-2\">–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π</h1>\n00940|           <p className=\"text-gray-400\">–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ API –≤—Å–µ—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã—Ö –¢–ö</p>\n00941|         </div>\n00942| \n00943|         <div className=\"flex gap-4 mb-6 flex-wrap\">\n00944|           <Button onClick={testAllAPIs} className=\"bg-blue-600 hover:bg-blue-700\">\n00945|             <Activity className=\"h-4 w-4 mr-2\" />\n00946|             –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ API\n00947|           </Button>\n00948|           <Button \n00949|             onClick={runFullTesting} \n00950|             disabled={isFullTesting}\n00951|             className=\"bg-purple-600 hover:bg-purple-700\"\n00952|           >\n00953|             <TestTube className=\"h-4 w-4 mr-2\" />\n00954|             {isFullTesting ? '–ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...' : '–ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ'}\n00955|           </Button>\n00956|           <Button onClick={() => window.open('/env-check', '_blank')} variant=\"outline\">\n00957|             <Building2 className=\"h-4 w-4 mr-2\" />\n00958|             –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è\n00959|           </Button>\n00960|           <Button onClick={() => window.close()} variant=\"outline\">\n00961|             –ó–∞–∫—Ä—ã—Ç—å\n00962|           </Button>\n00963|         </div>\n00964| \n00965|         {/* –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –≥—Ä—É–∑–æ–≤ */}\n00966|         <Card className=\"border-green-500 bg-green-900/20 mb-6\">\n00967|           <CardHeader>\n00968|             <CardTitle className=\"flex items-center gap-2\">\n00969|               <Truck className=\"h-5 w-5 text-green-400\" />\n00970|               –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –≥—Ä—É–∑–æ–≤ –≤ –∫—É–∑–æ–≤–µ —Ñ—É—Ä–≥–æ–Ω–∞\n00971|             </CardTitle>\n00972|           </CardHeader>\n00973|           <CardContent>\n00974|             <div className=\"space-y-3\">\n00975|               <div className=\"bg-gray-800 p-3 rounded\">\n00976|                 <h3 className=\"font-medium text-green-400 mb-2\">–ì–∞–±–∞—Ä–∏—Ç—ã –∫—É–∑–æ–≤–∞:</h3>\n00977|                 <ul className=\"text-sm space-y-1 text-gray-300\">\n00978|                   <li>‚Ä¢ –î–ª–∏–Ω–∞: 4200 –º–º</li>\n00979|                   <li>‚Ä¢ –®–∏—Ä–∏–Ω–∞: 2025 –º–º</li>\n00980|                   <li>‚Ä¢ –í—ã—Å–æ—Ç–∞: 2025 –º–º</li>\n00981|                 </ul>\n00982|               </div>\n00983|               \n00984|               <div className=\"bg-gray-800 p-3 rounded\">\n00985|                 <h3 className=\"font-medium text-green-400 mb-2\">–ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è:</h3>\n00986|                 <div className=\"text-sm space-y-2 text-gray-300\">\n00987|                   <div>\n00988|                     <strong>1. –ü–æ–≤–æ—Ä–æ—Ç –∏ —à—Ç–∞–±–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ:</strong>\n00989|                     <p className=\"ml-4\">‚Ä¢ –ì—Ä—É–∑—ã –º–æ–∂–Ω–æ —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞ –∏ –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å –ª—é–±–æ–π —Å—Ç–æ—Ä–æ–Ω–æ–π</p>\n00990|                   </div>\n00991|                   \n00992|                   <div>\n00993|                     <strong>2. –ü—Ä–∞–≤–∏–ª–æ –ø–æ –≤–µ—Å—É:</strong>\n00994|                     <p className=\"ml-4\">‚Ä¢ –ì—Ä—É–∑—ã —Å –±–æ–ª—å—à–∏–º –≤–µ—Å–æ–º –Ω–µ–ª—å–∑—è —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å –Ω–∞ –≥—Ä—É–∑—ã —Å –º–µ–Ω—å—à–∏–º –≤–µ—Å–æ–º</p>\n00995|                   </div>\n00996|                   \n00997|                   <div>\n00998|                     <strong>3. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è —Å—Ç—É–ª—å–µ–≤ –∏ –∫—Ä–µ—Å–µ–ª:</strong>\n00999|                     <p className=\"ml-4\">‚Ä¢ –ì—Ä—É–∑—ã —Å –∫–ª—é—á–µ–≤—ã–º–∏ —Å–ª–æ–≤–∞–º–∏ \"—Å—Ç—É–ª\" –∏–ª–∏ \"–∫—Ä–µ—Å–ª–æ\" –Ω–µ–ª—å–∑—è –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–π –æ—Å–∏</p>\n01000|                     <p className=\"ml-4\">‚Ä¢ –ù–∞ —Ç–∞–∫–∏–µ –≥—Ä—É–∑—ã –º–æ–∂–Ω–æ —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥—Ä—É–≥–∏–µ –≥—Ä—É–∑—ã —Å —Ç–µ–º–∏ –∂–µ –∫–ª—é—á–µ–≤—ã–º–∏ —Å–ª–æ–≤–∞–º–∏</p>\n01001|                     <p className=\"ml-4\">‚Ä¢ –î—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–µ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ –¥–≤—É—Ö —Ç–∞–∫–∏—Ö –≥—Ä—É–∑–æ–≤</p>\n01002|                   </div>\n01003|                   \n01004|                   <div>\n01005|                     <strong>4. –¶–µ–ª—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:</strong>\n01006|                     <p className=\"ml-4\">‚Ä¢ –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–Ω—è—Ç–æ–π –ø–ª–æ—â–∞–¥–∏ –ø–æ–ª–∞</p>\n01007|                     <p className=\"ml-4\">‚Ä¢ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∫–æ–º–ø–∞–∫—Ç–Ω–æ–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ</p>\n01008|                   </div>\n01009|                   \n01010|                   <div>\n01011|                     <strong>5. –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–∑–º–µ—â–µ–Ω–∏—è 3D:</strong>\n01012|                     <p className=\"ml-4\">‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–≤–æ—Ä–æ—Ç–æ–≤ –≥—Ä—É–∑–æ–≤ –ø–æ–¥ —É–≥–ª–∞–º–∏: 0¬∞, 45¬∞, 90¬∞, 135¬∞, 180¬∞, 225¬∞, 270¬∞, 315¬∞</p>\n01013|                     <p className=\"ml-4\">‚Ä¢ –î–∏–∞–≥–æ–Ω–∞–ª—å–Ω–æ–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞</p>\n01014|                     <p className=\"ml-4\">‚Ä¢ 6 –±–∞–∑–æ–≤—ã—Ö –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–π + –≤—Ä–∞—â–µ–Ω–∏–µ = –¥–æ 48 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –Ω–∞ –≥—Ä—É–∑</p>\n01015|                     <p className=\"ml-4\">‚Ä¢ –°–µ—Ç–∫–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è —Å —à–∞–≥–æ–º 25–º–º –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</p>\n01016|                     <p className=\"ml-4\">‚Ä¢ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ø–ª–æ—â–∞–¥—å –ø–æ–ª–∞ ‚Üí –≤—ã—Å–æ—Ç–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è ‚Üí –æ–±—â–∏–π –æ–±—ä–µ–º</p>\n01017|                   </div>\n01018|                 </div>\n01019|               </div>\n01020|             </div>\n01021|           </CardContent>\n01022|         </Card>\n01023| \n01024|         {/* –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è */}\n01025|         {testProgress && (\n01026|           <Card className=\"border-blue-500 bg-blue-900/20 mb-6\">\n01027|             <CardHeader>\n01028|               <CardTitle className=\"flex items-center gap-2\">\n01029|                 <PlayCircle className=\"h-5 w-5 text-blue-400 animate-pulse\" />\n01030|                 –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ\n01031|               </CardTitle>\n01032|             </CardHeader>\n01033|             <CardContent>\n01034|               <div className=\"space-y-3\">\n01035|                 <div className=\"flex justify-between text-sm\">\n01036|                   <span>–¢–µ–∫—É—â–∞—è –¢–ö: <strong>{testProgress.currentTK}</strong></span>\n01037|                   <span>{testProgress.completedTests}/{testProgress.totalPlannedTests} —Ç–µ—Å—Ç–æ–≤</span>\n01038|                 </div>\n01039|                 <div className=\"w-full bg-gray-700 rounded-full h-2\">\n01040|                   <div \n01041|                     className=\"bg-blue-500 h-2 rounded-full transition-all duration-300\"\n01042|                     style={{\n01043|                       width: `${(testProgress.completedTests / testProgress.totalPlannedTests) * 100}%`\n01044|                     }}\n01045|                   ></div>\n01046|                 </div>\n01047|                 <div className=\"text-xs text-gray-400\">\n01048|                   –≠—Ç–∞–ø: {testProgress.stage}\n01049|                 </div>\n01050|               </div>\n01051|             </CardContent>\n01052|           </Card>\n01053|         )}\n01054| \n01055|         {/* –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è */}\n01056|         {fullTestResults && (\n01057|           <Card className=\"border-gray-700 bg-gray-900 mb-6\">\n01058|             <CardHeader>\n01059|               <CardTitle className=\"flex items-center gap-2\">\n01060|                 <TestTube className=\"h-5 w-5 text-purple-400\" />\n01061|                 –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è\n01062|               </CardTitle>\n01063|             </CardHeader>\n01064|             <CardContent>\n01065|               <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-4\">\n01066|                 <div className=\"text-center\">\n01067|                   <div className=\"text-2xl font-bold text-blue-400\">{fullTestResults.summary.totalTests}</div>\n01068|                   <div className=\"text-sm text-gray-400\">–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤</div>\n01069|                 </div>\n01070|                 <div className=\"text-center\">\n01071|                   <div className=\"text-2xl font-bold text-green-400\">{fullTestResults.summary.successful}</div>\n01072|                   <div className=\"text-sm text-gray-400\">–£—Å–ø–µ—à–Ω—ã—Ö</div>\n01073|                 </div>\n01074|                 <div className=\"text-center\">\n01075|                   <div className=\"text-2xl font-bold text-red-400\">{fullTestResults.summary.failed}</div>\n01076|                   <div className=\"text-sm text-gray-400\">–ù–µ—É–¥–∞—á–Ω—ã—Ö</div>\n01077|                 </div>\n01078|                 <div className=\"text-center\">\n01079|                   <div className=\"text-2xl font-bold text-gray-400\">{fullTestResults.summary.skipped}</div>\n01080|                   <div className=\"text-sm text-gray-400\">–ü—Ä–æ–ø—É—â–µ–Ω–æ</div>\n01081|                 </div>\n01082|                 <div className=\"text-center\">\n01083|                   <div className=\"text-2xl font-bold text-yellow-400\">\n01084|                     {fullTestResults.summary.successRate.toFixed(1)}%\n01085|                   </div>\n01086|                   <div className=\"text-sm text-gray-400\">–£—Å–ø–µ—à–Ω–æ—Å—Ç—å</div>\n01087|                 </div>\n01088|                 <div className=\"text-center\">\n01089|                   <div className=\"text-2xl font-bold text-cyan-400\">{fullTestResults.summary.averageResponseTime}ms</div>\n01090|                   <div className=\"text-sm text-gray-400\">–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è</div>\n01091|                 </div>\n01092|               </div>\n01093|               \n01094|               {/* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –¢–ö */}\n01095|               <div className=\"mb-4\">\n01096|                 <h4 className=\"font-medium mb-2\">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–º –∫–æ–º–ø–∞–Ω–∏—è–º:</h4>\n01097|                 <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2\">\n01098|                   {['PEK', 'RAILCONTINENT', 'VOZOVOZ', 'NORDWHEEL', 'DELLIN'].map(tk => {\n01099|                     const tkResults = fullTestResults.details.filter((r: any) => r.tk === tk.toLowerCase());\n01100|                     const tkSuccessful = tkResults.filter((r: any) => r.status === 'success').length;\n01101|                     const tkTotal = tkResults.length;\n01102|                     const tkSuccessRate = tkTotal > 0 ? (tkSuccessful / tkTotal) * 100 : 0;\n01103|                     \n01104|                     return (\n01105|                       <div key={tk} className=\"bg-gray-800 p-2 rounded text-sm\">\n01106|                         <div className=\"font-medium\">{tk}</div>\n01107|                         <div className=\"text-xs text-gray-400\">\n01108|                           {tkSuccessful}/{tkTotal} ({tkSuccessRate.toFixed(1)}%)\n01109|                         </div>\n01110|                       </div>\n01111|                     );\n01112|                   })}\n01113|                 </div>\n01114|               </div>\n01115|               \n01116|               {fullTestResults.summary.errors.length > 0 && (\n01117|                 <Alert className=\"border-red-500 bg-red-900/20 mb-4\">\n01118|                   <AlertCircle className=\"h-4 w-4\" />\n01119|                   <AlertDescription>\n01120|                     <div className=\"font-medium mb-2\">–ù–∞–π–¥–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ ({fullTestResults.summary.errors.length}):</div>\n01121|                     <ul className=\"list-disc list-inside text-sm space-y-1\">\n01122|                       {fullTestResults.summary.errors.slice(0, 15).map((error, index) => (\n01123|                         <li key={index}>{error}</li>\n01124|                       ))}\n01125|                       {fullTestResults.summary.errors.length > 15 && (\n01126|                         <li>... –∏ –µ—â–µ {fullTestResults.summary.errors.length - 15} –æ—à–∏–±–æ–∫</li>\n01127|                       )}\n01128|                     </ul>\n01129|                   </AlertDescription>\n01130|                 </Alert>\n01131|               )}\n01132|               \n01133|               <details className=\"mt-4\">\n01134|                 <summary className=\"cursor-pointer text-sm font-medium\">–ü–æ–¥—Ä–æ–±–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã ({fullTestResults.details.length} –∑–∞–ø–∏—Å–µ–π)</summary>\n01135|                 <div className=\"mt-2 max-h-96 overflow-y-auto\">\n01136|                   <pre className=\"text-xs p-2 bg-gray-800 rounded\">\n01137|                     {JSON.stringify(fullTestResults.details.map(detail => ({\n01138|                       tk: detail.tk,\n01139|                       status: detail.status,\n01140|                       cargoCount: detail.cargoCount,\n01141|                       testMetadata: detail.testMetadata,\n01142|                       timing: detail.timing,\n01143|                       price: detail.price,\n01144|                       message: detail.message\n01145|                     })), null, 2)}\n01146|                   </pre>\n01147|                 </div>\n01148|               </details>\n01149|             </CardContent>\n01150|           </Card>\n01151|         )}\n01152| \n01153|         <div className=\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6\">\n01154|           {/* –ü–≠–ö */}\n01155|           <Card className=\"border-gray-700 bg-gray-900\">\n01156|             <CardHeader>\n01157|               <CardTitle className=\"flex items-center justify-between\">\n01158|                 <div className=\"flex items-center gap-2\">\n01159|                   <Truck className=\"h-5 w-5 text-blue-400\" />\n01160|                   –ü–≠–ö\n01161|                 </div>\n01162|                 <Button \n01163|                   onClick={testPEKAPI} \n01164|                   disabled={isTestingPEK}\n01165|                   size=\"sm\"\n01166|                   variant=\"outline\"\n01167|                 >\n01168|                   {isTestingPEK ? '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...' : '–¢–µ—Å—Ç'}\n01169|                 </Button>\n01170|               </CardTitle>\n01171|             </CardHeader>\n01172|             <CardContent>\n01173|               {diagnosticResults.pek ? (\n01174|                 <Alert className={getStatusColor(diagnosticResults.pek.status)}>\n01175|                   <div className=\"flex items-start gap-2\">\n01176|                     {getStatusIcon(diagnosticResults.pek.status)}\n01177|                     <div className=\"flex-1\">\n01178|                       <AlertDescription>\n01179|                         <div className=\"font-medium mb-2\">{diagnosticResults.pek.message}</div>\n01180|                         {diagnosticResults.pek.timing && (\n01181|                           <Badge variant=\"outline\" className=\"mb-2\">\n01182|                             –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: {diagnosticResults.pek.timing}–º—Å\n01183|                           </Badge>\n01184|                         )}\n01185|                         {diagnosticResults.pek.details && (\n01186|                           <details className=\"mt-2\">\n01187|                             <summary className=\"cursor-pointer text-sm\">–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏</summary>\n01188|                             <pre className=\"text-xs mt-2 p-2 bg-gray-800 rounded overflow-auto\">\n01189|                               {JSON.stringify(diagnosticResults.pek.details, null, 2)}\n01190|                             </pre>\n01191|                           </details>\n01192|                         )}\n01193|                       </AlertDescription>\n01194|                     </div>\n01195|                   </div>\n01196|                 </Alert>\n01197|               ) : (\n01198|                 <p className=\"text-gray-400\">–ù–∞–∂–º–∏—Ç–µ \"–¢–µ—Å—Ç\" –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API –ü–≠–ö</p>\n01199|               )}\n01200|             </CardContent>\n01201|           </Card>\n01202| \n01203|           {/* –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ */}\n01204|           <Card className=\"border-gray-700 bg-gray-900\">\n01205|             <CardHeader>\n01206|               <CardTitle className=\"flex items-center justify-between\">\n01207|                 <div className=\"flex items-center gap-2\">\n01208|                   <Truck className=\"h-5 w-5 text-green-400\" />\n01209|                   –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏\n01210|                 </div>\n01211|                 <Button \n01212|                   onClick={testDellinAPI} \n01213|                   disabled={isTestingDellin}\n01214|                   size=\"sm\"\n01215|                   variant=\"outline\"\n01216|                 >\n01217|                   {isTestingDellin ? '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...' : '–¢–µ—Å—Ç'}\n01218|                 </Button>\n01219|               </CardTitle>\n01220|             </CardHeader>\n01221|             <CardContent>\n01222|               {diagnosticResults.dellin ? (\n01223|                 <Alert className={getStatusColor(diagnosticResults.dellin.status)}>\n01224|                   <div className=\"flex items-start gap-2\">\n01225|                     {getStatusIcon(diagnosticResults.dellin.status)}\n01226|                     <div className=\"flex-1\">\n01227|                       <AlertDescription>\n01228|                         <div className=\"font-medium mb-2\">{diagnosticResults.dellin.message}</div>\n01229|                         {diagnosticResults.dellin.timing && (\n01230|                           <Badge variant=\"outline\" className=\"mb-2\">\n01231|                             –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: {diagnosticResults.dellin.timing}–º—Å\n01232|                           </Badge>\n01233|                         )}\n01234|                         {diagnosticResults.dellin.details && (\n01235|                           <details className=\"mt-2\">\n01236|                             <summary className=\"cursor-pointer text-sm\">–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏</summary>\n01237|                             <pre className=\"text-xs mt-2 p-2 bg-gray-800 rounded overflow-auto\">\n01238|                               {JSON.stringify(diagnosticResults.dellin.details, null, 2)}\n01239|                             </pre>\n01240|                           </details>\n01241|                         )}\n01242|                       </AlertDescription>\n01243|                     </div>\n01244|                   </div>\n01245|                 </Alert>\n01246|               ) : (\n01247|                 <p className=\"text-gray-400\">–ù–∞–∂–º–∏—Ç–µ \"–¢–µ—Å—Ç\" –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏</p>\n01248|               )}\n01249|             </CardContent>\n01250|           </Card>\n01251| \n01252|           {/* Rail Continent */}\n01253|           <Card className=\"border-gray-700 bg-gray-900\">\n01254|             <CardHeader>\n01255|               <CardTitle className=\"flex items-center justify-between\">\n01256|                 <div className=\"flex items-center gap-2\">\n01257|                   <Truck className=\"h-5 w-5 text-purple-400\" />\n01258|                   Rail Continent\n01259|                 </div>\n01260|                 <Button \n01261|                   onClick={testRailContinentAPI} \n01262|                   disabled={isTestingRailContinent}\n01263|                   size=\"sm\"\n01264|                   variant=\"outline\"\n01265|                 >\n01266|                   {isTestingRailContinent ? '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...' : '–¢–µ—Å—Ç'}\n01267|                 </Button>\n01268|               </CardTitle>\n01269|             </CardHeader>\n01270|             <CardContent>\n01271|               {diagnosticResults.railcontinent ? (\n01272|                 <Alert className={getStatusColor(diagnosticResults.railcontinent.status)}>\n01273|                   <div className=\"flex items-start gap-2\">\n01274|                     {getStatusIcon(diagnosticResults.railcontinent.status)}\n01275|                     <div className=\"flex-1\">\n01276|                       <AlertDescription>\n01277|                         <div className=\"font-medium mb-2\">{diagnosticResults.railcontinent.message}</div>\n01278|                         {diagnosticResults.railcontinent.timing && (\n01279|                           <Badge variant=\"outline\" className=\"mb-2\">\n01280|                             –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: {diagnosticResults.railcontinent.timing}–º—Å\n01281|                           </Badge>\n01282|                         )}\n01283|                         {diagnosticResults.railcontinent.details && (\n01284|                           <details className=\"mt-2\">\n01285|                             <summary className=\"cursor-pointer text-sm\">–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏</summary>\n01286|                             <pre className=\"text-xs mt-2 p-2 bg-gray-800 rounded overflow-auto\">\n01287|                               {JSON.stringify(diagnosticResults.railcontinent.details, null, 2)}\n01288|                             </pre>\n01289|                           </details>\n01290|                         )}\n01291|                       </AlertDescription>\n01292|                     </div>\n01293|                   </div>\n01294|                 </Alert>\n01295|               ) : (\n01296|                 <p className=\"text-gray-400\">–ù–∞–∂–º–∏—Ç–µ \"–¢–µ—Å—Ç\" –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API Rail Continent</p>\n01297|               )}\n01298|             </CardContent>\n01299|           </Card>\n01300| \n01301|           {/* –í–æ–∑–æ–≤–æ–∑ */}\n01302|           <Card className=\"border-gray-700 bg-gray-900\">\n01303|             <CardHeader>\n01304|               <CardTitle className=\"flex items-center justify-between\">\n01305|                 <div className=\"flex items-center gap-2\">\n01306|                   <Truck className=\"h-5 w-5 text-orange-400\" />\n01307|                   –í–æ–∑–æ–≤–æ–∑\n01308|                 </div>\n01309|                 <Button \n01310|                   onClick={testVozovozAPI} \n01311|                   disabled={isTestingVozovoz}\n01312|                   size=\"sm\"\n01313|                   variant=\"outline\"\n01314|                 >\n01315|                   {isTestingVozovoz ? '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...' : '–¢–µ—Å—Ç'}\n01316|                 </Button>\n01317|               </CardTitle>\n01318|             </CardHeader>\n01319|             <CardContent>\n01320|               {diagnosticResults.vozovoz ? (\n01321|                 <Alert className={getStatusColor(diagnosticResults.vozovoz.status)}>\n01322|                   <div className=\"flex items-start gap-2\">\n01323|                     {getStatusIcon(diagnosticResults.vozovoz.status)}\n01324|                     <div className=\"flex-1\">\n01325|                       <AlertDescription>\n01326|                         <div className=\"font-medium mb-2\">{diagnosticResults.vozovoz.message}</div>\n01327|                         {diagnosticResults.vozovoz.timing && (\n01328|                           <Badge variant=\"outline\" className=\"mb-2\">\n01329|                             –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: {diagnosticResults.vozovoz.timing}–º—Å\n01330|                           </Badge>\n01331|                         )}\n01332|                         {diagnosticResults.vozovoz.details && (\n01333|                           <details className=\"mt-2\">\n01334|                             <summary className=\"cursor-pointer text-sm\">–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏</summary>\n01335|                             <pre className=\"text-xs mt-2 p-2 bg-gray-800 rounded overflow-auto\">\n01336|                               {JSON.stringify(diagnosticResults.vozovoz.details, null, 2)}\n01337|                             </pre>\n01338|                           </details>\n01339|                         )}\n01340|                       </AlertDescription>\n01341|                     </div>\n01342|                   </div>\n01343|                 </Alert>\n01344|               ) : (\n01345|                 <p className=\"text-gray-400\">–ù–∞–∂–º–∏—Ç–µ \"–¢–µ—Å—Ç\" –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API –í–æ–∑–æ–≤–æ–∑</p>\n01346|               )}\n01347|             </CardContent>\n01348|           </Card>\n01349| \n01350|           {/* Nord Wheel */}\n01351|           <Card className=\"border-gray-700 bg-gray-900\">\n01352|             <CardHeader>\n01353|               <CardTitle className=\"flex items-center justify-between\">\n01354|                 <div className=\"flex items-center gap-2\">\n01355|                   <Truck className=\"h-5 w-5 text-cyan-400\" />\n01356|                   Nord Wheel\n01357|                 </div>\n01358|                 <Button \n01359|                   onClick={testNordWheelAPI} \n01360|                   disabled={isTestingNordWheel}\n01361|                   size=\"sm\"\n01362|                   variant=\"outline\"\n01363|                 >\n01364|                   {isTestingNordWheel ? '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...' : '–¢–µ—Å—Ç'}\n01365|                 </Button>\n01366|               </CardTitle>\n01367|             </CardHeader>\n01368|             <CardContent>\n01369|               {diagnosticResults.nordwheel ? (\n01370|                 <Alert className={getStatusColor(diagnosticResults.nordwheel.status)}>\n01371|                   <div className=\"flex items-start gap-2\">\n01372|                     {getStatusIcon(diagnosticResults.nordwheel.status)}\n01373|                     <div className=\"flex-1\">\n01374|                       <AlertDescription>\n01375|                         <div className=\"font-medium mb-2\">{diagnosticResults.nordwheel.message}</div>\n01376|                         {diagnosticResults.nordwheel.timing && (\n01377|                           <Badge variant=\"outline\" className=\"mb-2\">\n01378|                             –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: {diagnosticResults.nordwheel.timing}–º—Å\n01379|                           </Badge>\n01380|                         )}\n01381|                         {diagnosticResults.nordwheel.details && (\n01382|                           <details className=\"mt-2\">\n01383|                             <summary className=\"cursor-pointer text-sm\">–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏</summary>\n01384|                             <pre className=\"text-xs mt-2 p-2 bg-gray-800 rounded overflow-auto\">\n01385|                               {JSON.stringify(diagnosticResults.nordwheel.details, null, 2)}\n01386|                             </pre>\n01387|                           </details>\n01388|                         )}\n01389|                       </AlertDescription>\n01390|                     </div>\n01391|                   </div>\n01392|                 </Alert>\n01393|               ) : (\n01394|                 <p className=\"text-gray-400\">–ù–∞–∂–º–∏—Ç–µ \"–¢–µ—Å—Ç\" –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API Nord Wheel</p>\n01395|               )}\n01396|             </CardContent>\n01397|           </Card>\n01398|         </div>\n01399|       </div>\n01400|     </div>\n01401|   );\n01402| }\n</file>",
    "metadata": {
      "preview": "'use client';\n\nimport React, { useState } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Badge } from '@/components/ui/badge';\nimport { Building2, Truck, Activity, CheckCircle, AlertCircle, XCircle, TestTube, PlayCircle } from 'lucide-react';\n\nexport default function DiagnosticPage() {\n  const [isTestingPEK, setIsTestingPEK] = useState(false);\n  const [isTestingDellin, setIsTestingDellin] = useState(false);\n  const [isTestingRailContinent, setIsTestingRailContinent] = useState(false);\n  const [isTestingVozovoz, setIsTestingVozovoz] = useState(false);\n  const [isTestingNordWheel, setIsTestingNordWheel] = useState(false);\n  const [isFullTesting, setIsFullTesting] = useState(false);\n  \n  const [diagnosticResults, setDiagnosticResults] = useState<{\n    [key: string]: {\n      status: 'success' | 'warning' | 'error' | 'pending';"
    },
    "title": "app/diagnostic/page.tsx",
    "time": {
      "start": 1759156073182,
      "end": 1759156073187
    }
  }
}
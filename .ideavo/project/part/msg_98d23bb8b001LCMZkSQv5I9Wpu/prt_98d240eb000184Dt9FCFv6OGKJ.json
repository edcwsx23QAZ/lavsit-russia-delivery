{
  "id": "prt_98d240eb000184Dt9FCFv6OGKJ",
  "messageID": "msg_98d23bb8b001LCMZkSQv5I9Wpu",
  "sessionID": "ses_6852784ecffeuHwynj83p2lr14",
  "type": "tool",
  "tool": "read",
  "callID": "toolu_01MpJzwH2DshpHexX3ruWci5",
  "state": {
    "status": "completed",
    "input": {
      "filePath": "/home/user/project/app/diagnostic/page.tsx"
    },
    "output": "<file>\n00001| 'use client';\n00002| \n00003| import React, { useState } from 'react';\n00004| import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\n00005| import { Button } from '@/components/ui/button';\n00006| import { Alert, AlertDescription } from '@/components/ui/alert';\n00007| import { Badge } from '@/components/ui/badge';\n00008| import { Building2, Truck, Activity, CheckCircle, AlertCircle, XCircle, TestTube, PlayCircle } from 'lucide-react';\n00009| \n00010| export default function DiagnosticPage() {\n00011|   const [isTestingPEK, setIsTestingPEK] = useState(false);\n00012|   const [isTestingDellin, setIsTestingDellin] = useState(false);\n00013|   const [isTestingRailContinent, setIsTestingRailContinent] = useState(false);\n00014|   const [isTestingVozovoz, setIsTestingVozovoz] = useState(false);\n00015|   const [isTestingNordWheel, setIsTestingNordWheel] = useState(false);\n00016|   const [isFullTesting, setIsFullTesting] = useState(false);\n00017|   \n00018|   const [diagnosticResults, setDiagnosticResults] = useState<{\n00019|     [key: string]: {\n00020|       status: 'success' | 'warning' | 'error' | 'pending';\n00021|       message: string;\n00022|       details?: any;\n00023|       response?: any;\n00024|       requestData?: any;\n00025|       timing?: number;\n00026|     }\n00027|   }>({});\n00028| \n00029|   const [fullTestResults, setFullTestResults] = useState<{\n00030|     summary: {\n00031|       totalTests: number;\n00032|       successful: number;\n00033|       failed: number;\n00034|       errors: string[];\n00035|     };\n00036|     details: any[];\n00037|   } | null>(null);\n00038| \n00039|   const updateResult = (service: string, result: any) => {\n00040|     setDiagnosticResults(prev => ({\n00041|       ...prev,\n00042|       [service]: result\n00043|     }));\n00044|   };\n00045| \n00046|   const testPEKAPI = async () => {\n00047|     setIsTestingPEK(true);\n00048|     const startTime = Date.now();\n00049|     \n00050|     try {\n00051|       console.log('üîß –ù–∞—á–∏–Ω–∞–µ–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –ü–≠–ö API...');\n00052|       \n00053|       // –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ü–≠–ö\n00054|       const testData = {\n00055|         fromCity: '–ú–æ—Å–∫–≤–∞',\n00056|         toCity: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',\n00057|         cargos: [{\n00058|           length: 100,\n00059|           width: 100,\n00060|           height: 100,\n00061|           weight: 10\n00062|         }],\n00063|         declaredValue: 50000,\n00064|         fromAddressDelivery: false,\n00065|         toAddressDelivery: false,\n00066|         needPackaging: false,\n00067|         needInsurance: false\n00068|       };\n00069| \n00070|       const response = await fetch('/api/pek', {\n00071|         method: 'POST',\n00072|         headers: { 'Content-Type': 'application/json' },\n00073|         body: JSON.stringify(testData)\n00074|       });\n00075| \n00076|       const data = await response.json();\n00077|       const timing = Date.now() - startTime;\n00078| \n00079|       console.log('üîß –ü–≠–ö API –æ—Ç–≤–µ—Ç:', data);\n00080| \n00081|       if (response.ok && data.success) {\n00082|         updateResult('pek', {\n00083|           status: 'success',\n00084|           message: `–ü–≠–ö API —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –ü–æ–ª—É—á–µ–Ω —Ç–∞—Ä–∏—Ñ: ${data.data?.price || 'N/A'} ‚ÇΩ`,\n00085|           details: data.data,\n00086|           response: data,\n00087|           requestData: testData,\n00088|           timing\n00089|         });\n00090|       } else {\n00091|         updateResult('pek', {\n00092|           status: 'warning',\n00093|           message: `–ü–≠–ö API –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É: ${data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}`,\n00094|           details: data.details,\n00095|           response: data,\n00096|           requestData: testData,\n00097|           timing\n00098|         });\n00099|       }\n00100|     } catch (error: any) {\n00101|       console.error('üîß –ü–≠–ö API –æ—à–∏–±–∫–∞:', error);\n00102|       updateResult('pek', {\n00103|         status: 'error',\n00104|         message: `–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –ü–≠–ö API: ${error.message}`,\n00105|         details: error,\n00106|         timing: Date.now() - startTime\n00107|       });\n00108|     } finally {\n00109|       setIsTestingPEK(false);\n00110|     }\n00111|   };\n00112| \n00113|   const testDellinAPI = async () => {\n00114|     setIsTestingDellin(true);\n00115|     const startTime = Date.now();\n00116|     \n00117|     try {\n00118|       console.log('üîß –ù–∞—á–∏–Ω–∞–µ–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ API...');\n00119|       \n00120|       const testData = {\n00121|         fromCity: '–ú–æ—Å–∫–≤–∞',\n00122|         toCity: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',\n00123|         cargos: [{\n00124|           length: 100,\n00125|           width: 100,\n00126|           height: 100,\n00127|           weight: 10\n00128|         }],\n00129|         declaredValue: 50000,\n00130|         fromAddressDelivery: false,\n00131|         toAddressDelivery: false,\n00132|         needPackaging: false,\n00133|         needInsurance: false\n00134|       };\n00135| \n00136|       const response = await fetch('/api/dellin-packages', {\n00137|         method: 'POST',\n00138|         headers: { 'Content-Type': 'application/json' },\n00139|         body: JSON.stringify(testData)\n00140|       });\n00141| \n00142|       const data = await response.json();\n00143|       const timing = Date.now() - startTime;\n00144| \n00145|       console.log('üîß –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ API –æ—Ç–≤–µ—Ç:', data);\n00146| \n00147|       if (response.ok && data.success) {\n00148|         updateResult('dellin', {\n00149|           status: 'success',\n00150|           message: `–î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ API —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –ü–æ–ª—É—á–µ–Ω —Ç–∞—Ä–∏—Ñ: ${data.data?.price || 'N/A'} ‚ÇΩ`,\n00151|           details: data.data,\n00152|           response: data,\n00153|           requestData: testData,\n00154|           timing\n00155|         });\n00156|       } else {\n00157|         updateResult('dellin', {\n00158|           status: 'warning',\n00159|           message: `–î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ API –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É: ${data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}`,\n00160|           details: data.details,\n00161|           response: data,\n00162|           requestData: testData,\n00163|           timing\n00164|         });\n00165|       }\n00166|     } catch (error: any) {\n00167|       console.error('üîß –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ API –æ—à–∏–±–∫–∞:', error);\n00168|       updateResult('dellin', {\n00169|         status: 'error',\n00170|         message: `–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ API: ${error.message}`,\n00171|         details: error,\n00172|         timing: Date.now() - startTime\n00173|       });\n00174|     } finally {\n00175|       setIsTestingDellin(false);\n00176|     }\n00177|   };\n00178| \n00179|   const testRailContinentAPI = async () => {\n00180|     setIsTestingRailContinent(true);\n00181|     const startTime = Date.now();\n00182|     \n00183|     try {\n00184|       console.log('üîß –ù–∞—á–∏–Ω–∞–µ–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É Rail Continent API...');\n00185|       \n00186|       const testData = {\n00187|         city_sender: '–ú–æ—Å–∫–≤–∞',\n00188|         city_receiver: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',\n00189|         weight: 10,\n00190|         volume: 0.1,\n00191|         length: 1,\n00192|         width: 1,\n00193|         height: 1,\n00194|         declared_cost: 50000,\n00195|         pickup: '0',\n00196|         delivery: '0',\n00197|         packaging: '0',\n00198|         insurance: '0',\n00199|         tariff: 'auto'\n00200|       };\n00201| \n00202|       const response = await fetch('/api/rail-continent', {\n00203|         method: 'POST',\n00204|         headers: { 'Content-Type': 'application/json' },\n00205|         body: JSON.stringify(testData)\n00206|       });\n00207| \n00208|       const data = await response.json();\n00209|       const timing = Date.now() - startTime;\n00210| \n00211|       console.log('üîß Rail Continent API –æ—Ç–≤–µ—Ç:', data);\n00212| \n00213|       if (response.ok && data.result === 'success') {\n00214|         updateResult('railcontinent', {\n00215|           status: 'success',\n00216|           message: `Rail Continent API —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –ü–æ–ª—É—á–µ–Ω —Ç–∞—Ä–∏—Ñ: ${data.data?.auto?.priceTotal || 'N/A'} ‚ÇΩ`,\n00217|           details: data.data,\n00218|           response: data,\n00219|           requestData: testData,\n00220|           timing\n00221|         });\n00222|       } else {\n00223|         updateResult('railcontinent', {\n00224|           status: 'warning',\n00225|           message: `Rail Continent API –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É: ${data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}`,\n00226|           details: data.details,\n00227|           response: data,\n00228|           requestData: testData,\n00229|           timing\n00230|         });\n00231|       }\n00232|     } catch (error: any) {\n00233|       console.error('üîß Rail Continent API –æ—à–∏–±–∫–∞:', error);\n00234|       updateResult('railcontinent', {\n00235|         status: 'error',\n00236|         message: `–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ Rail Continent API: ${error.message}`,\n00237|         details: error,\n00238|         timing: Date.now() - startTime\n00239|       });\n00240|     } finally {\n00241|       setIsTestingRailContinent(false);\n00242|     }\n00243|   };\n00244| \n00245|   const testVozovozAPI = async () => {\n00246|     setIsTestingVozovoz(true);\n00247|     const startTime = Date.now();\n00248|     \n00249|     try {\n00250|       console.log('üîß –ù–∞—á–∏–Ω–∞–µ–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –í–æ–∑–æ–≤–æ–∑ API...');\n00251|       \n00252|       const testData = {\n00253|         object: \"price\",\n00254|         action: \"get\",\n00255|         params: {\n00256|           cargo: {\n00257|             dimension: {\n00258|               quantity: 1,\n00259|               volume: 0.1,\n00260|               weight: 10\n00261|             }\n00262|           },\n00263|           gateway: {\n00264|             dispatch: {\n00265|               point: {\n00266|                 location: \"–ú–æ—Å–∫–≤–∞\",\n00267|                 terminal: \"default\"\n00268|               }\n00269|             },\n00270|             destination: {\n00271|               point: {\n00272|                 location: \"–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥\",\n00273|                 terminal: \"default\"\n00274|               }\n00275|             }\n00276|           }\n00277|         }\n00278|       };\n00279| \n00280|       const response = await fetch('/api/vozovoz', {\n00281|         method: 'POST',\n00282|         headers: { 'Content-Type': 'application/json' },\n00283|         body: JSON.stringify(testData)\n00284|       });\n00285| \n00286|       const data = await response.json();\n00287|       const timing = Date.now() - startTime;\n00288| \n00289|       console.log('üîß –í–æ–∑–æ–≤–æ–∑ API –æ—Ç–≤–µ—Ç:', data);\n00290| \n00291|       if (response.ok && data.response) {\n00292|         updateResult('vozovoz', {\n00293|           status: 'success',\n00294|           message: `–í–æ–∑–æ–≤–æ–∑ API —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –ü–æ–ª—É—á–µ–Ω —Ç–∞—Ä–∏—Ñ: ${data.response?.price || 'N/A'} ‚ÇΩ`,\n00295|           details: data.response,\n00296|           response: data,\n00297|           requestData: testData,\n00298|           timing\n00299|         });\n00300|       } else {\n00301|         updateResult('vozovoz', {\n00302|           status: 'warning',\n00303|           message: `–í–æ–∑–æ–≤–æ–∑ API –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É: ${data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}`,\n00304|           details: data.details,\n00305|           response: data,\n00306|           requestData: testData,\n00307|           timing\n00308|         });\n00309|       }\n00310|     } catch (error: any) {\n00311|       console.error('üîß –í–æ–∑–æ–≤–æ–∑ API –æ—à–∏–±–∫–∞:', error);\n00312|       updateResult('vozovoz', {\n00313|         status: 'error',\n00314|         message: `–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –í–æ–∑–æ–≤–æ–∑ API: ${error.message}`,\n00315|         details: error,\n00316|         timing: Date.now() - startTime\n00317|       });\n00318|     } finally {\n00319|       setIsTestingVozovoz(false);\n00320|     }\n00321|   };\n00322| \n00323|   const testNordWheelAPI = async () => {\n00324|     setIsTestingNordWheel(true);\n00325|     const startTime = Date.now();\n00326|     \n00327|     try {\n00328|       console.log('üîß –ù–∞—á–∏–Ω–∞–µ–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É Nord Wheel API...');\n00329|       \n00330|       const params = new URLSearchParams({\n00331|         from: '91', // –ú–æ—Å–∫–≤–∞\n00332|         to: '92', // –°–ü–±\n00333|         pickup: '0',\n00334|         deliver: '0',\n00335|         weight: '10',\n00336|         volume: '0.1',\n00337|         oversized: '0',\n00338|         package: '0',\n00339|         packageCount: '1',\n00340|         insurance: '0',\n00341|         sum: '50000',\n00342|         documentsReturn: '0',\n00343|         fragile: '1',\n00344|         length: '1',\n00345|         width: '1',\n00346|         height: '1'\n00347|       });\n00348| \n00349|       const apiUrl = 'https://nordw.ru/tools/api/calc/calculate/';\n00350|       const fullUrl = `${apiUrl}?${params.toString()}`;\n00351|       \n00352|       const response = await fetch(fullUrl);\n00353|       const data = await response.json();\n00354|       const timing = Date.now() - startTime;\n00355| \n00356|       console.log('üîß Nord Wheel API –æ—Ç–≤–µ—Ç:', data);\n00357| \n00358|       if (response.ok && data.status === 'success' && data.data) {\n00359|         updateResult('nordwheel', {\n00360|           status: 'success',\n00361|           message: `Nord Wheel API —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –ü–æ–ª—É—á–µ–Ω —Ç–∞—Ä–∏—Ñ: ${data.data?.total || 'N/A'} ‚ÇΩ`,\n00362|           details: data.data,\n00363|           response: data,\n00364|           requestData: Object.fromEntries(params),\n00365|           timing\n00366|         });\n00367|       } else {\n00368|         updateResult('nordwheel', {\n00369|           status: 'warning',\n00370|           message: `Nord Wheel API –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É: ${data.error || data.message || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}`,\n00371|           details: data.details,\n00372|           response: data,\n00373|           requestData: Object.fromEntries(params),\n00374|           timing\n00375|         });\n00376|       }\n00377|     } catch (error: any) {\n00378|       console.error('üîß Nord Wheel API –æ—à–∏–±–∫–∞:', error);\n00379|       updateResult('nordwheel', {\n00380|         status: 'error',\n00381|         message: `–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ Nord Wheel API: ${error.message}`,\n00382|         details: error,\n00383|         timing: Date.now() - startTime\n00384|       });\n00385|     } finally {\n00386|       setIsTestingNordWheel(false);\n00387|     }\n00388|   };\n00389| \n00390|   const testAllAPIs = async () => {\n00391|     await Promise.all([\n00392|       testPEKAPI(),\n00393|       testDellinAPI(), \n00394|       testRailContinentAPI(),\n00395|       testVozovozAPI(),\n00396|       testNordWheelAPI()\n00397|     ]);\n00398|   };\n00399| \n00400|   // üîß –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≥—Ä—É–∑–æ–≤—ã—Ö –º–µ—Å—Ç\n00401|   const generateTestCargos = (count: number) => {\n00402|     const cargos = [];\n00403|     for (let i = 0; i < count; i++) {\n00404|       cargos.push({\n00405|         length: 50 + Math.floor(Math.random() * 150), // 50-200 —Å–º\n00406|         width: 30 + Math.floor(Math.random() * 120),  // 30-150 —Å–º  \n00407|         height: 20 + Math.floor(Math.random() * 180), // 20-200 —Å–º\n00408|         weight: 5 + Math.floor(Math.random() * 95)    // 5-100 –∫–≥\n00409|       });\n00410|     }\n00411|     return cargos;\n00412|   };\n00413| \n00414|   // üîß –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤—Å–µ—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –æ–ø—Ü–∏–π\n00415|   const generateOptionsCombinations = () => {\n00416|     const combinations = [];\n00417|     const options = [\n00418|       { name: 'fromAddressDelivery', values: [true, false] },\n00419|       { name: 'toAddressDelivery', values: [true, false] },\n00420|       { name: 'needPackaging', values: [true, false] },\n00421|       { name: 'needInsurance', values: [true, false] }\n00422|     ];\n00423| \n00424|     // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ (2^4 = 16 –∫–æ–º–±–∏–Ω–∞—Ü–∏–π)\n00425|     for (let i = 0; i < Math.pow(2, options.length); i++) {\n00426|       const combination: any = {\n00427|         fromCity: '–ú–æ—Å–∫–≤–∞',\n00428|         toCity: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',\n00429|         fromAddress: '—É–ª. –¢–≤–µ—Ä—Å–∫–∞—è, 1',\n00430|         toAddress: '–ù–µ–≤—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, 1',\n00431|         declaredValue: 50000\n00432|       };\n00433|       \n00434|       options.forEach((option, index) => {\n00435|         combination[option.name] = Boolean(i & (1 << index));\n00436|       });\n00437|       \n00438|       combinations.push(combination);\n00439|     }\n00440|     \n00441|     return combinations;\n00442|   };\n00443| \n00444|   // üîß –§—É–Ω–∫—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ–¥–Ω–æ–π –¢–ö —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏\n00445|   const testSingleTK = async (tkName: string, testData: any) => {\n00446|     const startTime = Date.now();\n00447|     let apiUrl = '';\n00448|     let requestData: any = {};\n00449|     \n00450|     try {\n00451|       switch (tkName) {\n00452|         case 'pek':\n00453|           apiUrl = '/api/pek';\n00454|           requestData = { method: 'calculateprice', ...testData };\n00455|           break;\n00456|         case 'dellin':\n00457|           // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä—è–º–æ–π —Ä–∞—Å—á–µ—Ç –∫–∞–∫ –≤ –≥–ª–∞–≤–Ω–æ–º –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–µ\n00458|           apiUrl = 'DELLIN_DIRECT';\n00459|           requestData = testData;\n00460|           break;\n00461|         case 'railcontinent':\n00462|           apiUrl = '/api/rail-continent';\n00463|           requestData = {\n00464|             city_sender: testData.fromCity,\n00465|             city_receiver: testData.toCity,\n00466|             weight: testData.cargos.reduce((sum: number, cargo: any) => sum + cargo.weight, 0),\n00467|             volume: testData.cargos.reduce((sum: number, cargo: any) => \n00468|               sum + (cargo.length * cargo.width * cargo.height) / 1000000, 0\n00469|             ),\n00470|             quantity: testData.cargos.length, // üîß –ù–æ–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä\n00471|             length: Math.max(...testData.cargos.map((c: any) => c.length)) / 100,\n00472|             width: Math.max(...testData.cargos.map((c: any) => c.width)) / 100,\n00473|             height: Math.max(...testData.cargos.map((c: any) => c.height)) / 100,\n00474|             declared_cost: testData.declaredValue,\n00475|             pickup: testData.fromAddressDelivery ? '1' : '0',\n00476|             delivery: testData.toAddressDelivery ? '1' : '0',\n00477|             packaging: testData.needPackaging ? '1' : '0',\n00478|             insurance: testData.needInsurance ? '1' : '0',\n00479|             tariff: 'auto'\n00480|           };\n00481|           break;\n00482|         case 'vozovoz':\n00483|           apiUrl = '/api/vozovoz';\n00484|           requestData = {\n00485|             object: \"price\",\n00486|             action: \"get\",\n00487|             params: {\n00488|               cargo: {\n00489|                 dimension: {\n00490|                   quantity: testData.cargos.length,\n00491|                   volume: testData.cargos.reduce((sum: number, cargo: any) => \n00492|                     sum + (cargo.length * cargo.width * cargo.height) / 1000000, 0\n00493|                   ),\n00494|                   weight: testData.cargos.reduce((sum: number, cargo: any) => sum + cargo.weight, 0)\n00495|                 },\n00496|                 ...(testData.needInsurance && testData.declaredValue > 0 ? {\n00497|                   insurance: testData.declaredValue\n00498|                 } : {}),\n00499|                 ...(testData.needPackaging ? {\n00500|                   wrapping: {\n00501|                     palletCollar: testData.cargos.reduce((sum: number, cargo: any) => \n00502|                       sum + (cargo.length * cargo.width * cargo.height) / 1000000, 0\n00503|                     )\n00504|                   }\n00505|                 } : {})\n00506|               },\n00507|               gateway: {\n00508|                 dispatch: {\n00509|                   point: {\n00510|                     location: testData.fromCity,\n00511|                     ...(testData.fromAddressDelivery ? {\n00512|                       address: testData.fromAddress || \"–∞–¥—Ä–µ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è\"\n00513|                     } : {\n00514|                       terminal: \"default\"\n00515|                     })\n00516|                   }\n00517|                 },\n00518|                 destination: {\n00519|                   point: {\n00520|                     location: testData.toCity,\n00521|                     ...(testData.toAddressDelivery ? {\n00522|                       address: testData.toAddress || \"–∞–¥—Ä–µ—Å –ø–æ–ª—É—á–µ–Ω–∏—è\"\n00523|                     } : {\n00524|                       terminal: \"default\"\n00525|                     })\n00526|                   }\n00527|                 }\n00528|               }\n00529|             }\n00530|           };\n00531|           break;\n00532|         case 'nordwheel':\n00533|           const totalWeight = testData.cargos.reduce((sum: number, cargo: any) => sum + cargo.weight, 0);\n00534|           const totalVolume = testData.cargos.reduce((sum: number, cargo: any) => \n00535|             sum + (cargo.length * cargo.width * cargo.height) / 1000000, 0\n00536|           );\n00537|           const maxLength = Math.max(...testData.cargos.map((c: any) => c.length));\n00538|           const maxWidth = Math.max(...testData.cargos.map((c: any) => c.width));\n00539|           const maxHeight = Math.max(...testData.cargos.map((c: any) => c.height));\n00540|           const isOversized = maxLength > 200 || maxWidth > 200 || maxHeight > 200 || totalWeight > 1000;\n00541|           \n00542|           const params = new URLSearchParams({\n00543|             from: '91',\n00544|             to: '92',\n00545|             pickup: testData.fromAddressDelivery ? '1' : '0',\n00546|             deliver: testData.toAddressDelivery ? '1' : '0',\n00547|             weight: totalWeight.toString(),\n00548|             volume: totalVolume.toString(),\n00549|             oversized: isOversized ? '1' : '0',\n00550|             package: testData.needPackaging ? '1' : '0',\n00551|             packageCount: testData.cargos.length.toString(),\n00552|             insurance: testData.needInsurance ? '1' : '0',\n00553|             sum: testData.declaredValue.toString(),\n00554|             documentsReturn: '0',\n00555|             fragile: '1',\n00556|             length: (maxLength / 100).toString(),\n00557|             width: (maxWidth / 100).toString(),\n00558|             height: (maxHeight / 100).toString(),\n00559|             multiplePackages: testData.cargos.length > 1 ? '1' : '0'\n00560|           });\n00561|           \n00562|           apiUrl = `https://nordw.ru/tools/api/calc/calculate/?${params.toString()}`;\n00563|           requestData = Object.fromEntries(params);\n00564|           break;\n00565|       }\n00566| \n00567|       let response: any;\n00568|       let data: any;\n00569| \n00570|       if (tkName === 'nordwheel') {\n00571|         response = await fetch(apiUrl);\n00572|         data = await response.json();\n00573|       } else if (tkName === 'dellin') {\n00574|         // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ –≤ –º–∞—Å—Å–æ–≤–æ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏–∑-–∑–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏\n00575|         return {\n00576|           tk: tkName,\n00577|           status: 'skipped',\n00578|           message: '–ü—Ä–æ–ø—É—â–µ–Ω–æ (—Å–ª–æ–∂–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)',\n00579|           timing: Date.now() - startTime,\n00580|           requestData,\n00581|           cargoCount: testData.cargos.length\n00582|         };\n00583|       } else {\n00584|         response = await fetch(apiUrl, {\n00585|           method: 'POST',\n00586|           headers: { 'Content-Type': 'application/json' },\n00587|           body: JSON.stringify(requestData)\n00588|         });\n00589|         data = await response.json();\n00590|       }\n00591| \n00592|       const timing = Date.now() - startTime;\n00593| \n00594|       // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¢–ö\n00595|       let isSuccess = false;\n00596|       let price = 0;\n00597|       \n00598|       switch (tkName) {\n00599|         case 'pek':\n00600|           isSuccess = response.ok && data.success;\n00601|           price = data.data?.price || 0;\n00602|           break;\n00603|         case 'railcontinent':\n00604|           isSuccess = response.ok && data.result === 'success';\n00605|           price = data.data?.auto?.priceTotal || 0;\n00606|           break;\n00607|         case 'vozovoz':\n00608|           isSuccess = response.ok && data.response;\n00609|           price = data.response?.price || 0;\n00610|           break;\n00611|         case 'nordwheel':\n00612|           isSuccess = response.ok && data.status === 'success' && data.data;\n00613|           price = data.data?.total || 0;\n00614|           break;\n00615|       }\n00616| \n00617|       return {\n00618|         tk: tkName,\n00619|         status: isSuccess ? 'success' : 'error',\n00620|         message: isSuccess ? `–¢–∞—Ä–∏—Ñ: ${price} ‚ÇΩ` : (data.error || data.message || '–û—à–∏–±–∫–∞'),\n00621|         timing,\n00622|         price,\n00623|         requestData,\n00624|         responseData: data,\n00625|         cargoCount: testData.cargos.length\n00626|       };\n00627| \n00628|     } catch (error: any) {\n00629|       return {\n00630|         tk: tkName,\n00631|         status: 'error',\n00632|         message: `–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞: ${error.message}`,\n00633|         timing: Date.now() - startTime,\n00634|         requestData,\n00635|         cargoCount: testData.cargos.length,\n00636|         error: error.message\n00637|       };\n00638|     }\n00639|   };\n00640| \n00641|   // üîß –ü–û–õ–ù–û–ï –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï\n00642|   const runFullTesting = async () => {\n00643|     setIsFullTesting(true);\n00644|     setFullTestResults(null);\n00645|     \n00646|     const allResults: any[] = [];\n00647|     const errors: string[] = [];\n00648|     let totalTests = 0;\n00649|     let successful = 0;\n00650|     \n00651|     console.log('üß™ ===== –ù–ê–ß–ê–õ–û –ü–û–õ–ù–û–ì–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø =====');\n00652|     \n00653|     try {\n00654|       const transportCompanies = ['pek', 'railcontinent', 'vozovoz', 'nordwheel'];\n00655|       const cargoCountTests = [1, 2, 3, 5, 10, 20, 50]; // –¢–µ—Å—Ç–∏—Ä—É–µ–º –¥–æ 50 –≥—Ä—É–∑–æ–≤—ã—Ö –º–µ—Å—Ç\n00656|       const optionCombinations = generateOptionsCombinations();\n00657|       \n00658|       console.log(`üß™ –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è —Ç–µ—Å—Ç–æ–≤: ${transportCompanies.length} –¢–ö √ó ${cargoCountTests.length} –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –º–µ—Å—Ç √ó ${optionCombinations.length} –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –æ–ø—Ü–∏–π = ${transportCompanies.length * cargoCountTests.length * optionCombinations.length}`);\n00659|       \n00660|       // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏\n00661|       const maxTestsPerTK = 20; // 20 —Ç–µ—Å—Ç–æ–≤ –Ω–∞ –¢–ö (–≤–º–µ—Å—Ç–æ –≤—Å–µ—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π)\n00662|       \n00663|       for (const tk of transportCompanies) {\n00664|         console.log(`üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ${tk.toUpperCase()}...`);\n00665|         let testsForTK = 0;\n00666|         \n00667|         // –¢–µ—Å—Ç–∏—Ä—É–µ–º —Ä–∞–∑–ª–∏—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥—Ä—É–∑–æ–≤—ã—Ö –º–µ—Å—Ç\n00668|         for (const cargoCount of cargoCountTests) {\n00669|           if (testsForTK >= maxTestsPerTK) break;\n00670|           \n00671|           // –í—ã–±–∏—Ä–∞–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –æ–ø—Ü–∏–π (–Ω–µ –≤—Å–µ, –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –≤—Ä–µ–º–µ–Ω–∏)\n00672|           const selectedCombinations = optionCombinations.slice(0, Math.min(3, Math.floor(maxTestsPerTK / cargoCountTests.length)));\n00673|           \n00674|           for (const options of selectedCombinations) {\n00675|             if (testsForTK >= maxTestsPerTK) break;\n00676|             \n00677|             const testData = {\n00678|               ...options,\n00679|               cargos: generateTestCargos(cargoCount)\n00680|             };\n00681|             \n00682|             console.log(`üß™ ${tk}: ${cargoCount} –º–µ—Å—Ç, –æ–ø—Ü–∏–∏: [${Object.entries(options).filter(([k, v]) => typeof v === 'boolean' && v).map(([k, v]) => k).join(', ') || '–±–∞–∑–æ–≤—ã–µ'}]`);\n00683|             \n00684|             const result = await testSingleTK(tk, testData);\n00685|             allResults.push(result);\n00686|             totalTests++;\n00687|             testsForTK++;\n00688|             \n00689|             if (result.status === 'success') {\n00690|               successful++;\n00691|               console.log(`‚úÖ ${tk}: ${result.message} (${result.timing}ms)`);\n00692|             } else if (result.status === 'skipped') {\n00693|               console.log(`‚è≠Ô∏è ${tk}: ${result.message}`);\n00694|             } else {\n00695|               console.log(`‚ùå ${tk}: ${result.message} (${result.timing}ms)`);\n00696|               errors.push(`${tk}: ${result.message}`);\n00697|             }\n00698|             \n00699|             // –ù–µ–±–æ–ª—å—à–∞—è –ø–∞—É–∑–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏\n00700|             await new Promise(resolve => setTimeout(resolve, 100));\n00701|           }\n00702|         }\n00703|       }\n00704|       \n00705|       const summary = {\n00706|         totalTests,\n00707|         successful,\n00708|         failed: totalTests - successful,\n00709|         errors\n00710|       };\n00711|       \n00712|       setFullTestResults({\n00713|         summary,\n00714|         details: allResults\n00715|       });\n00716|       \n00717|       console.log('üß™ ===== –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ü–û–õ–ù–û–ì–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø =====');\n00718|       console.log(`üìä –í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤: ${totalTests}`);\n00719|       console.log(`‚úÖ –£—Å–ø–µ—à–Ω—ã—Ö: ${successful}`);\n00720|       console.log(`‚ùå –ù–µ—É–¥–∞—á–Ω—ã—Ö: ${totalTests - successful}`);\n00721|       console.log(`üìà –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—Ö–∞: ${((successful / totalTests) * 100).toFixed(1)}%`);\n00722|       \n00723|       if (errors.length > 0) {\n00724|         console.log('‚ùå –û—à–∏–±–∫–∏:');\n00725|         errors.forEach(error => console.log(`   - ${error}`));\n00726|       }\n00727|       \n00728|     } catch (error: any) {\n00729|       console.error('üß™ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:', error);\n00730|       errors.push(`–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞: ${error.message}`);\n00731|       \n00732|       setFullTestResults({\n00733|         summary: { totalTests, successful, failed: totalTests - successful, errors },\n00734|         details: allResults\n00735|       });\n00736|     } finally {\n00737|       setIsFullTesting(false);\n00738|       console.log('üß™ ===== –ö–û–ù–ï–¶ –ü–û–õ–ù–û–ì–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø =====');\n00739|     }\n00740|   };\n00741| \n00742|   const getStatusIcon = (status: string) => {\n00743|     switch (status) {\n00744|       case 'success': return <CheckCircle className=\"h-4 w-4 text-green-400\" />;\n00745|       case 'warning': return <AlertCircle className=\"h-4 w-4 text-yellow-400\" />;\n00746|       case 'error': return <XCircle className=\"h-4 w-4 text-red-400\" />;\n00747|       default: return <Activity className=\"h-4 w-4 text-gray-400\" />;\n00748|     }\n00749|   };\n00750| \n00751|   const getStatusColor = (status: string) => {\n00752|     switch (status) {\n00753|       case 'success': return 'border-green-500 bg-green-900/20';\n00754|       case 'warning': return 'border-yellow-500 bg-yellow-900/20';\n00755|       case 'error': return 'border-red-500 bg-red-900/20';\n00756|       default: return 'border-gray-500 bg-gray-900/20';\n00757|     }\n00758|   };\n00759| \n00760|   return (\n00761|     <div className=\"min-h-screen bg-gray-950 text-white p-6\">\n00762|       <div className=\"max-w-6xl mx-auto\">\n00763|         <div className=\"mb-6\">\n00764|           <h1 className=\"text-3xl font-bold mb-2\">–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π</h1>\n00765|           <p className=\"text-gray-400\">–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ API –≤—Å–µ—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã—Ö –¢–ö</p>\n00766|         </div>\n00767| \n00768|         <div className=\"flex gap-4 mb-6 flex-wrap\">\n00769|           <Button onClick={testAllAPIs} className=\"bg-blue-600 hover:bg-blue-700\">\n00770|             <Activity className=\"h-4 w-4 mr-2\" />\n00771|             –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ API\n00772|           </Button>\n00773|           <Button \n00774|             onClick={runFullTesting} \n00775|             disabled={isFullTesting}\n00776|             className=\"bg-purple-600 hover:bg-purple-700\"\n00777|           >\n00778|             <TestTube className=\"h-4 w-4 mr-2\" />\n00779|             {isFullTesting ? '–ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...' : '–ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ'}\n00780|           </Button>\n00781|           <Button onClick={() => window.open('/env-check', '_blank')} variant=\"outline\">\n00782|             <Building2 className=\"h-4 w-4 mr-2\" />\n00783|             –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è\n00784|           </Button>\n00785|           <Button onClick={() => window.close()} variant=\"outline\">\n00786|             –ó–∞–∫—Ä—ã—Ç—å\n00787|           </Button>\n00788|         </div>\n00789| \n00790|         {/* –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è */}\n00791|         {fullTestResults && (\n00792|           <Card className=\"border-gray-700 bg-gray-900 mb-6\">\n00793|             <CardHeader>\n00794|               <CardTitle className=\"flex items-center gap-2\">\n00795|                 <TestTube className=\"h-5 w-5 text-purple-400\" />\n00796|                 –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è\n00797|               </CardTitle>\n00798|             </CardHeader>\n00799|             <CardContent>\n00800|               <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4\">\n00801|                 <div className=\"text-center\">\n00802|                   <div className=\"text-2xl font-bold text-blue-400\">{fullTestResults.summary.totalTests}</div>\n00803|                   <div className=\"text-sm text-gray-400\">–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤</div>\n00804|                 </div>\n00805|                 <div className=\"text-center\">\n00806|                   <div className=\"text-2xl font-bold text-green-400\">{fullTestResults.summary.successful}</div>\n00807|                   <div className=\"text-sm text-gray-400\">–£—Å–ø–µ—à–Ω—ã—Ö</div>\n00808|                 </div>\n00809|                 <div className=\"text-center\">\n00810|                   <div className=\"text-2xl font-bold text-red-400\">{fullTestResults.summary.failed}</div>\n00811|                   <div className=\"text-sm text-gray-400\">–ù–µ—É–¥–∞—á–Ω—ã—Ö</div>\n00812|                 </div>\n00813|                 <div className=\"text-center\">\n00814|                   <div className=\"text-2xl font-bold text-yellow-400\">\n00815|                     {((fullTestResults.summary.successful / fullTestResults.summary.totalTests) * 100).toFixed(1)}%\n00816|                   </div>\n00817|                   <div className=\"text-sm text-gray-400\">–£—Å–ø–µ—à–Ω–æ—Å—Ç—å</div>\n00818|                 </div>\n00819|               </div>\n00820|               \n00821|               {fullTestResults.summary.errors.length > 0 && (\n00822|                 <Alert className=\"border-red-500 bg-red-900/20 mb-4\">\n00823|                   <AlertCircle className=\"h-4 w-4\" />\n00824|                   <AlertDescription>\n00825|                     <div className=\"font-medium mb-2\">–ù–∞–π–¥–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏:</div>\n00826|                     <ul className=\"list-disc list-inside text-sm space-y-1\">\n00827|                       {fullTestResults.summary.errors.slice(0, 10).map((error, index) => (\n00828|                         <li key={index}>{error}</li>\n00829|                       ))}\n00830|                       {fullTestResults.summary.errors.length > 10 && (\n00831|                         <li>... –∏ –µ—â–µ {fullTestResults.summary.errors.length - 10} –æ—à–∏–±–æ–∫</li>\n00832|                       )}\n00833|                     </ul>\n00834|                   </AlertDescription>\n00835|                 </Alert>\n00836|               )}\n00837|               \n00838|               <details className=\"mt-4\">\n00839|                 <summary className=\"cursor-pointer text-sm font-medium\">–ü–æ–¥—Ä–æ–±–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</summary>\n00840|                 <div className=\"mt-2 max-h-96 overflow-y-auto\">\n00841|                   <pre className=\"text-xs p-2 bg-gray-800 rounded\">\n00842|                     {JSON.stringify(fullTestResults.details, null, 2)}\n00843|                   </pre>\n00844|                 </div>\n00845|               </details>\n00846|             </CardContent>\n00847|           </Card>\n00848|         )}\n00849| \n00850|         <div className=\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6\">\n00851|           {/* –ü–≠–ö */}\n00852|           <Card className=\"border-gray-700 bg-gray-900\">\n00853|             <CardHeader>\n00854|               <CardTitle className=\"flex items-center justify-between\">\n00855|                 <div className=\"flex items-center gap-2\">\n00856|                   <Truck className=\"h-5 w-5 text-blue-400\" />\n00857|                   –ü–≠–ö\n00858|                 </div>\n00859|                 <Button \n00860|                   onClick={testPEKAPI} \n00861|                   disabled={isTestingPEK}\n00862|                   size=\"sm\"\n00863|                   variant=\"outline\"\n00864|                 >\n00865|                   {isTestingPEK ? '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...' : '–¢–µ—Å—Ç'}\n00866|                 </Button>\n00867|               </CardTitle>\n00868|             </CardHeader>\n00869|             <CardContent>\n00870|               {diagnosticResults.pek ? (\n00871|                 <Alert className={getStatusColor(diagnosticResults.pek.status)}>\n00872|                   <div className=\"flex items-start gap-2\">\n00873|                     {getStatusIcon(diagnosticResults.pek.status)}\n00874|                     <div className=\"flex-1\">\n00875|                       <AlertDescription>\n00876|                         <div className=\"font-medium mb-2\">{diagnosticResults.pek.message}</div>\n00877|                         {diagnosticResults.pek.timing && (\n00878|                           <Badge variant=\"outline\" className=\"mb-2\">\n00879|                             –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: {diagnosticResults.pek.timing}–º—Å\n00880|                           </Badge>\n00881|                         )}\n00882|                         {diagnosticResults.pek.details && (\n00883|                           <details className=\"mt-2\">\n00884|                             <summary className=\"cursor-pointer text-sm\">–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏</summary>\n00885|                             <pre className=\"text-xs mt-2 p-2 bg-gray-800 rounded overflow-auto\">\n00886|                               {JSON.stringify(diagnosticResults.pek.details, null, 2)}\n00887|                             </pre>\n00888|                           </details>\n00889|                         )}\n00890|                       </AlertDescription>\n00891|                     </div>\n00892|                   </div>\n00893|                 </Alert>\n00894|               ) : (\n00895|                 <p className=\"text-gray-400\">–ù–∞–∂–º–∏—Ç–µ \"–¢–µ—Å—Ç\" –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API –ü–≠–ö</p>\n00896|               )}\n00897|             </CardContent>\n00898|           </Card>\n00899| \n00900|           {/* –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ */}\n00901|           <Card className=\"border-gray-700 bg-gray-900\">\n00902|             <CardHeader>\n00903|               <CardTitle className=\"flex items-center justify-between\">\n00904|                 <div className=\"flex items-center gap-2\">\n00905|                   <Truck className=\"h-5 w-5 text-green-400\" />\n00906|                   –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏\n00907|                 </div>\n00908|                 <Button \n00909|                   onClick={testDellinAPI} \n00910|                   disabled={isTestingDellin}\n00911|                   size=\"sm\"\n00912|                   variant=\"outline\"\n00913|                 >\n00914|                   {isTestingDellin ? '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...' : '–¢–µ—Å—Ç'}\n00915|                 </Button>\n00916|               </CardTitle>\n00917|             </CardHeader>\n00918|             <CardContent>\n00919|               {diagnosticResults.dellin ? (\n00920|                 <Alert className={getStatusColor(diagnosticResults.dellin.status)}>\n00921|                   <div className=\"flex items-start gap-2\">\n00922|                     {getStatusIcon(diagnosticResults.dellin.status)}\n00923|                     <div className=\"flex-1\">\n00924|                       <AlertDescription>\n00925|                         <div className=\"font-medium mb-2\">{diagnosticResults.dellin.message}</div>\n00926|                         {diagnosticResults.dellin.timing && (\n00927|                           <Badge variant=\"outline\" className=\"mb-2\">\n00928|                             –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: {diagnosticResults.dellin.timing}–º—Å\n00929|                           </Badge>\n00930|                         )}\n00931|                         {diagnosticResults.dellin.details && (\n00932|                           <details className=\"mt-2\">\n00933|                             <summary className=\"cursor-pointer text-sm\">–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏</summary>\n00934|                             <pre className=\"text-xs mt-2 p-2 bg-gray-800 rounded overflow-auto\">\n00935|                               {JSON.stringify(diagnosticResults.dellin.details, null, 2)}\n00936|                             </pre>\n00937|                           </details>\n00938|                         )}\n00939|                       </AlertDescription>\n00940|                     </div>\n00941|                   </div>\n00942|                 </Alert>\n00943|               ) : (\n00944|                 <p className=\"text-gray-400\">–ù–∞–∂–º–∏—Ç–µ \"–¢–µ—Å—Ç\" –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏</p>\n00945|               )}\n00946|             </CardContent>\n00947|           </Card>\n00948| \n00949|           {/* Rail Continent */}\n00950|           <Card className=\"border-gray-700 bg-gray-900\">\n00951|             <CardHeader>\n00952|               <CardTitle className=\"flex items-center justify-between\">\n00953|                 <div className=\"flex items-center gap-2\">\n00954|                   <Truck className=\"h-5 w-5 text-purple-400\" />\n00955|                   Rail Continent\n00956|                 </div>\n00957|                 <Button \n00958|                   onClick={testRailContinentAPI} \n00959|                   disabled={isTestingRailContinent}\n00960|                   size=\"sm\"\n00961|                   variant=\"outline\"\n00962|                 >\n00963|                   {isTestingRailContinent ? '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...' : '–¢–µ—Å—Ç'}\n00964|                 </Button>\n00965|               </CardTitle>\n00966|             </CardHeader>\n00967|             <CardContent>\n00968|               {diagnosticResults.railcontinent ? (\n00969|                 <Alert className={getStatusColor(diagnosticResults.railcontinent.status)}>\n00970|                   <div className=\"flex items-start gap-2\">\n00971|                     {getStatusIcon(diagnosticResults.railcontinent.status)}\n00972|                     <div className=\"flex-1\">\n00973|                       <AlertDescription>\n00974|                         <div className=\"font-medium mb-2\">{diagnosticResults.railcontinent.message}</div>\n00975|                         {diagnosticResults.railcontinent.timing && (\n00976|                           <Badge variant=\"outline\" className=\"mb-2\">\n00977|                             –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: {diagnosticResults.railcontinent.timing}–º—Å\n00978|                           </Badge>\n00979|                         )}\n00980|                         {diagnosticResults.railcontinent.details && (\n00981|                           <details className=\"mt-2\">\n00982|                             <summary className=\"cursor-pointer text-sm\">–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏</summary>\n00983|                             <pre className=\"text-xs mt-2 p-2 bg-gray-800 rounded overflow-auto\">\n00984|                               {JSON.stringify(diagnosticResults.railcontinent.details, null, 2)}\n00985|                             </pre>\n00986|                           </details>\n00987|                         )}\n00988|                       </AlertDescription>\n00989|                     </div>\n00990|                   </div>\n00991|                 </Alert>\n00992|               ) : (\n00993|                 <p className=\"text-gray-400\">–ù–∞–∂–º–∏—Ç–µ \"–¢–µ—Å—Ç\" –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API Rail Continent</p>\n00994|               )}\n00995|             </CardContent>\n00996|           </Card>\n00997| \n00998|           {/* –í–æ–∑–æ–≤–æ–∑ */}\n00999|           <Card className=\"border-gray-700 bg-gray-900\">\n01000|             <CardHeader>\n01001|               <CardTitle className=\"flex items-center justify-between\">\n01002|                 <div className=\"flex items-center gap-2\">\n01003|                   <Truck className=\"h-5 w-5 text-orange-400\" />\n01004|                   –í–æ–∑–æ–≤–æ–∑\n01005|                 </div>\n01006|                 <Button \n01007|                   onClick={testVozovozAPI} \n01008|                   disabled={isTestingVozovoz}\n01009|                   size=\"sm\"\n01010|                   variant=\"outline\"\n01011|                 >\n01012|                   {isTestingVozovoz ? '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...' : '–¢–µ—Å—Ç'}\n01013|                 </Button>\n01014|               </CardTitle>\n01015|             </CardHeader>\n01016|             <CardContent>\n01017|               {diagnosticResults.vozovoz ? (\n01018|                 <Alert className={getStatusColor(diagnosticResults.vozovoz.status)}>\n01019|                   <div className=\"flex items-start gap-2\">\n01020|                     {getStatusIcon(diagnosticResults.vozovoz.status)}\n01021|                     <div className=\"flex-1\">\n01022|                       <AlertDescription>\n01023|                         <div className=\"font-medium mb-2\">{diagnosticResults.vozovoz.message}</div>\n01024|                         {diagnosticResults.vozovoz.timing && (\n01025|                           <Badge variant=\"outline\" className=\"mb-2\">\n01026|                             –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: {diagnosticResults.vozovoz.timing}–º—Å\n01027|                           </Badge>\n01028|                         )}\n01029|                         {diagnosticResults.vozovoz.details && (\n01030|                           <details className=\"mt-2\">\n01031|                             <summary className=\"cursor-pointer text-sm\">–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏</summary>\n01032|                             <pre className=\"text-xs mt-2 p-2 bg-gray-800 rounded overflow-auto\">\n01033|                               {JSON.stringify(diagnosticResults.vozovoz.details, null, 2)}\n01034|                             </pre>\n01035|                           </details>\n01036|                         )}\n01037|                       </AlertDescription>\n01038|                     </div>\n01039|                   </div>\n01040|                 </Alert>\n01041|               ) : (\n01042|                 <p className=\"text-gray-400\">–ù–∞–∂–º–∏—Ç–µ \"–¢–µ—Å—Ç\" –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API –í–æ–∑–æ–≤–æ–∑</p>\n01043|               )}\n01044|             </CardContent>\n01045|           </Card>\n01046| \n01047|           {/* Nord Wheel */}\n01048|           <Card className=\"border-gray-700 bg-gray-900\">\n01049|             <CardHeader>\n01050|               <CardTitle className=\"flex items-center justify-between\">\n01051|                 <div className=\"flex items-center gap-2\">\n01052|                   <Truck className=\"h-5 w-5 text-cyan-400\" />\n01053|                   Nord Wheel\n01054|                 </div>\n01055|                 <Button \n01056|                   onClick={testNordWheelAPI} \n01057|                   disabled={isTestingNordWheel}\n01058|                   size=\"sm\"\n01059|                   variant=\"outline\"\n01060|                 >\n01061|                   {isTestingNordWheel ? '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...' : '–¢–µ—Å—Ç'}\n01062|                 </Button>\n01063|               </CardTitle>\n01064|             </CardHeader>\n01065|             <CardContent>\n01066|               {diagnosticResults.nordwheel ? (\n01067|                 <Alert className={getStatusColor(diagnosticResults.nordwheel.status)}>\n01068|                   <div className=\"flex items-start gap-2\">\n01069|                     {getStatusIcon(diagnosticResults.nordwheel.status)}\n01070|                     <div className=\"flex-1\">\n01071|                       <AlertDescription>\n01072|                         <div className=\"font-medium mb-2\">{diagnosticResults.nordwheel.message}</div>\n01073|                         {diagnosticResults.nordwheel.timing && (\n01074|                           <Badge variant=\"outline\" className=\"mb-2\">\n01075|                             –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: {diagnosticResults.nordwheel.timing}–º—Å\n01076|                           </Badge>\n01077|                         )}\n01078|                         {diagnosticResults.nordwheel.details && (\n01079|                           <details className=\"mt-2\">\n01080|                             <summary className=\"cursor-pointer text-sm\">–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏</summary>\n01081|                             <pre className=\"text-xs mt-2 p-2 bg-gray-800 rounded overflow-auto\">\n01082|                               {JSON.stringify(diagnosticResults.nordwheel.details, null, 2)}\n01083|                             </pre>\n01084|                           </details>\n01085|                         )}\n01086|                       </AlertDescription>\n01087|                     </div>\n01088|                   </div>\n01089|                 </Alert>\n01090|               ) : (\n01091|                 <p className=\"text-gray-400\">–ù–∞–∂–º–∏—Ç–µ \"–¢–µ—Å—Ç\" –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API Nord Wheel</p>\n01092|               )}\n01093|             </CardContent>\n01094|           </Card>\n01095|         </div>\n01096|       </div>\n01097|     </div>\n01098|   );\n01099| }\n</file>",
    "metadata": {
      "preview": "'use client';\n\nimport React, { useState } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Badge } from '@/components/ui/badge';\nimport { Building2, Truck, Activity, CheckCircle, AlertCircle, XCircle, TestTube, PlayCircle } from 'lucide-react';\n\nexport default function DiagnosticPage() {\n  const [isTestingPEK, setIsTestingPEK] = useState(false);\n  const [isTestingDellin, setIsTestingDellin] = useState(false);\n  const [isTestingRailContinent, setIsTestingRailContinent] = useState(false);\n  const [isTestingVozovoz, setIsTestingVozovoz] = useState(false);\n  const [isTestingNordWheel, setIsTestingNordWheel] = useState(false);\n  const [isFullTesting, setIsFullTesting] = useState(false);\n  \n  const [diagnosticResults, setDiagnosticResults] = useState<{\n    [key: string]: {\n      status: 'success' | 'warning' | 'error' | 'pending';"
    },
    "title": "app/diagnostic/page.tsx",
    "time": {
      "start": 1759009574585,
      "end": 1759009574587
    }
  }
}
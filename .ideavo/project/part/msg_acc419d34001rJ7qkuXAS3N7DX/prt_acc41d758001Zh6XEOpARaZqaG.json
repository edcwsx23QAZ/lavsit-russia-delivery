{
  "id": "prt_acc41d758001Zh6XEOpARaZqaG",
  "sessionID": "ses_54b97e247ffenCZZa4jZiIWD0l",
  "messageID": "msg_acc419d34001rJ7qkuXAS3N7DX",
  "type": "tool",
  "callID": "call_6d40b5026a584bcf9c5889ad",
  "tool": "write",
  "state": {
    "status": "completed",
    "input": {
      "content": "#!/usr/bin/env node\n\nconst testCases = [\n  {\n    name: \"–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ç–µ—Å—Ç (–∫–∞–∫ –Ω–∞ —Å–∞–π—Ç–µ)\",\n    params: {\n      fromCity: \"–ú–æ—Å–∫–≤–∞\",\n      toCity: \"–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥\",\n      fromAddressDelivery: false,\n      toAddressDelivery: true,\n      toAddress: \"–ù–µ–≤—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç –¥.132\",\n      length: 200,\n      width: 100,\n      height: 100,\n      weight: 100,\n      needInsurance: false,\n      declaredValue: 0,\n      needPackaging: false,\n      needLoading: false,\n      hasFreightElevator: false,\n      floor: 1\n    },\n    expected: \"–û–∫–æ–ª–æ 12,680 ‚ÇΩ (—Å —Å–∞–π—Ç–∞)\"\n  },\n  {\n    name: \"–ë–æ–ª—å—à–æ–π –æ–±—ä–µ–º\",\n    params: {\n      fromCity: \"–ú–æ—Å–∫–≤–∞\",\n      toCity: \"–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥\",\n      fromAddressDelivery: false,\n      toAddressDelivery: true,\n      toAddress: \"–ù–µ–≤—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç –¥.132\",\n      length: 300,\n      width: 200,\n      height: 200,\n      weight: 200,\n      needInsurance: false,\n      declaredValue: 0,\n      needPackaging: false,\n      needLoading: false,\n      hasFreightElevator: false,\n      floor: 1\n    },\n    expected: \"–í—ã—à–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ\"\n  },\n  {\n    name: \"–ú–∞–ª–µ–Ω—å–∫–∏–π –æ–±—ä–µ–º\",\n    params: {\n      fromCity: \"–ú–æ—Å–∫–≤–∞\",\n      toCity: \"–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥\",\n      fromAddressDelivery: false,\n      toAddressDelivery: true,\n      toAddress: \"–ù–µ–≤—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç –¥.132\",\n      length: 50,\n      width: 50,\n      height: 50,\n      weight: 10,\n      needInsurance: false,\n      declaredValue: 0,\n      needPackaging: false,\n      needLoading: false,\n      hasFreightElevator: false,\n      floor: 1\n    },\n    expected: \"–ù–∏–∂–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ\"\n  },\n  {\n    name: \"–ë–µ–∑ –∞–¥—Ä–µ—Å–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏\",\n    params: {\n      fromCity: \"–ú–æ—Å–∫–≤–∞\",\n      toCity: \"–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥\",\n      fromAddressDelivery: false,\n      toAddressDelivery: false,\n      length: 200,\n      width: 100,\n      height: 100,\n      weight: 100,\n      needInsurance: false,\n      declaredValue: 0,\n      needPackaging: false,\n      needLoading: false,\n      hasFreightElevator: false,\n      floor: 1\n    },\n    expected: \"–ú–µ–Ω—å—à–µ (–±–µ–∑ –æ—Ç–≤–æ–∑–∞ –≥—Ä—É–∑–∞)\"\n  }\n];\n\nasync function runTests() {\n  console.log(\"üß™ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ Vozovoz –ø–∞—Ä—Å–µ—Ä–∞...\\n\");\n  \n  for (let i = 0; i < testCases.length; i++) {\n    const testCase = testCases[i];\n    console.log(`\\nüìã –¢–µ—Å—Ç ${i + 1}: ${testCase.name}`);\n    console.log(`üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${testCase.expected}`);\n    console.log(`üì¶ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: ${testCase.params.length}x${testCase.params.width}x${testCase.params.height}—Å–º, ${testCase.params.weight}–∫–≥`);\n    \n    try {\n      const response = await fetch('http://localhost:3000/api/vozovoz-parser-hybrid', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(testCase.params)\n      });\n      \n      if (!response.ok) {\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n      }\n      \n      const result = await response.json();\n      \n      console.log(`‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: ${result.totalCost.toLocaleString()} ‚ÇΩ`);\n      console.log(`‚è±Ô∏è  –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: ${result.parseTime}—Å`);\n      console.log(`üöö –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å–ª—É–≥: ${result.services.length}`);\n      \n      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é —É—Å–ª—É–≥\n      console.log(\"üìã –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —É—Å–ª—É–≥:\");\n      result.services.forEach((service, index) => {\n        const discount = service.discount ? ` (—Å–∫–∏–¥–∫–∞ ${service.discount} ‚ÇΩ)` : '';\n        console.log(`   ${index + 1}. ${service.name}: ${service.price.toLocaleString()} ‚ÇΩ${discount}`);\n      });\n      \n      if (result.warnings && result.warnings.length > 0) {\n        console.log(`‚ö†Ô∏è  –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è: ${result.warnings.join(', ')}`);\n      }\n      \n    } catch (error) {\n      console.log(`‚ùå –û—à–∏–±–∫–∞: ${error.message}`);\n    }\n  }\n  \n  console.log(\"\\nüéâ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!\");\n}\n\nrunTests().catch(console.error);",
      "filePath": "/home/user/project/test-vozovoz-parser-final.js"
    },
    "output": "",
    "title": "test-vozovoz-parser-final.js",
    "metadata": {
      "diagnostics": {},
      "filepath": "/home/user/project/test-vozovoz-parser-final.js",
      "exists": false
    },
    "time": {
      "start": 1764363458395,
      "end": 1764363458402
    }
  }
}
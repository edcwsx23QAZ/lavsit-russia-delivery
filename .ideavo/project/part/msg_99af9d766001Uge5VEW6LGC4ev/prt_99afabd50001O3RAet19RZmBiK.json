{
  "id": "prt_99afabd50001O3RAet19RZmBiK",
  "messageID": "msg_99af9d766001Uge5VEW6LGC4ev",
  "sessionID": "ses_6852784ecffeuHwynj83p2lr14",
  "type": "tool",
  "tool": "read",
  "callID": "toolu_01AvUARGMa5Dz5Hfg17N2N7L",
  "state": {
    "status": "completed",
    "input": {
      "filePath": "/home/user/project/app/diagnostic/page.tsx"
    },
    "output": "<file>\n00001| 'use client';\n00002| \n00003| import React, { useState, useEffect } from 'react';\n00004| import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\n00005| import { Button } from '@/components/ui/button';\n00006| import { Alert, AlertDescription } from '@/components/ui/alert';\n00007| import { Badge } from '@/components/ui/badge';\n00008| import { Building2, Truck, Activity, CheckCircle, AlertCircle, XCircle, TestTube, PlayCircle, Plus, Trash2, Save, ExternalLink, RefreshCw, Download } from 'lucide-react';\n00009| import { Input } from '@/components/ui/input';\n00010| import { Label } from '@/components/ui/label';\n00011| \n00012| export default function DiagnosticPage() {\n00013|   const [isTestingPEK, setIsTestingPEK] = useState(false);\n00014|   const [isTestingDellin, setIsTestingDellin] = useState(false);\n00015|   const [isTestingRailContinent, setIsTestingRailContinent] = useState(false);\n00016|   const [isTestingVozovoz, setIsTestingVozovoz] = useState(false);\n00017|   const [isTestingNordWheel, setIsTestingNordWheel] = useState(false);\n00018|   const [isFullTesting, setIsFullTesting] = useState(false);\n00019|   \n00020|   const [diagnosticResults, setDiagnosticResults] = useState<{\n00021|     [key: string]: {\n00022|       status: 'success' | 'warning' | 'error' | 'pending';\n00023|       message: string;\n00024|       details?: any;\n00025|       response?: any;\n00026|       requestData?: any;\n00027|       timing?: number;\n00028|     }\n00029|   }>({});\n00030| \n00031|   const [fullTestResults, setFullTestResults] = useState<{\n00032|     summary: {\n00033|       totalTests: number;\n00034|       successful: number;\n00035|       failed: number;\n00036|       skipped: number;\n00037|       errors: string[];\n00038|       averageResponseTime: number;\n00039|       successRate: number;\n00040|     };\n00041|     details: any[];\n00042|     progressInfo: {\n00043|       currentTK: string;\n00044|       completedTests: number;\n00045|       totalPlannedTests: number;\n00046|       stage: string;\n00047|     } | null;\n00048|   } | null>(null);\n00049| \n00050|   const [testProgress, setTestProgress] = useState<{\n00051|     currentTK: string;\n00052|     completedTests: number;\n00053|     totalPlannedTests: number;\n00054|     stage: string;\n00055|   } | null>(null);\n00056| \n00057|   // –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–∏–ø–∞–º–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π\n00058|   const [vehicleTypes, setVehicleTypes] = useState([\n00059|     { id: '1', name: '–§–æ—Ä–¥ –¢—Ä–∞–Ω–∑–∏—Ç', length: 4200, width: 2025, height: 2025 },\n00060|     { id: '2', name: '–§—É—Ä–∞ 18–º3', length: 4200, width: 2200, height: 2000 }\n00061|   ]);\n00062|   const [newVehicle, setNewVehicle] = useState({ name: '', length: '', width: '', height: '' });\n00063|   const [isSaving, setIsSaving] = useState(false);\n00064|   const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\n00065|   const [saveStatus, setSaveStatus] = useState<'idle' | 'saving' | 'success' | 'error'>('idle');\n00066|   const [isUpdatingData, setIsUpdatingData] = useState(false);\n00067|   const [updateStatus, setUpdateStatus] = useState<'idle' | 'updating' | 'success' | 'error'>('idle');\n00068|   const [lastUpdateTime, setLastUpdateTime] = useState<string | null>(null);\n00069|   \n00070|   // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ —Ç–∏–ø—ã –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏\n00071|   useEffect(() => {\n00072|     try {\n00073|       const saved = localStorage.getItem('vehicleTypes');\n00074|       if (saved) {\n00075|         const parsedVehicleTypes = JSON.parse(saved);\n00076|         setVehicleTypes(parsedVehicleTypes);\n00077|       }\n00078|       \n00079|       // –ó–∞–≥—Ä—É–∂–∞–µ–º –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è\n00080|       const lastUpdate = localStorage.getItem('lastProductDataUpdate');\n00081|       if (lastUpdate) {\n00082|         setLastUpdateTime(new Date(lastUpdate).toLocaleString('ru-RU'));\n00083|       }\n00084|     } catch (error) {\n00085|       console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:', error);\n00086|     }\n00087|   }, []);\n00088| \n00089|   // –§—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–∏–ø–∞–º–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π\n00090|   const addVehicleType = () => {\n00091|     if (!newVehicle.name || !newVehicle.length || !newVehicle.width || !newVehicle.height) {\n00092|       alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è');\n00093|       return;\n00094|     }\n00095|     \n00096|     const newId = (vehicleTypes.length + 1).toString();\n00097|     const vehicleToAdd = {\n00098|       id: newId,\n00099|       name: newVehicle.name,\n00100|       length: parseInt(newVehicle.length),\n00101|       width: parseInt(newVehicle.width),\n00102|       height: parseInt(newVehicle.height)\n00103|     };\n00104|     \n00105|     setVehicleTypes([...vehicleTypes, vehicleToAdd]);\n00106|     setNewVehicle({ name: '', length: '', width: '', height: '' });\n00107|     setHasUnsavedChanges(true);\n00108|   };\n00109|   \n00110|   const removeVehicleType = (id: string) => {\n00111|     setVehicleTypes(vehicleTypes.filter(vehicle => vehicle.id !== id));\n00112|     setHasUnsavedChanges(true);\n00113|   };\n00114|   \n00115|   const updateVehicleType = (id: string, field: string, value: string | number) => {\n00116|     setVehicleTypes(vehicleTypes.map(vehicle => \n00117|       vehicle.id === id ? { ...vehicle, [field]: value } : vehicle\n00118|     ));\n00119|     setHasUnsavedChanges(true);\n00120|   };\n00121|   \n00122|   const saveVehicleTypes = async () => {\n00123|     setIsSaving(true);\n00124|     setSaveStatus('saving');\n00125|     try {\n00126|       // –ò–º–∏—Ç–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã –±—ã–ª API –∑–∞–ø—Ä–æ—Å)\n00127|       localStorage.setItem('vehicleTypes', JSON.stringify(vehicleTypes));\n00128|       \n00129|       // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏ —Å–µ—Ç–µ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞\n00130|       await new Promise(resolve => setTimeout(resolve, 1000));\n00131|       \n00132|       setHasUnsavedChanges(false);\n00133|       setSaveStatus('success');\n00134|       \n00135|       // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã\n00136|       setTimeout(() => setSaveStatus('idle'), 3000);\n00137|     } catch (error) {\n00138|       console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:', error);\n00139|       setSaveStatus('error');\n00140|       setTimeout(() => setSaveStatus('idle'), 5000);\n00141|     } finally {\n00142|       setIsSaving(false);\n00143|     }\n00144|   };\n00145| \n00146|   // –§—É–Ω–∫—Ü–∏—è –ø–æ–ª–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ Google Sheets\n00147|   const updateProductData = async () => {\n00148|     setIsUpdatingData(true);\n00149|     setUpdateStatus('updating');\n00150|     \n00151|     try {\n00152|       console.log('üîÑ –ù–∞—á–∏–Ω–∞–µ–º –ø–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ Google Sheets...');\n00153|       console.log('üßπ –≠—Ç–∞–ø 1: –û—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö –æ —Ç–æ–≤–∞—Ä–∞—Ö –∏ –≥—Ä—É–∑–æ–≤—ã—Ö –º–µ—Å—Ç–∞—Ö');\n00154|       \n00155|       // –ü–û–õ–ù–ê–Ø –û–ß–ò–°–¢–ö–ê –í–°–ï–• –î–ê–ù–ù–´–• –û –¢–û–í–ê–†–ê–• –ò –ì–†–£–ó–û–í–´–• –ú–ï–°–¢–ê–•\n00156|       const keysToRemove: string[] = [];\n00157|       for (let i = 0; i < localStorage.length; i++) {\n00158|         const key = localStorage.key(i);\n00159|         if (key && (\n00160|           key.startsWith('furniture_') || \n00161|           key.startsWith('product_') || \n00162|           key.startsWith('cargo_') ||\n00163|           key.startsWith('cargoPlaces_') ||\n00164|           key.includes('cargo') ||\n00165|           key.includes('furniture') ||\n00166|           key.includes('product') ||\n00167|           key.includes('dimension') ||\n00168|           key.includes('size') ||\n00169|           key.includes('weight') ||\n00170|           key.includes('place')\n00171|         )) {\n00172|           keysToRemove.push(key);\n00173|         }\n00174|       }\n00175|       \n00176|       // –£–¥–∞–ª—è–µ–º –≤—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –∫–ª—é—á–∏\n00177|       keysToRemove.forEach(key => {\n00178|         localStorage.removeItem(key);\n00179|         console.log(`üóëÔ∏è –£–¥–∞–ª–µ–Ω –∫–ª—é—á: ${key}`);\n00180|       });\n00181|       console.log(`üßΩ –û—á–∏—â–µ–Ω–æ ${keysToRemove.length} –∫–ª—é—á–µ–π –∏–∑ localStorage`);\n00182|       \n00183|       // –û—á–∏—â–∞–µ–º –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è API –¥–∞–Ω–Ω—ã—Ö (–ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞)\n00184|       if ('caches' in window) {\n00185|         const cacheNames = await caches.keys();\n00186|         await Promise.all(\n00187|           cacheNames.map(cacheName => \n00188|             caches.delete(cacheName).then(() => \n00189|               console.log(`üóëÔ∏è –û—á–∏—â–µ–Ω –∫—ç—à: ${cacheName}`)\n00190|             )\n00191|           )\n00192|         );\n00193|       }\n00194|       \n00195|       console.log('üì• –≠—Ç–∞–ø 2: –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ Google Sheets');\n00196|       \n00197|       // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ API —Å –æ—á–∏—Å—Ç–∫–æ–π –∫—ç—à–∞\n00198|       const response = await fetch('/api/furniture-products?update=true&force=true&timestamp=' + Date.now(), {\n00199|         method: 'GET',\n00200|         headers: {\n00201|           'Cache-Control': 'no-cache, no-store, must-revalidate',\n00202|           'Pragma': 'no-cache',\n00203|           'Expires': '0'\n00204|         }\n00205|       });\n00206|       \n00207|       const result = await response.json();\n00208|       \n00209|       if (!result.success) {\n00210|         throw new Error(result.error || '–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ Google Sheets');\n00211|       }\n00212|       \n00213|       console.log(`‚úÖ –£—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ ${result.data.length} —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ Google Sheets`);\n00214|       console.log(`üï∞Ô∏è –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏: ${result.lastUpdated}`);\n00215|       console.log(`üìä –ü—Ä–∏–º–µ—Ä—ã —Ç–æ–≤–∞—Ä–æ–≤:`, result.data.slice(0, 3).map((p: any) => ({\n00216|         name: p.name,\n00217|         cargoPlaces: p.cargoPlaces?.length || 0\n00218|       })));\n00219|       \n00220|       // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ–º –∫—ç—à —á–µ—Ä–µ–∑ POST –∑–∞–ø—Ä–æ—Å\n00221|       console.log('üîÑ –≠—Ç–∞–ø 3: –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∫—ç—à–∞');\n00222|       try {\n00223|         const postResponse = await fetch('/api/furniture-products', {\n00224|           method: 'POST',\n00225|           headers: {\n00226|             'Content-Type': 'application/json',\n00227|             'Cache-Control': 'no-cache'\n00228|           },\n00229|           body: JSON.stringify({ forceUpdate: true })\n00230|         });\n00231|         \n00232|         if (postResponse.ok) {\n00233|           const postResult = await postResponse.json();\n00234|           console.log('‚úÖ –°–µ—Ä–≤–µ—Ä–Ω—ã–π –∫—ç—à –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω:', postResult.data?.length || 0, '—Ç–æ–≤–∞—Ä–æ–≤');\n00235|         }\n00236|       } catch (postError) {\n00237|         console.warn('‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –æ–±–Ω–æ–≤–∏—Ç—å —á–µ—Ä–µ–∑ POST, –Ω–æ GET –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—à–ª–æ —É—Å–ø–µ—à–Ω–æ');\n00238|       }\n00239|       \n00240|       // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –≥–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤\n00241|       if (window.opener) {\n00242|         window.opener.postMessage({\n00243|           type: 'PRODUCTS_FULLY_UPDATED',\n00244|           data: {\n00245|             productsCount: result.data.length,\n00246|             lastUpdated: result.lastUpdated,\n00247|             forceReload: true,\n00248|             clearAllCache: true\n00249|           }\n00250|         }, '*');\n00251|         console.log('üì° –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –≥–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ –æ –ø–æ–ª–Ω–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤');\n00252|       }\n00253|       \n00254|       // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å —Ç–æ–≤–∞—Ä–∞–º–∏\n00255|       window.dispatchEvent(new CustomEvent('furnitureDataUpdated', {\n00256|         detail: {\n00257|           productsCount: result.data.length,\n00258|           lastUpdated: result.lastUpdated,\n00259|           fullReset: true\n00260|         }\n00261|       }));\n00262|       \n00263|       // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è\n00264|       localStorage.setItem('lastProductDataUpdate', new Date().toISOString());\n00265|       localStorage.setItem('productDataForceUpdate', 'true');\n00266|       \n00267|       setUpdateStatus('success');\n00268|       setLastUpdateTime(new Date().toLocaleString('ru-RU'));\n00269|       setHasUnsavedChanges(false);\n00270|       \n00271|       console.log('üéâ –ü–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∑–∞–≤–µ—Ä—à–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ!');\n00272|       \n00273|       // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã–≤–∞–µ–º —Å—Ç–∞—Ç—É—Å —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥ (–¥–æ–ª—å—à–µ, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–≤–∏–¥–µ–ª —É—Å–ø–µ—Ö)\n00274|       setTimeout(() => setUpdateStatus('idle'), 5000);\n00275|       \n00276|     } catch (error: any) {\n00277|       console.error('‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:', error);\n00278|       setUpdateStatus('error');\n00279|       \n00280|       // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Ä–æ–±–Ω—É—é –æ—à–∏–±–∫—É –≤ –∫–æ–Ω—Å–æ–ª–∏\n00281|       console.error('‚ùå –î–µ—Ç–∞–ª–∏ –æ—à–∏–±–∫–∏:', {\n00282|         message: error.message,\n00283|         stack: error.stack,\n00284|         timestamp: new Date().toISOString()\n00285|       });\n00286|       \n00287|       setTimeout(() => setUpdateStatus('idle'), 8000);\n00288|     } finally {\n00289|       setIsUpdatingData(false);\n00290|     }\n00291|   };\n00292| \n00293|   const updateResult = (service: string, result: any) => {\n00294|     setDiagnosticResults(prev => ({\n00295|       ...prev,\n00296|       [service]: result\n00297|     }));\n00298|   };\n00299| \n00300|   const testPEKAPI = async () => {\n00301|     setIsTestingPEK(true);\n00302|     const startTime = Date.now();\n00303|     \n00304|     try {\n00305|       console.log('üîß –ù–∞—á–∏–Ω–∞–µ–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –ü–≠–ö API...');\n00306|       \n00307|       // –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ü–≠–ö\n00308|       const testData = {\n00309|         fromCity: '–ú–æ—Å–∫–≤–∞',\n00310|         toCity: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',\n00311|         cargos: [{\n00312|           length: 100,\n00313|           width: 100,\n00314|           height: 100,\n00315|           weight: 10\n00316|         }],\n00317|         declaredValue: 50000,\n00318|         fromAddressDelivery: false,\n00319|         toAddressDelivery: false,\n00320|         needPackaging: false,\n00321|         needInsurance: false\n00322|       };\n00323| \n00324|       const response = await fetch('/api/pek', {\n00325|         method: 'POST',\n00326|         headers: { 'Content-Type': 'application/json' },\n00327|         body: JSON.stringify(testData)\n00328|       });\n00329| \n00330|       const data = await response.json();\n00331|       const timing = Date.now() - startTime;\n00332| \n00333|       console.log('üîß –ü–≠–ö API –æ—Ç–≤–µ—Ç:', data);\n00334| \n00335|       if (response.ok && data.success) {\n00336|         updateResult('pek', {\n00337|           status: 'success',\n00338|           message: `–ü–≠–ö API —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –ü–æ–ª—É—á–µ–Ω —Ç–∞—Ä–∏—Ñ: ${data.data?.price || 'N/A'} ‚ÇΩ`,\n00339|           details: data.data,\n00340|           response: data,\n00341|           requestData: testData,\n00342|           timing\n00343|         });\n00344|       } else {\n00345|         updateResult('pek', {\n00346|           status: 'warning',\n00347|           message: `–ü–≠–ö API –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É: ${data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}`,\n00348|           details: data.details,\n00349|           response: data,\n00350|           requestData: testData,\n00351|           timing\n00352|         });\n00353|       }\n00354|     } catch (error: any) {\n00355|       console.error('üîß –ü–≠–ö API –æ—à–∏–±–∫–∞:', error);\n00356|       updateResult('pek', {\n00357|         status: 'error',\n00358|         message: `–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –ü–≠–ö API: ${error.message}`,\n00359|         details: error,\n00360|         timing: Date.now() - startTime\n00361|       });\n00362|     } finally {\n00363|       setIsTestingPEK(false);\n00364|     }\n00365|   };\n00366| \n00367|   const testDellinAPI = async () => {\n00368|     setIsTestingDellin(true);\n00369|     const startTime = Date.now();\n00370|     \n00371|     try {\n00372|       console.log('üîß –ù–∞—á–∏–Ω–∞–µ–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ API...');\n00373|       \n00374|       const testData = {\n00375|         fromCity: '–ú–æ—Å–∫–≤–∞',\n00376|         toCity: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',\n00377|         cargos: [{\n00378|           length: 100,\n00379|           width: 100,\n00380|           height: 100,\n00381|           weight: 10\n00382|         }],\n00383|         declaredValue: 50000,\n00384|         fromAddressDelivery: false,\n00385|         toAddressDelivery: false,\n00386|         needPackaging: false,\n00387|         needInsurance: false\n00388|       };\n00389| \n00390|       const response = await fetch('/api/dellin-packages', {\n00391|         method: 'POST',\n00392|         headers: { 'Content-Type': 'application/json' },\n00393|         body: JSON.stringify(testData)\n00394|       });\n00395| \n00396|       const data = await response.json();\n00397|       const timing = Date.now() - startTime;\n00398| \n00399|       console.log('üîß –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ API –æ—Ç–≤–µ—Ç:', data);\n00400| \n00401|       if (response.ok && data.success) {\n00402|         updateResult('dellin', {\n00403|           status: 'success',\n00404|           message: `–î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ API —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –ü–æ–ª—É—á–µ–Ω —Ç–∞—Ä–∏—Ñ: ${data.data?.price || 'N/A'} ‚ÇΩ`,\n00405|           details: data.data,\n00406|           response: data,\n00407|           requestData: testData,\n00408|           timing\n00409|         });\n00410|       } else {\n00411|         updateResult('dellin', {\n00412|           status: 'warning',\n00413|           message: `–î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ API –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É: ${data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}`,\n00414|           details: data.details,\n00415|           response: data,\n00416|           requestData: testData,\n00417|           timing\n00418|         });\n00419|       }\n00420|     } catch (error: any) {\n00421|       console.error('üîß –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ API –æ—à–∏–±–∫–∞:', error);\n00422|       updateResult('dellin', {\n00423|         status: 'error',\n00424|         message: `–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ API: ${error.message}`,\n00425|         details: error,\n00426|         timing: Date.now() - startTime\n00427|       });\n00428|     } finally {\n00429|       setIsTestingDellin(false);\n00430|     }\n00431|   };\n00432| \n00433|   const testRailContinentAPI = async () => {\n00434|     setIsTestingRailContinent(true);\n00435|     const startTime = Date.now();\n00436|     \n00437|     try {\n00438|       console.log('üîß –ù–∞—á–∏–Ω–∞–µ–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É Rail Continent API...');\n00439|       \n00440|       const testData = {\n00441|         city_sender: '–ú–æ—Å–∫–≤–∞',\n00442|         city_receiver: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',\n00443|         weight: 10,\n00444|         volume: 0.1,\n00445|         length: 1,\n00446|         width: 1,\n00447|         height: 1,\n00448|         declared_cost: 50000,\n00449|         pickup: '0',\n00450|         delivery: '0',\n00451|         packaging: '0',\n00452|         insurance: '0',\n00453|         tariff: 'auto'\n00454|       };\n00455| \n00456|       const response = await fetch('/api/rail-continent', {\n00457|         method: 'POST',\n00458|         headers: { 'Content-Type': 'application/json' },\n00459|         body: JSON.stringify(testData)\n00460|       });\n00461| \n00462|       const data = await response.json();\n00463|       const timing = Date.now() - startTime;\n00464| \n00465|       console.log('üîß Rail Continent API –æ—Ç–≤–µ—Ç:', data);\n00466| \n00467|       if (response.ok && data.result === 'success') {\n00468|         updateResult('railcontinent', {\n00469|           status: 'success',\n00470|           message: `Rail Continent API —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –ü–æ–ª—É—á–µ–Ω —Ç–∞—Ä–∏—Ñ: ${data.data?.auto?.priceTotal || 'N/A'} ‚ÇΩ`,\n00471|           details: data.data,\n00472|           response: data,\n00473|           requestData: testData,\n00474|           timing\n00475|         });\n00476|       } else {\n00477|         updateResult('railcontinent', {\n00478|           status: 'warning',\n00479|           message: `Rail Continent API –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É: ${data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}`,\n00480|           details: data.details,\n00481|           response: data,\n00482|           requestData: testData,\n00483|           timing\n00484|         });\n00485|       }\n00486|     } catch (error: any) {\n00487|       console.error('üîß Rail Continent API –æ—à–∏–±–∫–∞:', error);\n00488|       updateResult('railcontinent', {\n00489|         status: 'error',\n00490|         message: `–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ Rail Continent API: ${error.message}`,\n00491|         details: error,\n00492|         timing: Date.now() - startTime\n00493|       });\n00494|     } finally {\n00495|       setIsTestingRailContinent(false);\n00496|     }\n00497|   };\n00498| \n00499|   const testVozovozAPI = async () => {\n00500|     setIsTestingVozovoz(true);\n00501|     const startTime = Date.now();\n00502|     \n00503|     try {\n00504|       console.log('üîß –ù–∞—á–∏–Ω–∞–µ–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –í–æ–∑–æ–≤–æ–∑ API...');\n00505|       \n00506|       const testData = {\n00507|         object: \"price\",\n00508|         action: \"get\",\n00509|         params: {\n00510|           cargo: {\n00511|             dimension: {\n00512|               quantity: 1,\n00513|               volume: 0.1,\n00514|               weight: 10\n00515|             }\n00516|           },\n00517|           gateway: {\n00518|             dispatch: {\n00519|               point: {\n00520|                 location: \"–ú–æ—Å–∫–≤–∞\",\n00521|                 terminal: \"default\"\n00522|               }\n00523|             },\n00524|             destination: {\n00525|               point: {\n00526|                 location: \"–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥\",\n00527|                 terminal: \"default\"\n00528|               }\n00529|             }\n00530|           }\n00531|         }\n00532|       };\n00533| \n00534|       const response = await fetch('/api/vozovoz', {\n00535|         method: 'POST',\n00536|         headers: { 'Content-Type': 'application/json' },\n00537|         body: JSON.stringify(testData)\n00538|       });\n00539| \n00540|       const data = await response.json();\n00541|       const timing = Date.now() - startTime;\n00542| \n00543|       console.log('üîß –í–æ–∑–æ–≤–æ–∑ API –æ—Ç–≤–µ—Ç:', data);\n00544| \n00545|       if (response.ok && data.response) {\n00546|         updateResult('vozovoz', {\n00547|           status: 'success',\n00548|           message: `–í–æ–∑–æ–≤–æ–∑ API —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –ü–æ–ª—É—á–µ–Ω —Ç–∞—Ä–∏—Ñ: ${data.response?.price || 'N/A'} ‚ÇΩ`,\n00549|           details: data.response,\n00550|           response: data,\n00551|           requestData: testData,\n00552|           timing\n00553|         });\n00554|       } else {\n00555|         updateResult('vozovoz', {\n00556|           status: 'warning',\n00557|           message: `–í–æ–∑–æ–≤–æ–∑ API –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É: ${data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}`,\n00558|           details: data.details,\n00559|           response: data,\n00560|           requestData: testData,\n00561|           timing\n00562|         });\n00563|       }\n00564|     } catch (error: any) {\n00565|       console.error('üîß –í–æ–∑–æ–≤–æ–∑ API –æ—à–∏–±–∫–∞:', error);\n00566|       updateResult('vozovoz', {\n00567|         status: 'error',\n00568|         message: `–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –í–æ–∑–æ–≤–æ–∑ API: ${error.message}`,\n00569|         details: error,\n00570|         timing: Date.now() - startTime\n00571|       });\n00572|     } finally {\n00573|       setIsTestingVozovoz(false);\n00574|     }\n00575|   };\n00576| \n00577|   const testNordWheelAPI = async () => {\n00578|     setIsTestingNordWheel(true);\n00579|     const startTime = Date.now();\n00580|     \n00581|     try {\n00582|       console.log('üîß –ù–∞—á–∏–Ω–∞–µ–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É Nord Wheel API...');\n00583|       \n00584|       const params = new URLSearchParams({\n00585|         from: '91', // –ú–æ—Å–∫–≤–∞\n00586|         to: '92', // –°–ü–±\n00587|         pickup: '0',\n00588|         deliver: '0',\n00589|         weight: '10',\n00590|         volume: '0.1',\n00591|         oversized: '0',\n00592|         package: '0',\n00593|         packageCount: '1',\n00594|         insurance: '0',\n00595|         sum: '50000',\n00596|         documentsReturn: '0',\n00597|         fragile: '1',\n00598|         length: '1',\n00599|         width: '1',\n00600|         height: '1'\n00601|       });\n00602| \n00603|       const apiUrl = 'https://nordw.ru/tools/api/calc/calculate/';\n00604|       const fullUrl = `${apiUrl}?${params.toString()}`;\n00605|       \n00606|       const response = await fetch(fullUrl);\n00607|       const data = await response.json();\n00608|       const timing = Date.now() - startTime;\n00609| \n00610|       console.log('üîß Nord Wheel API –æ—Ç–≤–µ—Ç:', data);\n00611| \n00612|       if (response.ok && data.status === 'success' && data.data) {\n00613|         updateResult('nordwheel', {\n00614|           status: 'success',\n00615|           message: `Nord Wheel API —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –ü–æ–ª—É—á–µ–Ω —Ç–∞—Ä–∏—Ñ: ${data.data?.total || 'N/A'} ‚ÇΩ`,\n00616|           details: data.data,\n00617|           response: data,\n00618|           requestData: Object.fromEntries(params),\n00619|           timing\n00620|         });\n00621|       } else {\n00622|         updateResult('nordwheel', {\n00623|           status: 'warning',\n00624|           message: `Nord Wheel API –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É: ${data.error || data.message || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}`,\n00625|           details: data.details,\n00626|           response: data,\n00627|           requestData: Object.fromEntries(params),\n00628|           timing\n00629|         });\n00630|       }\n00631|     } catch (error: any) {\n00632|       console.error('üîß Nord Wheel API –æ—à–∏–±–∫–∞:', error);\n00633|       updateResult('nordwheel', {\n00634|         status: 'error',\n00635|         message: `–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ Nord Wheel API: ${error.message}`,\n00636|         details: error,\n00637|         timing: Date.now() - startTime\n00638|       });\n00639|     } finally {\n00640|       setIsTestingNordWheel(false);\n00641|     }\n00642|   };\n00643| \n00644|   const testAllAPIs = async () => {\n00645|     await Promise.all([\n00646|       testPEKAPI(),\n00647|       testDellinAPI(), \n00648|       testRailContinentAPI(),\n00649|       testVozovozAPI(),\n00650|       testNordWheelAPI()\n00651|     ]);\n00652|   };\n00653| \n00654|   // üîß –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≥—Ä—É–∑–æ–≤—ã—Ö –º–µ—Å—Ç\n00655|   const generateTestCargos = (count: number, variant: 'small' | 'medium' | 'large' | 'mixed' = 'mixed') => {\n00656|     const cargos: Array<{length: number; width: number; height: number; weight: number}> = [];\n00657|     \n00658|     for (let i = 0; i < count; i++) {\n00659|       let cargo;\n00660|       \n00661|       switch (variant) {\n00662|         case 'small':\n00663|           cargo = {\n00664|             length: 30 + Math.floor(Math.random() * 70),  // 30-100 —Å–º\n00665|             width: 20 + Math.floor(Math.random() * 50),   // 20-70 —Å–º\n00666|             height: 15 + Math.floor(Math.random() * 35),  // 15-50 —Å–º\n00667|             weight: 1 + Math.floor(Math.random() * 19)    // 1-20 –∫–≥\n00668|           };\n00669|           break;\n00670|         case 'medium':\n00671|           cargo = {\n00672|             length: 80 + Math.floor(Math.random() * 70),  // 80-150 —Å–º\n00673|             width: 60 + Math.floor(Math.random() * 60),   // 60-120 —Å–º\n00674|             height: 40 + Math.floor(Math.random() * 80),  // 40-120 —Å–º\n00675|             weight: 15 + Math.floor(Math.random() * 35)   // 15-50 –∫–≥\n00676|           };\n00677|           break;\n00678|         case 'large':\n00679|           cargo = {\n00680|             length: 150 + Math.floor(Math.random() * 100), // 150-250 —Å–º (–Ω–µ–≥–∞–±–∞—Ä–∏—Ç)\n00681|             width: 120 + Math.floor(Math.random() * 80),   // 120-200 —Å–º\n00682|             height: 100 + Math.floor(Math.random() * 100), // 100-200 —Å–º\n00683|             weight: 40 + Math.floor(Math.random() * 460)   // 40-500 –∫–≥\n00684|           };\n00685|           break;\n00686|         default: // mixed\n00687|           const types = ['small', 'medium', 'large'] as const;\n00688|           const randomType = types[Math.floor(Math.random() * types.length)];\n00689|           cargo = generateTestCargos(1, randomType)[0];\n00690|           break;\n00691|       }\n00692|       \n00693|       cargos.push(cargo);\n00694|     }\n00695|     \n00696|     return cargos;\n00697|   };\n00698| \n00699|   // üîß –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤—Å–µ—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –æ–ø—Ü–∏–π —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏\n00700|   const generateOptionsCombinations = () => {\n00701|     const combinations: any[] = [];\n00702|     const options = [\n00703|       { name: 'fromAddressDelivery', values: [true, false] },\n00704|       { name: 'toAddressDelivery', values: [true, false] },\n00705|       { name: 'needPackaging', values: [true, false] },\n00706|       { name: 'needInsurance', values: [true, false] }\n00707|     ];\n00708| \n00709|     // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ (2^4 = 16 –∫–æ–º–±–∏–Ω–∞—Ü–∏–π)\n00710|     for (let i = 0; i < Math.pow(2, options.length); i++) {\n00711|       const combination: any = {\n00712|         fromCity: '–ú–æ—Å–∫–≤–∞',\n00713|         toCity: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',\n00714|         fromAddress: '—É–ª. –¢–≤–µ—Ä—Å–∫–∞—è, 1',\n00715|         toAddress: '–ù–µ–≤—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, 1',\n00716|         declaredValue: 50000\n00717|       };\n00718|       \n00719|       options.forEach((option, index) => {\n00720|         combination[option.name] = Boolean(i & (1 << index));\n00721|       });\n00722|       \n00723|       combinations.push(combination);\n00724|     }\n00725|     \n00726|     // –î–æ–±–∞–≤–ª—è–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ —Å—Ç–æ–∏–º–æ—Å—Ç—è–º–∏\n00727|     const specialCombinations = [\n00728|       { ...combinations[0], declaredValue: 10000, testCase: 'low_value' },\n00729|       { ...combinations[0], declaredValue: 100000, testCase: 'medium_value' },\n00730|       { ...combinations[0], declaredValue: 500000, testCase: 'high_value' },\n00731|       { ...combinations[0], declaredValue: 1000000, testCase: 'very_high_value' },\n00732|       // –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤\n00733|       { ...combinations[0], fromCity: '–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥', toCity: '–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫', testCase: 'long_distance' },\n00734|       { ...combinations[0], fromCity: '–ú–æ—Å–∫–≤–∞', toCity: '–ú—ã—Ç–∏—â–∏', testCase: 'short_distance' }\n00735|     ];\n00736|     \n00737|     return [...combinations, ...specialCombinations];\n00738|   };\n00739| \n00740|   // üîß –§—É–Ω–∫—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ–¥–Ω–æ–π –¢–ö —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏\n00741|   const testSingleTK = async (tkName: string, testData: any) => {\n00742|     const startTime = Date.now();\n00743|     let apiUrl = '';\n00744|     let requestData: any = {};\n00745|     \n00746|     try {\n00747|       switch (tkName) {\n00748|         case 'pek':\n00749|           apiUrl = '/api/pek';\n00750|           requestData = { method: 'calculateprice', ...testData };\n00751|           break;\n00752|         case 'dellin':\n00753|           // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä—è–º–æ–π —Ä–∞—Å—á–µ—Ç –∫–∞–∫ –≤ –≥–ª–∞–≤–Ω–æ–º –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–µ\n00754|           apiUrl = 'DELLIN_DIRECT';\n00755|           requestData = testData;\n00756|           break;\n00757|         case 'railcontinent':\n00758|           apiUrl = '/api/rail-continent';\n00759|           requestData = {\n00760|             city_sender: testData.fromCity,\n00761|             city_receiver: testData.toCity,\n00762|             weight: testData.cargos.reduce((sum: number, cargo: any) => sum + cargo.weight, 0),\n00763|             volume: testData.cargos.reduce((sum: number, cargo: any) => \n00764|               sum + (cargo.length * cargo.width * cargo.height) / 1000000, 0\n00765|             ),\n00766|             quantity: testData.cargos.length, // üîß –ù–æ–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä\n00767|             length: Math.max(...testData.cargos.map((c: any) => c.length)) / 100,\n00768|             width: Math.max(...testData.cargos.map((c: any) => c.width)) / 100,\n00769|             height: Math.max(...testData.cargos.map((c: any) => c.height)) / 100,\n00770|             declared_cost: testData.declaredValue,\n00771|             pickup: testData.fromAddressDelivery ? '1' : '0',\n00772|             delivery: testData.toAddressDelivery ? '1' : '0',\n00773|             packaging: testData.needPackaging ? '1' : '0',\n00774|             insurance: testData.needInsurance ? '1' : '0',\n00775|             tariff: 'auto'\n00776|           };\n00777|           break;\n00778|         case 'vozovoz':\n00779|           apiUrl = '/api/vozovoz';\n00780|           requestData = {\n00781|             object: \"price\",\n00782|             action: \"get\",\n00783|             params: {\n00784|               cargo: {\n00785|                 dimension: {\n00786|                   quantity: testData.cargos.length,\n00787|                   volume: testData.cargos.reduce((sum: number, cargo: any) => \n00788|                     sum + (cargo.length * cargo.width * cargo.height) / 1000000, 0\n00789|                   ),\n00790|                   weight: testData.cargos.reduce((sum: number, cargo: any) => sum + cargo.weight, 0)\n00791|                 },\n00792|                 ...(testData.needInsurance && testData.declaredValue > 0 ? {\n00793|                   insurance: testData.declaredValue\n00794|                 } : {}),\n00795|                 ...(testData.needPackaging ? {\n00796|                   wrapping: {\n00797|                     palletCollar: testData.cargos.reduce((sum: number, cargo: any) => \n00798|                       sum + (cargo.length * cargo.width * cargo.height) / 1000000, 0\n00799|                     )\n00800|                   }\n00801|                 } : {})\n00802|               },\n00803|               gateway: {\n00804|                 dispatch: {\n00805|                   point: {\n00806|                     location: testData.fromCity,\n00807|                     ...(testData.fromAddressDelivery ? {\n00808|                       address: testData.fromAddress || \"–∞–¥—Ä–µ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è\"\n00809|                     } : {\n00810|                       terminal: \"default\"\n00811|                     })\n00812|                   }\n00813|                 },\n00814|                 destination: {\n00815|                   point: {\n00816|                     location: testData.toCity,\n00817|                     ...(testData.toAddressDelivery ? {\n00818|                       address: testData.toAddress || \"–∞–¥—Ä–µ—Å –ø–æ–ª—É—á–µ–Ω–∏—è\"\n00819|                     } : {\n00820|                       terminal: \"default\"\n00821|                     })\n00822|                   }\n00823|                 }\n00824|               }\n00825|             }\n00826|           };\n00827|           break;\n00828|         case 'nordwheel':\n00829|           const totalWeight = testData.cargos.reduce((sum: number, cargo: any) => sum + cargo.weight, 0);\n00830|           const totalVolume = testData.cargos.reduce((sum: number, cargo: any) => \n00831|             sum + (cargo.length * cargo.width * cargo.height) / 1000000, 0\n00832|           );\n00833|           const maxLength = Math.max(...testData.cargos.map((c: any) => c.length));\n00834|           const maxWidth = Math.max(...testData.cargos.map((c: any) => c.width));\n00835|           const maxHeight = Math.max(...testData.cargos.map((c: any) => c.height));\n00836|           const isOversized = maxLength > 200 || maxWidth > 200 || maxHeight > 200 || totalWeight > 1000;\n00837|           \n00838|           const params = new URLSearchParams({\n00839|             from: '91',\n00840|             to: '92',\n00841|             pickup: testData.fromAddressDelivery ? '1' : '0',\n00842|             deliver: testData.toAddressDelivery ? '1' : '0',\n00843|             weight: totalWeight.toString(),\n00844|             volume: totalVolume.toString(),\n00845|             oversized: isOversized ? '1' : '0',\n00846|             package: testData.needPackaging ? '1' : '0',\n00847|             packageCount: testData.cargos.length.toString(),\n00848|             insurance: testData.needInsurance ? '1' : '0',\n00849|             sum: testData.declaredValue.toString(),\n00850|             documentsReturn: '0',\n00851|             fragile: '1',\n00852|             length: (maxLength / 100).toString(),\n00853|             width: (maxWidth / 100).toString(),\n00854|             height: (maxHeight / 100).toString(),\n00855|             multiplePackages: testData.cargos.length > 1 ? '1' : '0'\n00856|           });\n00857|           \n00858|           apiUrl = `https://nordw.ru/tools/api/calc/calculate/?${params.toString()}`;\n00859|           requestData = Object.fromEntries(params);\n00860|           break;\n00861|       }\n00862| \n00863|       let response: any;\n00864|       let data: any;\n00865| \n00866|       if (tkName === 'nordwheel') {\n00867|         response = await fetch(apiUrl);\n00868|         data = await response.json();\n00869|       } else if (tkName === 'dellin') {\n00870|         // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ –≤ –º–∞—Å—Å–æ–≤–æ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏–∑-–∑–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏\n00871|         return {\n00872|           tk: tkName,\n00873|           status: 'skipped',\n00874|           message: '–ü—Ä–æ–ø—É—â–µ–Ω–æ (—Å–ª–æ–∂–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)',\n00875|           timing: Date.now() - startTime,\n00876|           requestData,\n00877|           cargoCount: testData.cargos.length\n00878|         };\n00879|       } else {\n00880|         response = await fetch(apiUrl, {\n00881|           method: 'POST',\n00882|           headers: { 'Content-Type': 'application/json' },\n00883|           body: JSON.stringify(requestData)\n00884|         });\n00885|         data = await response.json();\n00886|       }\n00887| \n00888|       const timing = Date.now() - startTime;\n00889| \n00890|       // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¢–ö\n00891|       let isSuccess = false;\n00892|       let price = 0;\n00893|       \n00894|       switch (tkName) {\n00895|         case 'pek':\n00896|           isSuccess = response.ok && data.success;\n00897|           price = data.data?.price || 0;\n00898|           break;\n00899|         case 'railcontinent':\n00900|           isSuccess = response.ok && data.result === 'success';\n00901|           price = data.data?.auto?.priceTotal || 0;\n00902|           break;\n00903|         case 'vozovoz':\n00904|           isSuccess = response.ok && data.response;\n00905|           price = data.response?.price || 0;\n00906|           break;\n00907|         case 'nordwheel':\n00908|           isSuccess = response.ok && data.status === 'success' && data.data;\n00909|           price = data.data?.total || 0;\n00910|           break;\n00911|       }\n00912| \n00913|       return {\n00914|         tk: tkName,\n00915|         status: isSuccess ? 'success' : 'error',\n00916|         message: isSuccess ? `–¢–∞—Ä–∏—Ñ: ${price} ‚ÇΩ` : (data.error || data.message || '–û—à–∏–±–∫–∞'),\n00917|         timing,\n00918|         price,\n00919|         requestData,\n00920|         responseData: data,\n00921|         cargoCount: testData.cargos.length\n00922|       };\n00923| \n00924|     } catch (error: any) {\n00925|       return {\n00926|         tk: tkName,\n00927|         status: 'error',\n00928|         message: `–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞: ${error.message}`,\n00929|         timing: Date.now() - startTime,\n00930|         requestData,\n00931|         cargoCount: testData.cargos.length,\n00932|         error: error.message\n00933|       };\n00934|     }\n00935|   };\n00936| \n00937|   // üîß –†–ê–°–®–ò–†–ï–ù–ù–û–ï –ü–û–õ–ù–û–ï –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï\n00938|   const runFullTesting = async () => {\n00939|     setIsFullTesting(true);\n00940|     setFullTestResults(null);\n00941|     setTestProgress(null);\n00942|     \n00943|     const allResults: any[] = [];\n00944|     const errors: string[] = [];\n00945|     let totalTests = 0;\n00946|     let successful = 0;\n00947|     let skipped = 0;\n00948|     let totalResponseTime = 0;\n00949|     \n00950|     console.log('üß™ ===== –ù–ê–ß–ê–õ–û –†–ê–°–®–ò–†–ï–ù–ù–û–ì–û –ü–û–õ–ù–û–ì–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø =====');\n00951|     \n00952|     try {\n00953|       const transportCompanies = ['pek', 'railcontinent', 'vozovoz', 'nordwheel', 'dellin'];\n00954|       // –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≥—Ä—É–∑–æ–≤—ã—Ö –º–µ—Å—Ç\n00955|       const cargoCountTests = [1, 2, 3, 5, 7, 10, 15, 20, 25, 30, 40, 50];\n00956|       const cargoVariants = ['small', 'medium', 'large', 'mixed'] as const;\n00957|       const optionCombinations = generateOptionsCombinations();\n00958|       \n00959|       // –ü–ª–∞–Ω–∏—Ä—É–µ–º –±–æ–ª–µ–µ –ø–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ\n00960|       const totalPlannedTests = transportCompanies.length * cargoCountTests.length * cargoVariants.length * Math.min(optionCombinations.length, 8);\n00961|       \n00962|       console.log(`üß™ –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è —Ç–µ—Å—Ç–æ–≤: ${totalPlannedTests} (${transportCompanies.length} –¢–ö √ó ${cargoCountTests.length} –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –º–µ—Å—Ç √ó ${cargoVariants.length} —Ç–∏–ø–æ–≤ –≥—Ä—É–∑–∞ √ó –¥–æ 8 –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –æ–ø—Ü–∏–π)`);\n00963|       \n00964|       for (const tk of transportCompanies) {\n00965|         console.log(`üß™ –ù–∞—á–∏–Ω–∞–µ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ${tk.toUpperCase()}...`);\n00966|         \n00967|         setTestProgress({\n00968|           currentTK: tk.toUpperCase(),\n00969|           completedTests: totalTests,\n00970|           totalPlannedTests,\n00971|           stage: '–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è'\n00972|         });\n00973|         \n00974|         let testsForCurrentTK = 0;\n00975|         const maxTestsPerTK = 150; // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –ª–∏–º–∏—Ç –¥–ª—è –±–æ–ª–µ–µ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è\n00976|         \n00977|         // –¢–µ—Å—Ç–∏—Ä—É–µ–º —Ä–∞–∑–ª–∏—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥—Ä—É–∑–æ–≤—ã—Ö –º–µ—Å—Ç\n00978|         for (const cargoCount of cargoCountTests) {\n00979|           if (testsForCurrentTK >= maxTestsPerTK) {\n00980|             console.log(`‚ö†Ô∏è –î–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç —Ç–µ—Å—Ç–æ–≤ –¥–ª—è ${tk} (${maxTestsPerTK})`);\n00981|             break;\n00982|           }\n00983|           \n00984|           setTestProgress({\n00985|             currentTK: tk.toUpperCase(),\n00986|             completedTests: totalTests,\n00987|             totalPlannedTests,\n00988|             stage: `–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ${cargoCount} –≥—Ä—É–∑–æ–≤—ã—Ö –º–µ—Å—Ç`\n00989|           });\n00990|           \n00991|           // –¢–µ—Å—Ç–∏—Ä—É–µ–º —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –≥—Ä—É–∑–æ–≤\n00992|           for (const cargoVariant of cargoVariants) {\n00993|             if (testsForCurrentTK >= maxTestsPerTK) break;\n00994|             \n00995|             // –í—ã–±–∏—Ä–∞–µ–º —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –æ–ø—Ü–∏–π\n00996|             const selectedCombinations = [\n00997|               optionCombinations[0],  // –ë–∞–∑–æ–≤–∞—è (–≤—Å–µ false)\n00998|               optionCombinations[15], // –í—Å–µ —É—Å–ª—É–≥–∏ (–≤—Å–µ true)\n00999|               optionCombinations[5],  // –ß–∞—Å—Ç–∏—á–Ω–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è 1\n01000|               optionCombinations[10], // –ß–∞—Å—Ç–∏—á–Ω–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è 2\n01001|               ...optionCombinations.filter(c => c.testCase).slice(0, 4) // –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏\n01002|             ].slice(0, Math.min(8, Math.ceil(maxTestsPerTK / (cargoCountTests.length * cargoVariants.length))));\n01003|             \n01004|             for (const options of selectedCombinations) {\n01005|               if (testsForCurrentTK >= maxTestsPerTK) break;\n01006|               \n01007|               const testData = {\n01008|                 ...options,\n01009|                 cargos: generateTestCargos(cargoCount, cargoVariant),\n01010|                 testMetadata: {\n01011|                   cargoVariant,\n01012|                   cargoCount,\n01013|                   testCase: options.testCase || 'standard'\n01014|                 }\n01015|               };\n01016|               \n01017|               const activeOptions = Object.entries(options)\n01018|                 .filter(([k, v]) => typeof v === 'boolean' && v && !['testCase'].includes(k))\n01019|                 .map(([k]) => k)\n01020|                 .join(', ') || '–±–∞–∑–æ–≤—ã–µ';\n01021|               \n01022|               console.log(`üß™ ${tk}: ${cargoCount} –º–µ—Å—Ç (${cargoVariant}), –æ–ø—Ü–∏–∏: [${activeOptions}]${options.testCase ? ` - ${options.testCase}` : ''}`);\n01023|               \n01024|               setTestProgress({\n01025|                 currentTK: tk.toUpperCase(),\n01026|                 completedTests: totalTests,\n01027|                 totalPlannedTests,\n01028|                 stage: `${cargoCount} –º–µ—Å—Ç (${cargoVariant}) - ${activeOptions}`\n01029|               });\n01030|               \n01031|               const result = await testSingleTK(tk, testData);\n01032|               allResults.push({\n01033|                 ...result,\n01034|                 testMetadata: testData.testMetadata\n01035|               });\n01036|               \n01037|               totalTests++;\n01038|               testsForCurrentTK++;\n01039|               \n01040|               if (result.timing) {\n01041|                 totalResponseTime += result.timing;\n01042|               }\n01043|               \n01044|               if (result.status === 'success') {\n01045|                 successful++;\n01046|                 console.log(`‚úÖ ${tk}: ${result.message} (${result.timing}ms)`);\n01047|               } else if (result.status === 'skipped') {\n01048|                 skipped++;\n01049|                 console.log(`‚è≠Ô∏è ${tk}: ${result.message}`);\n01050|               } else {\n01051|                 console.log(`‚ùå ${tk}: ${result.message} (${result.timing || 0}ms)`);\n01052|                 errors.push(`${tk} (${cargoCount} –º–µ—Å—Ç, ${cargoVariant}): ${result.message}`);\n01053|               }\n01054|               \n01055|               // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞\n01056|               if (totalTests % 10 === 0) {\n01057|                 const currentSuccessRate = totalTests > 0 ? (successful / totalTests) * 100 : 0;\n01058|                 console.log(`üìä –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã: ${totalTests} —Ç–µ—Å—Ç–æ–≤, ${successful} —É—Å–ø–µ—à–Ω—ã—Ö (${currentSuccessRate.toFixed(1)}%)`);\n01059|               }\n01060|               \n01061|               // –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –ø–∞—É–∑–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏\n01062|               const pauseTime = result.status === 'error' ? 500 : 200;\n01063|               await new Promise(resolve => setTimeout(resolve, pauseTime));\n01064|             }\n01065|           }\n01066|         }\n01067|         \n01068|         console.log(`üèÅ –ó–∞–≤–µ—Ä—à–µ–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ${tk.toUpperCase()}: ${testsForCurrentTK} —Ç–µ—Å—Ç–æ–≤`);\n01069|       }\n01070|       \n01071|       const averageResponseTime = totalTests > 0 ? Math.round(totalResponseTime / (totalTests - skipped)) : 0;\n01072|       const successRate = totalTests > 0 ? (successful / totalTests) * 100 : 0;\n01073|       \n01074|       const summary = {\n01075|         totalTests,\n01076|         successful,\n01077|         failed: totalTests - successful - skipped,\n01078|         skipped,\n01079|         errors,\n01080|         averageResponseTime,\n01081|         successRate\n01082|       };\n01083|       \n01084|       setFullTestResults({\n01085|         summary,\n01086|         details: allResults,\n01087|         progressInfo: null\n01088|       });\n01089|       \n01090|       // –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞\n01091|       console.log('üß™ ===== –†–ï–ó–£–õ–¨–¢–ê–¢–´ –†–ê–°–®–ò–†–ï–ù–ù–û–ì–û –ü–û–õ–ù–û–ì–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø =====');\n01092|       console.log(`üìä –í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤: ${totalTests}`);\n01093|       console.log(`‚úÖ –£—Å–ø–µ—à–Ω—ã—Ö: ${successful}`);\n01094|       console.log(`‚ùå –ù–µ—É–¥–∞—á–Ω—ã—Ö: ${totalTests - successful - skipped}`);\n01095|       console.log(`‚è≠Ô∏è –ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö: ${skipped}`);\n01096|       console.log(`üìà –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—Ö–∞: ${successRate.toFixed(1)}%`);\n01097|       console.log(`‚è±Ô∏è –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: ${averageResponseTime}ms`);\n01098|       \n01099|       // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –¢–ö\n01100|       const tkStats = transportCompanies.map(tk => {\n01101|         const tkResults = allResults.filter(r => r.tk === tk);\n01102|         const tkSuccessful = tkResults.filter(r => r.status === 'success').length;\n01103|         const tkTotal = tkResults.length;\n01104|         return {\n01105|           tk: tk.toUpperCase(),\n01106|           tests: tkTotal,\n01107|           successful: tkSuccessful,\n01108|           successRate: tkTotal > 0 ? (tkSuccessful / tkTotal) * 100 : 0\n01109|         };\n01110|       });\n01111|       \n01112|       console.log('üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –¢–ö:');\n01113|       tkStats.forEach(stat => {\n01114|         console.log(`   ${stat.tk}: ${stat.successful}/${stat.tests} (${stat.successRate.toFixed(1)}%)`);\n01115|       });\n01116|       \n01117|       if (errors.length > 0) {\n01118|         console.log('‚ùå –û—Å–Ω–æ–≤–Ω—ã–µ –æ—à–∏–±–∫–∏:');\n01119|         // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –æ—à–∏–±–∫–∏ –ø–æ —Ç–∏–ø–∞–º\n01120|         const errorGroups = errors.reduce((acc, error) => {\n01121|           const key = error.split(':')[0];\n01122|           acc[key] = (acc[key] || 0) + 1;\n01123|           return acc;\n01124|         }, {} as {[key: string]: number});\n01125|         \n01126|         Object.entries(errorGroups).forEach(([errorType, count]) => {\n01127|           console.log(`   - ${errorType}: ${count} —Ä–∞–∑`);\n01128|         });\n01129|       }\n01130|       \n01131|     } catch (error: any) {\n01132|       console.error('üß™ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:', error);\n01133|       errors.push(`–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞: ${error.message}`);\n01134|       \n01135|       setFullTestResults({\n01136|         summary: { \n01137|           totalTests, \n01138|           successful, \n01139|           failed: totalTests - successful - skipped, \n01140|           skipped,\n01141|           errors,\n01142|           averageResponseTime: 0,\n01143|           successRate: 0\n01144|         },\n01145|         details: allResults,\n01146|         progressInfo: null\n01147|       });\n01148|     } finally {\n01149|       setIsFullTesting(false);\n01150|       setTestProgress(null);\n01151|       console.log('üß™ ===== –ö–û–ù–ï–¶ –†–ê–°–®–ò–†–ï–ù–ù–û–ì–û –ü–û–õ–ù–û–ì–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø =====');\n01152|     }\n01153|   };\n01154| \n01155|   const getStatusIcon = (status: string) => {\n01156|     switch (status) {\n01157|       case 'success': return <CheckCircle className=\"h-4 w-4 text-green-400\" />;\n01158|       case 'warning': return <AlertCircle className=\"h-4 w-4 text-yellow-400\" />;\n01159|       case 'error': return <XCircle className=\"h-4 w-4 text-red-400\" />;\n01160|       default: return <Activity className=\"h-4 w-4 text-gray-400\" />;\n01161|     }\n01162|   };\n01163| \n01164|   const getStatusColor = (status: string) => {\n01165|     switch (status) {\n01166|       case 'success': return 'border-green-500 bg-green-900/20';\n01167|       case 'warning': return 'border-yellow-500 bg-yellow-900/20';\n01168|       case 'error': return 'border-red-500 bg-red-900/20';\n01169|       default: return 'border-gray-500 bg-gray-900/20';\n01170|     }\n01171|   };\n01172| \n01173|   return (\n01174|     <div className=\"min-h-screen bg-gray-950 text-white p-6\">\n01175|       <div className=\"max-w-6xl mx-auto\">\n01176|         <div className=\"mb-6\">\n01177|           <h1 className=\"text-3xl font-bold mb-2\">–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π</h1>\n01178|           <p className=\"text-gray-400\">–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ API –≤—Å–µ—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã—Ö –¢–ö</p>\n01179|         </div>\n01180| \n01181|         <div className=\"flex gap-4 mb-6 flex-wrap\">\n01182|           <Button onClick={testAllAPIs} className=\"bg-blue-600 hover:bg-blue-700\">\n01183|             <Activity className=\"h-4 w-4 mr-2\" />\n01184|             –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ API\n01185|           </Button>\n01186|           <Button \n01187|             onClick={runFullTesting} \n01188|             disabled={isFullTesting}\n01189|             className=\"bg-purple-600 hover:bg-purple-700\"\n01190|           >\n01191|             <TestTube className=\"h-4 w-4 mr-2\" />\n01192|             {isFullTesting ? '–ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...' : '–ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ'}\n01193|           </Button>\n01194|           <Button onClick={() => window.open('/env-check', '_blank')} variant=\"outline\" className=\"text-black bg-white border-gray-300 hover:bg-gray-100\">\n01195|             <Building2 className=\"h-4 w-4 mr-2\" />\n01196|             –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è\n01197|           </Button>\n01198|           <Button \n01199|             onClick={() => {\n01200|               window.open('https://docs.google.com/spreadsheets/d/1e0P91PfGKVIuSWDY0ceWkIE7jD-vzD_xrIesBeQno1Y/edit?gid=0#gid=0', '_blank');\n01201|             }} \n01202|             variant=\"outline\" \n01203|             className=\"bg-green-600 hover:bg-green-700 text-white border-green-600\"\n01204|             title=\"–û—Ç–∫—Ä—ã—Ç—å Google Sheets —Å –±–∞–∑–æ–π —Ç–æ–≤–∞—Ä–æ–≤ –∏ —Ä–∞–∑–º–µ—Ä–æ–≤\"\n01205|           >\n01206|             <ExternalLink className=\"h-4 w-4 mr-2\" />\n01207|             –ë–∞–∑–∞ —Ç–æ–≤–∞—Ä–æ–≤\n01208|           </Button>\n01209|           <Button \n01210|             onClick={updateProductData}\n01211|             disabled={isUpdatingData}\n01212|             variant=\"outline\"\n01213|             className={\n01214|               updateStatus === 'success' \n01215|                 ? \"bg-green-600 hover:bg-green-700 text-white border-green-600\" \n01216|                 : updateStatus === 'error'\n01217|                 ? \"bg-red-600 hover:bg-red-700 text-white border-red-600\"\n01218|                 : \"bg-blue-600 hover:bg-blue-700 text-white border-blue-600\"\n01219|             }\n01220|             title=\"–û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ —Ç–æ–≤–∞—Ä–∞—Ö –∏–∑ Google Sheets\"\n01221|           >\n01222|             {updateStatus === 'updating' ? (\n01223|               <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n01224|             ) : (\n01225|               <Download className=\"h-4 w-4 mr-2\" />\n01226|             )}\n01227|             {updateStatus === 'updating' && '–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ...'}\n01228|             {updateStatus === 'success' && '–û–±–Ω–æ–≤–ª–µ–Ω–æ!'}\n01229|             {updateStatus === 'error' && '–û—à–∏–±–∫–∞'}\n01230|             {updateStatus === 'idle' && '–û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ'}\n01231|           </Button>\n01232|           <Button onClick={() => window.close()} variant=\"outline\" className=\"text-black bg-white border-gray-300 hover:bg-gray-100\">\n01233|             –ó–∞–∫—Ä—ã—Ç—å\n01234|           </Button>\n01235|         </div>\n01236| \n01237|         {/* –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ Google Sheets */}\n01238|         <Alert className=\"border-green-500 bg-green-900/20 mb-6\">\n01239|           <ExternalLink className=\"h-4 w-4\" />\n01240|           <AlertDescription>\n01241|             <strong>–ë–∞–∑–∞ —Ç–æ–≤–∞—Ä–æ–≤ –∏ —Ä–∞–∑–º–µ—Ä–æ–≤:</strong> –ö–ª–∏–∫–Ω–∏—Ç–µ –∫–Ω–æ–ø–∫—É \"–ë–∞–∑–∞ —Ç–æ–≤–∞—Ä–æ–≤\" –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è Google Sheets —Å –ø–æ–ª–Ω–æ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –æ —Ç–æ–≤–∞—Ä–∞—Ö.\n01242|             <br /><br />\n01243|             <strong>üîÑ –ü–û–õ–ù–û–ï –û–ë–ù–û–í–õ–ï–ù–ò–ï –î–ê–ù–ù–´–•:</strong> –ö–Ω–æ–ø–∫–∞ \"–û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ\" –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ü–û–õ–ù–£–Æ –û–ß–ò–°–¢–ö–£ –≤—Å–µ—Ö —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö –æ —Ç–æ–≤–∞—Ä–∞—Ö –∏ –≥—Ä—É–∑–æ–≤—ã—Ö –º–µ—Å—Ç–∞—Ö, –∑–∞—Ç–µ–º –∑–∞–Ω–æ–≤–æ –ø–∞—Ä—Å–∏—Ç –≤—Å—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ Google Sheets. –≠—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç:\n01244|             <ul className=\"list-disc list-inside mt-2 mb-2 space-y-1\">\n01245|               <li>üßπ –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –æ —Ç–æ–≤–∞—Ä–∞—Ö –∏–∑ localStorage</li>\n01246|               <li>üóëÔ∏è –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –±—Ä–∞—É–∑–µ—Ä–∞ –∏ —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∫—ç—à–∞ API</li>\n01247|               <li>üì• –ù–æ–≤—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ Google Sheets CSV</li>\n01248|               <li>üîÑ –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å —Ç–æ–≤–∞—Ä–∞–º–∏</li>\n01249|               <li>üì° –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≥–ª–∞–≤–Ω–æ–≥–æ –æ–∫–Ω–∞ –æ –ø–æ–ª–Ω–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏</li>\n01250|             </ul>\n01251|             {lastUpdateTime && (\n01252|               <><strong>–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:</strong> {lastUpdateTime}<br /><br /></>\n01253|             )}\n01254|             <strong>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ Google Sheets:</strong>\n01255|             <ul className=\"list-disc list-inside mt-2 space-y-1\">\n01256|               <li>ID —Ç–æ–≤–∞—Ä–∞ –∏ –≤–Ω–µ—à–Ω–∏–π –∫–æ–¥</li>\n01257|               <li>–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</li>\n01258|               <li>–¶–µ–Ω–∞ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è</li>\n01259|               <li>–î–æ 7 –≥—Ä—É–∑–æ–≤—ã—Ö –º–µ—Å—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞</li>\n01260|               <li>–î–ª—è –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—Ç–∞: –≤–µ—Å, –≤—ã—Å–æ—Ç–∞, –≥–ª—É–±–∏–Ω–∞, –¥–ª–∏–Ω–∞</li>\n01261|               <li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª —Ä–∞–∑–º–µ—â–µ–Ω–∏—è</li>\n01262|             </ul>\n01263|           </AlertDescription>\n01264|         </Alert>\n01265| \n01266|         {/* –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã */}\n01267|         <Card className=\"border-purple-500 bg-purple-900/20 mb-6\">\n01268|           <CardHeader>\n01269|             <CardTitle className=\"flex items-center gap-2\">\n01270|               <Activity className=\"h-5 w-5 text-purple-400\" />\n01271|               –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏\n01272|             </CardTitle>\n01273|           </CardHeader>\n01274|           <CardContent>\n01275|             <div className=\"space-y-4\">\n01276|               <div className=\"bg-gray-800 p-4 rounded\">\n01277|                 <h3 className=\"font-medium text-purple-400 mb-3\">üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã:</h3>\n01278|                 <ul className=\"text-sm space-y-2 text-gray-300\">\n01279|                   <li>‚Ä¢ <strong>–ù–µ —Å—Ä–µ–∑–∞—Ç—å —É–≥–ª—ã:</strong> –ù–∞–π—Ç–∏ –∫–æ—Ä–Ω–µ–≤—É—é –ø—Ä–æ–±–ª–µ–º—É, –∞ –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã</li>\n01280|                   <li>‚Ä¢ <strong>–¢–æ—á–µ—á–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:</strong> –ù–µ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å —Ñ–∞–π–ª—ã —Ü–µ–ª–∏–∫–æ–º, –¥–µ–ª–∞—Ç—å —Ç–æ—á–µ—á–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è</li>\n01281|                   <li>‚Ä¢ <strong>–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ –¥–µ–π—Å—Ç–≤–∏–µ–º:</strong> –ï—Å–ª–∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å &lt;0.95, –¥–µ–ª–∞—Ç—å –¥–∏–ø-—Ä–µ—Å–µ—Ä—á</li>\n01282|                   <li>‚Ä¢ <strong>–ê–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å:</strong> –î–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ, –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –æ—à–∏–±–∫–∏, –∫–æ–º–º–∏—Ç–∏—Ç—å</li>\n01283|                   <li>‚Ä¢ <strong>–£–∫–∞–∑—ã–≤–∞—Ç—å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å:</strong> –î–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è —É–∫–∞–∑—ã–≤–∞—Ç—å —É—Ä–æ–≤–µ–Ω—å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏</li>\n01284|                 </ul>\n01285|               </div>\n01286|               \n01287|               <div className=\"bg-gray-800 p-4 rounded\">\n01288|                 <h3 className=\"font-medium text-purple-400 mb-3\">üîç –ü—Ä–æ—Ç–æ–∫–æ–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ (Challenge Protocol):</h3>\n01289|                 <ol className=\"text-sm space-y-2 text-gray-300 list-decimal list-inside\">\n01290|                   <li>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –ø—Ä–æ—á–∏—Ç–∞—Ç—å –ª–æ–≥–∏, –≤—ã–ø–∏—Å–∞—Ç—å —á—Ç–æ –Ω–µ —É—á–µ–ª –∏ –≥–¥–µ –æ—à–∏–±—Å—è</li>\n01291|                   <li>–§–∞–ª—å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –≤—ã–≤–æ–¥ –∏ –≥–∏–ø–æ—Ç–µ–∑—É - –ø—Ä–æ—Ç–æ–∫–æ–ª —á–µ–ª–µ–Ω–¥–∂</li>\n01292|                   <li>–ù–∞–≤–µ—Å—Ç–∏ –ø–æ—Ä—è–¥–æ–∫, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ñ–∞–π–ª—ã –Ω–∞ —Å–≤–æ–∏—Ö –º–µ—Å—Ç–∞—Ö</li>\n01293|                   <li>–í—ã–ø–∏—Å–∞—Ç—å —á—Ç–æ –Ω–µ —É—á–µ–ª, —á—Ç–æ –±—É–¥–µ—Ç –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ –∫–æ–º–∞–Ω–¥–µ</li>\n01294|                   <li>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å gap –º–µ–∂–¥—É –æ–∂–∏–¥–∞–µ–º—ã–º –∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–º output</li>\n01295|                 </ol>\n01296|               </div>\n01297| \n01298|               <div className=\"bg-gray-800 p-4 rounded\">\n01299|                 <h3 className=\"font-medium text-purple-400 mb-3\">üìã –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:</h3>\n01300|                 <ul className=\"text-sm space-y-2 text-gray-300\">\n01301|                   <li>‚Ä¢ <strong>–ù–µ–∑–∞–≤–∏—Å–∏–º—ã–π cross-check:</strong> –ù–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—Ç—å –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏</li>\n01302|                   <li>‚Ä¢ <strong>–í–∞–ª–∏–¥–∞—Ü–∏—è output:</strong> –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞</li>\n01303|                   <li>‚Ä¢ <strong>–¢–µ—Å—Ç-–∫–µ–π—Å—ã:</strong> –ü–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø–æ AI QA Standard</li>\n01304|                   <li>‚Ä¢ <strong>–†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:</strong> –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –∑–∞–¥–∞—á–∏ –Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</li>\n01305|                 </ul>\n01306|               </div>\n01307| \n01308|               <div className=\"bg-gray-800 p-4 rounded\">\n01309|                 <h3 className=\"font-medium text-purple-400 mb-3\">üèóÔ∏è Heroes Platform - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:</h3>\n01310|                 <ul className=\"text-sm space-y-1 text-gray-300\">\n01311|                   <li>‚Ä¢ <strong>–û—Å–Ω–æ–≤–Ω–∞—è –ø–∞–ø–∫–∞:</strong> heroes-platform/</li>\n01312|                   <li>‚Ä¢ <strong>MCP Server:</strong> heroes-platform/mcp_server/</li>\n01313|                   <li>‚Ä¢ <strong>–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:</strong> pyproject.toml, setup.py, Makefile</li>\n01314|                   <li>‚Ä¢ <strong>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:</strong> run_tests.py (–¥–ª—è –æ–±—Ö–æ–¥–∞ –ø—Ä–æ–±–ª–µ–º pytest)</li>\n01315|                   <li>‚Ä¢ <strong>–ö–æ–º–∞–Ω–¥—ã:</strong> make test, make lint, make format</li>\n01316|                 </ul>\n01317|               </div>\n01318| \n01319|               <div className=\"bg-gray-800 p-4 rounded\">\n01320|                 <h3 className=\"font-medium text-purple-400 mb-3\">üîÑ Git –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:</h3>\n01321|                 <ul className=\"text-sm space-y-1 text-gray-300\">\n01322|                   <li>‚Ä¢ <strong>–ü—Ä–æ–≤–µ—Ä–∫–∞:</strong> –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –µ—Å–ª–∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å &gt;0.9</li>\n01323|                   <li>‚Ä¢ <strong>–ú–µ—Ä–¥–∂:</strong> –°–Ω–∞—á–∞–ª–∞ –¥–∏–ø-—Ä–µ—Å–µ—Ä—á –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –≤ —á–∞—Ç</li>\n01324|                   <li>‚Ä¢ <strong>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ:</strong> –ú–µ—Ä–¥–∂–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏</li>\n01325|                 </ul>\n01326|               </div>\n01327|             </div>\n01328|           </CardContent>\n01329|         </Card>\n01330| \n01331|         {/* –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –≥—Ä—É–∑–æ–≤ */}\n01332|         <Card className=\"border-green-500 bg-green-900/20 mb-6\">\n01333|           <CardHeader>\n01334|             <CardTitle className=\"flex items-center gap-2\">\n01335|               <Truck className=\"h-5 w-5 text-green-400\" />\n01336|               –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –≥—Ä—É–∑–æ–≤ –≤ –∫—É–∑–æ–≤–µ —Ñ—É—Ä–≥–æ–Ω–∞\n01337|             </CardTitle>\n01338|           </CardHeader>\n01339|           <CardContent>\n01340|             <div className=\"space-y-3\">\n01341|               <div className=\"bg-gray-800 p-3 rounded\">\n01342|                 <h3 className=\"font-medium text-green-400 mb-2\">–ì–∞–±–∞—Ä–∏—Ç—ã –∫—É–∑–æ–≤–∞:</h3>\n01343|                 <ul className=\"text-sm space-y-1 text-gray-300\">\n01344|                   <li>‚Ä¢ –î–ª–∏–Ω–∞: 4200 –º–º</li>\n01345|                   <li>‚Ä¢ –®–∏—Ä–∏–Ω–∞: 2025 –º–º</li>\n01346|                   <li>‚Ä¢ –í—ã—Å–æ—Ç–∞: 2025 –º–º</li>\n01347|                 </ul>\n01348|               </div>\n01349|               \n01350|               <div className=\"bg-gray-800 p-3 rounded\">\n01351|                 <h3 className=\"font-medium text-green-400 mb-2\">–ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è:</h3>\n01352|                 <div className=\"text-sm space-y-2 text-gray-300\">\n01353|                   <div>\n01354|                     <strong>1. –ü–æ–≤–æ—Ä–æ—Ç –∏ —à—Ç–∞–±–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ:</strong>\n01355|                     <p className=\"ml-4\">‚Ä¢ –ì—Ä—É–∑—ã –º–æ–∂–Ω–æ —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞ –∏ –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å –ª—é–±–æ–π —Å—Ç–æ—Ä–æ–Ω–æ–π</p>\n01356|                   </div>\n01357|                   \n01358|                   <div>\n01359|                     <strong>2. –ü—Ä–∞–≤–∏–ª–æ –ø–æ –≤–µ—Å—É:</strong>\n01360|                     <p className=\"ml-4\">‚Ä¢ –ì—Ä—É–∑—ã —Å –±–æ–ª—å—à–∏–º –≤–µ—Å–æ–º –Ω–µ–ª—å–∑—è —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å –Ω–∞ –≥—Ä—É–∑—ã —Å –º–µ–Ω—å—à–∏–º –≤–µ—Å–æ–º</p>\n01361|                   </div>\n01362|                   \n01363|                   <div>\n01364|                     <strong>3. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è —Å—Ç—É–ª—å–µ–≤ –∏ –∫—Ä–µ—Å–µ–ª:</strong>\n01365|                     <p className=\"ml-4\">‚Ä¢ –ì—Ä—É–∑—ã —Å –∫–ª—é—á–µ–≤—ã–º–∏ —Å–ª–æ–≤–∞–º–∏ \"—Å—Ç—É–ª\" –∏–ª–∏ \"–∫—Ä–µ—Å–ª–æ\" –Ω–µ–ª—å–∑—è –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–π –æ—Å–∏</p>\n01366|                     <p className=\"ml-4\">‚Ä¢ –ù–∞ —Ç–∞–∫–∏–µ –≥—Ä—É–∑—ã –º–æ–∂–Ω–æ —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥—Ä—É–≥–∏–µ –≥—Ä—É–∑—ã —Å —Ç–µ–º–∏ –∂–µ –∫–ª—é—á–µ–≤—ã–º–∏ —Å–ª–æ–≤–∞–º–∏</p>\n01367|                     <p className=\"ml-4\">‚Ä¢ –î—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–µ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ –¥–≤—É—Ö —Ç–∞–∫–∏—Ö –≥—Ä—É–∑–æ–≤</p>\n01368|                   </div>\n01369|                   \n01370|                   <div>\n01371|                     <strong>4. –¶–µ–ª—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:</strong>\n01372|                     <p className=\"ml-4\">‚Ä¢ –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–Ω—è—Ç–æ–π –ø–ª–æ—â–∞–¥–∏ –ø–æ–ª–∞</p>\n01373|                     <p className=\"ml-4\">‚Ä¢ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∫–æ–º–ø–∞–∫—Ç–Ω–æ–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ</p>\n01374|                   </div>\n01375|                   \n01376|                   <div>\n01377|                     <strong>5. –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–∑–º–µ—â–µ–Ω–∏—è 3D:</strong>\n01378|                     <p className=\"ml-4\">‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–≤–æ—Ä–æ—Ç–æ–≤ –≥—Ä—É–∑–æ–≤ –ø–æ–¥ —É–≥–ª–∞–º–∏: 0¬∞, 45¬∞, 90¬∞, 135¬∞, 180¬∞, 225¬∞, 270¬∞, 315¬∞</p>\n01379|                     <p className=\"ml-4\">‚Ä¢ –î–∏–∞–≥–æ–Ω–∞–ª—å–Ω–æ–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞</p>\n01380|                     <p className=\"ml-4\">‚Ä¢ 6 –±–∞–∑–æ–≤—ã—Ö –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–π + –≤—Ä–∞—â–µ–Ω–∏–µ = –¥–æ 48 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –Ω–∞ –≥—Ä—É–∑</p>\n01381|                     <p className=\"ml-4\">‚Ä¢ –°–µ—Ç–∫–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è —Å —à–∞–≥–æ–º 25–º–º –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</p>\n01382|                     <p className=\"ml-4\">‚Ä¢ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ø–ª–æ—â–∞–¥—å –ø–æ–ª–∞ ‚Üí –≤—ã—Å–æ—Ç–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è ‚Üí –æ–±—â–∏–π –æ–±—ä–µ–º</p>\n01383|                   </div>\n01384|                 </div>\n01385|               </div>\n01386|             </div>\n01387|           </CardContent>\n01388|         </Card>\n01389| \n01390|         {/* –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è */}\n01391|         {testProgress && (\n01392|           <Card className=\"border-blue-500 bg-blue-900/20 mb-6\">\n01393|             <CardHeader>\n01394|               <CardTitle className=\"flex items-center gap-2\">\n01395|                 <PlayCircle className=\"h-5 w-5 text-blue-400 animate-pulse\" />\n01396|                 –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ\n01397|               </CardTitle>\n01398|             </CardHeader>\n01399|             <CardContent>\n01400|               <div className=\"space-y-3\">\n01401|                 <div className=\"flex justify-between text-sm\">\n01402|                   <span>–¢–µ–∫—É—â–∞—è –¢–ö: <strong>{testProgress.currentTK}</strong></span>\n01403|                   <span>{testProgress.completedTests}/{testProgress.totalPlannedTests} —Ç–µ—Å—Ç–æ–≤</span>\n01404|                 </div>\n01405|                 <div className=\"w-full bg-gray-700 rounded-full h-2\">\n01406|                   <div \n01407|                     className=\"bg-blue-500 h-2 rounded-full transition-all duration-300\"\n01408|                     style={{\n01409|                       width: `${(testProgress.completedTests / testProgress.totalPlannedTests) * 100}%`\n01410|                     }}\n01411|                   ></div>\n01412|                 </div>\n01413|                 <div className=\"text-xs text-gray-400\">\n01414|                   –≠—Ç–∞–ø: {testProgress.stage}\n01415|                 </div>\n01416|               </div>\n01417|             </CardContent>\n01418|           </Card>\n01419|         )}\n01420| \n01421|         {/* –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è */}\n01422|         {fullTestResults && (\n01423|           <Card className=\"border-gray-700 bg-gray-900 mb-6\">\n01424|             <CardHeader>\n01425|               <CardTitle className=\"flex items-center gap-2\">\n01426|                 <TestTube className=\"h-5 w-5 text-purple-400\" />\n01427|                 –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è\n01428|               </CardTitle>\n01429|             </CardHeader>\n01430|             <CardContent>\n01431|               <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-4\">\n01432|                 <div className=\"text-center\">\n01433|                   <div className=\"text-2xl font-bold text-blue-400\">{fullTestResults.summary.totalTests}</div>\n01434|                   <div className=\"text-sm text-gray-400\">–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤</div>\n01435|                 </div>\n01436|                 <div className=\"text-center\">\n01437|                   <div className=\"text-2xl font-bold text-green-400\">{fullTestResults.summary.successful}</div>\n01438|                   <div className=\"text-sm text-gray-400\">–£—Å–ø–µ—à–Ω—ã—Ö</div>\n01439|                 </div>\n01440|                 <div className=\"text-center\">\n01441|                   <div className=\"text-2xl font-bold text-red-400\">{fullTestResults.summary.failed}</div>\n01442|                   <div className=\"text-sm text-gray-400\">–ù–µ—É–¥–∞—á–Ω—ã—Ö</div>\n01443|                 </div>\n01444|                 <div className=\"text-center\">\n01445|                   <div className=\"text-2xl font-bold text-gray-400\">{fullTestResults.summary.skipped}</div>\n01446|                   <div className=\"text-sm text-gray-400\">–ü—Ä–æ–ø—É—â–µ–Ω–æ</div>\n01447|                 </div>\n01448|                 <div className=\"text-center\">\n01449|                   <div className=\"text-2xl font-bold text-yellow-400\">\n01450|                     {fullTestResults.summary.successRate.toFixed(1)}%\n01451|                   </div>\n01452|                   <div className=\"text-sm text-gray-400\">–£—Å–ø–µ—à–Ω–æ—Å—Ç—å</div>\n01453|                 </div>\n01454|                 <div className=\"text-center\">\n01455|                   <div className=\"text-2xl font-bold text-cyan-400\">{fullTestResults.summary.averageResponseTime}ms</div>\n01456|                   <div className=\"text-sm text-gray-400\">–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è</div>\n01457|                 </div>\n01458|               </div>\n01459|               \n01460|               {/* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –¢–ö */}\n01461|               <div className=\"mb-4\">\n01462|                 <h4 className=\"font-medium mb-2\">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–º –∫–æ–º–ø–∞–Ω–∏—è–º:</h4>\n01463|                 <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2\">\n01464|                   {['PEK', 'RAILCONTINENT', 'VOZOVOZ', 'NORDWHEEL', 'DELLIN'].map(tk => {\n01465|                     const tkResults = fullTestResults.details.filter((r: any) => r.tk === tk.toLowerCase());\n01466|                     const tkSuccessful = tkResults.filter((r: any) => r.status === 'success').length;\n01467|                     const tkTotal = tkResults.length;\n01468|                     const tkSuccessRate = tkTotal > 0 ? (tkSuccessful / tkTotal) * 100 : 0;\n01469|                     \n01470|                     return (\n01471|                       <div key={tk} className=\"bg-gray-800 p-2 rounded text-sm\">\n01472|                         <div className=\"font-medium\">{tk}</div>\n01473|                         <div className=\"text-xs text-gray-400\">\n01474|                           {tkSuccessful}/{tkTotal} ({tkSuccessRate.toFixed(1)}%)\n01475|                         </div>\n01476|                       </div>\n01477|                     );\n01478|                   })}\n01479|                 </div>\n01480|               </div>\n01481|               \n01482|               {fullTestResults.summary.errors.length > 0 && (\n01483|                 <Alert className=\"border-red-500 bg-red-900/20 mb-4\">\n01484|                   <AlertCircle className=\"h-4 w-4\" />\n01485|                   <AlertDescription>\n01486|                     <div className=\"font-medium mb-2\">–ù–∞–π–¥–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ ({fullTestResults.summary.errors.length}):</div>\n01487|                     <ul className=\"list-disc list-inside text-sm space-y-1\">\n01488|                       {fullTestResults.summary.errors.slice(0, 15).map((error, index) => (\n01489|                         <li key={index}>{error}</li>\n01490|                       ))}\n01491|                       {fullTestResults.summary.errors.length > 15 && (\n01492|                         <li>... –∏ –µ—â–µ {fullTestResults.summary.errors.length - 15} –æ—à–∏–±–æ–∫</li>\n01493|                       )}\n01494|                     </ul>\n01495|                   </AlertDescription>\n01496|                 </Alert>\n01497|               )}\n01498|               \n01499|               <details className=\"mt-4\">\n01500|                 <summary className=\"cursor-pointer text-sm font-medium\">–ü–æ–¥—Ä–æ–±–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã ({fullTestResults.details.length} –∑–∞–ø–∏—Å–µ–π)</summary>\n01501|                 <div className=\"mt-2 max-h-96 overflow-y-auto\">\n01502|                   <pre className=\"text-xs p-2 bg-gray-800 rounded\">\n01503|                     {JSON.stringify(fullTestResults.details.map(detail => ({\n01504|                       tk: detail.tk,\n01505|                       status: detail.status,\n01506|                       cargoCount: detail.cargoCount,\n01507|                       testMetadata: detail.testMetadata,\n01508|                       timing: detail.timing,\n01509|                       price: detail.price,\n01510|                       message: detail.message\n01511|                     })), null, 2)}\n01512|                   </pre>\n01513|                 </div>\n01514|               </details>\n01515|             </CardContent>\n01516|           </Card>\n01517|         )}\n01518| \n01519|         <div className=\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6\">\n01520|           {/* –ü–≠–ö */}\n01521|           <Card className=\"border-gray-700 bg-gray-900\">\n01522|             <CardHeader>\n01523|               <CardTitle className=\"flex items-center justify-between\">\n01524|                 <div className=\"flex items-center gap-2\">\n01525|                   <Truck className=\"h-5 w-5 text-blue-400\" />\n01526|                   –ü–≠–ö\n01527|                 </div>\n01528|                 <Button \n01529|                   onClick={testPEKAPI} \n01530|                   disabled={isTestingPEK}\n01531|                   size=\"sm\"\n01532|                   variant=\"outline\"\n01533|                 >\n01534|                   {isTestingPEK ? '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...' : '–¢–µ—Å—Ç'}\n01535|                 </Button>\n01536|               </CardTitle>\n01537|             </CardHeader>\n01538|             <CardContent>\n01539|               {diagnosticResults.pek ? (\n01540|                 <Alert className={getStatusColor(diagnosticResults.pek.status)}>\n01541|                   <div className=\"flex items-start gap-2\">\n01542|                     {getStatusIcon(diagnosticResults.pek.status)}\n01543|                     <div className=\"flex-1\">\n01544|                       <AlertDescription>\n01545|                         <div className=\"font-medium mb-2\">{diagnosticResults.pek.message}</div>\n01546|                         {diagnosticResults.pek.timing && (\n01547|                           <Badge variant=\"outline\" className=\"mb-2\">\n01548|                             –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: {diagnosticResults.pek.timing}–º—Å\n01549|                           </Badge>\n01550|                         )}\n01551|                         {diagnosticResults.pek.details && (\n01552|                           <details className=\"mt-2\">\n01553|                             <summary className=\"cursor-pointer text-sm\">–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏</summary>\n01554|                             <pre className=\"text-xs mt-2 p-2 bg-gray-800 rounded overflow-auto\">\n01555|                               {JSON.stringify(diagnosticResults.pek.details, null, 2)}\n01556|                             </pre>\n01557|                           </details>\n01558|                         )}\n01559|                       </AlertDescription>\n01560|                     </div>\n01561|                   </div>\n01562|                 </Alert>\n01563|               ) : (\n01564|                 <p className=\"text-gray-400\">–ù–∞–∂–º–∏—Ç–µ \"–¢–µ—Å—Ç\" –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API –ü–≠–ö</p>\n01565|               )}\n01566|             </CardContent>\n01567|           </Card>\n01568| \n01569|           {/* –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏ */}\n01570|           <Card className=\"border-gray-700 bg-gray-900\">\n01571|             <CardHeader>\n01572|               <CardTitle className=\"flex items-center justify-between\">\n01573|                 <div className=\"flex items-center gap-2\">\n01574|                   <Truck className=\"h-5 w-5 text-green-400\" />\n01575|                   –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏\n01576|                 </div>\n01577|                 <Button \n01578|                   onClick={testDellinAPI} \n01579|                   disabled={isTestingDellin}\n01580|                   size=\"sm\"\n01581|                   variant=\"outline\"\n01582|                 >\n01583|                   {isTestingDellin ? '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...' : '–¢–µ—Å—Ç'}\n01584|                 </Button>\n01585|               </CardTitle>\n01586|             </CardHeader>\n01587|             <CardContent>\n01588|               {diagnosticResults.dellin ? (\n01589|                 <Alert className={getStatusColor(diagnosticResults.dellin.status)}>\n01590|                   <div className=\"flex items-start gap-2\">\n01591|                     {getStatusIcon(diagnosticResults.dellin.status)}\n01592|                     <div className=\"flex-1\">\n01593|                       <AlertDescription>\n01594|                         <div className=\"font-medium mb-2\">{diagnosticResults.dellin.message}</div>\n01595|                         {diagnosticResults.dellin.timing && (\n01596|                           <Badge variant=\"outline\" className=\"mb-2\">\n01597|                             –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: {diagnosticResults.dellin.timing}–º—Å\n01598|                           </Badge>\n01599|                         )}\n01600|                         {diagnosticResults.dellin.details && (\n01601|                           <details className=\"mt-2\">\n01602|                             <summary className=\"cursor-pointer text-sm\">–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏</summary>\n01603|                             <pre className=\"text-xs mt-2 p-2 bg-gray-800 rounded overflow-auto\">\n01604|                               {JSON.stringify(diagnosticResults.dellin.details, null, 2)}\n01605|                             </pre>\n01606|                           </details>\n01607|                         )}\n01608|                       </AlertDescription>\n01609|                     </div>\n01610|                   </div>\n01611|                 </Alert>\n01612|               ) : (\n01613|                 <p className=\"text-gray-400\">–ù–∞–∂–º–∏—Ç–µ \"–¢–µ—Å—Ç\" –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API –î–µ–ª–æ–≤—ã–µ –õ–∏–Ω–∏–∏</p>\n01614|               )}\n01615|             </CardContent>\n01616|           </Card>\n01617| \n01618|           {/* Rail Continent */}\n01619|           <Card className=\"border-gray-700 bg-gray-900\">\n01620|             <CardHeader>\n01621|               <CardTitle className=\"flex items-center justify-between\">\n01622|                 <div className=\"flex items-center gap-2\">\n01623|                   <Truck className=\"h-5 w-5 text-purple-400\" />\n01624|                   Rail Continent\n01625|                 </div>\n01626|                 <Button \n01627|                   onClick={testRailContinentAPI} \n01628|                   disabled={isTestingRailContinent}\n01629|                   size=\"sm\"\n01630|                   variant=\"outline\"\n01631|                 >\n01632|                   {isTestingRailContinent ? '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...' : '–¢–µ—Å—Ç'}\n01633|                 </Button>\n01634|               </CardTitle>\n01635|             </CardHeader>\n01636|             <CardContent>\n01637|               {diagnosticResults.railcontinent ? (\n01638|                 <Alert className={getStatusColor(diagnosticResults.railcontinent.status)}>\n01639|                   <div className=\"flex items-start gap-2\">\n01640|                     {getStatusIcon(diagnosticResults.railcontinent.status)}\n01641|                     <div className=\"flex-1\">\n01642|                       <AlertDescription>\n01643|                         <div className=\"font-medium mb-2\">{diagnosticResults.railcontinent.message}</div>\n01644|                         {diagnosticResults.railcontinent.timing && (\n01645|                           <Badge variant=\"outline\" className=\"mb-2\">\n01646|                             –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: {diagnosticResults.railcontinent.timing}–º—Å\n01647|                           </Badge>\n01648|                         )}\n01649|                         {diagnosticResults.railcontinent.details && (\n01650|                           <details className=\"mt-2\">\n01651|                             <summary className=\"cursor-pointer text-sm\">–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏</summary>\n01652|                             <pre className=\"text-xs mt-2 p-2 bg-gray-800 rounded overflow-auto\">\n01653|                               {JSON.stringify(diagnosticResults.railcontinent.details, null, 2)}\n01654|                             </pre>\n01655|                           </details>\n01656|                         )}\n01657|                       </AlertDescription>\n01658|                     </div>\n01659|                   </div>\n01660|                 </Alert>\n01661|               ) : (\n01662|                 <p className=\"text-gray-400\">–ù–∞–∂–º–∏—Ç–µ \"–¢–µ—Å—Ç\" –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API Rail Continent</p>\n01663|               )}\n01664|             </CardContent>\n01665|           </Card>\n01666| \n01667|           {/* –í–æ–∑–æ–≤–æ–∑ */}\n01668|           <Card className=\"border-gray-700 bg-gray-900\">\n01669|             <CardHeader>\n01670|               <CardTitle className=\"flex items-center justify-between\">\n01671|                 <div className=\"flex items-center gap-2\">\n01672|                   <Truck className=\"h-5 w-5 text-orange-400\" />\n01673|                   –í–æ–∑–æ–≤–æ–∑\n01674|                 </div>\n01675|                 <Button \n01676|                   onClick={testVozovozAPI} \n01677|                   disabled={isTestingVozovoz}\n01678|                   size=\"sm\"\n01679|                   variant=\"outline\"\n01680|                 >\n01681|                   {isTestingVozovoz ? '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...' : '–¢–µ—Å—Ç'}\n01682|                 </Button>\n01683|               </CardTitle>\n01684|             </CardHeader>\n01685|             <CardContent>\n01686|               {diagnosticResults.vozovoz ? (\n01687|                 <Alert className={getStatusColor(diagnosticResults.vozovoz.status)}>\n01688|                   <div className=\"flex items-start gap-2\">\n01689|                     {getStatusIcon(diagnosticResults.vozovoz.status)}\n01690|                     <div className=\"flex-1\">\n01691|                       <AlertDescription>\n01692|                         <div className=\"font-medium mb-2\">{diagnosticResults.vozovoz.message}</div>\n01693|                         {diagnosticResults.vozovoz.timing && (\n01694|                           <Badge variant=\"outline\" className=\"mb-2\">\n01695|                             –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: {diagnosticResults.vozovoz.timing}–º—Å\n01696|                           </Badge>\n01697|                         )}\n01698|                         {diagnosticResults.vozovoz.details && (\n01699|                           <details className=\"mt-2\">\n01700|                             <summary className=\"cursor-pointer text-sm\">–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏</summary>\n01701|                             <pre className=\"text-xs mt-2 p-2 bg-gray-800 rounded overflow-auto\">\n01702|                               {JSON.stringify(diagnosticResults.vozovoz.details, null, 2)}\n01703|                             </pre>\n01704|                           </details>\n01705|                         )}\n01706|                       </AlertDescription>\n01707|                     </div>\n01708|                   </div>\n01709|                 </Alert>\n01710|               ) : (\n01711|                 <p className=\"text-gray-400\">–ù–∞–∂–º–∏—Ç–µ \"–¢–µ—Å—Ç\" –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API –í–æ–∑–æ–≤–æ–∑</p>\n01712|               )}\n01713|             </CardContent>\n01714|           </Card>\n01715| \n01716|           {/* Nord Wheel */}\n01717|           <Card className=\"border-gray-700 bg-gray-900\">\n01718|             <CardHeader>\n01719|               <CardTitle className=\"flex items-center justify-between\">\n01720|                 <div className=\"flex items-center gap-2\">\n01721|                   <Truck className=\"h-5 w-5 text-cyan-400\" />\n01722|                   Nord Wheel\n01723|                 </div>\n01724|                 <Button \n01725|                   onClick={testNordWheelAPI} \n01726|                   disabled={isTestingNordWheel}\n01727|                   size=\"sm\"\n01728|                   variant=\"outline\"\n01729|                 >\n01730|                   {isTestingNordWheel ? '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...' : '–¢–µ—Å—Ç'}\n01731|                 </Button>\n01732|               </CardTitle>\n01733|             </CardHeader>\n01734|             <CardContent>\n01735|               {diagnosticResults.nordwheel ? (\n01736|                 <Alert className={getStatusColor(diagnosticResults.nordwheel.status)}>\n01737|                   <div className=\"flex items-start gap-2\">\n01738|                     {getStatusIcon(diagnosticResults.nordwheel.status)}\n01739|                     <div className=\"flex-1\">\n01740|                       <AlertDescription>\n01741|                         <div className=\"font-medium mb-2\">{diagnosticResults.nordwheel.message}</div>\n01742|                         {diagnosticResults.nordwheel.timing && (\n01743|                           <Badge variant=\"outline\" className=\"mb-2\">\n01744|                             –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: {diagnosticResults.nordwheel.timing}–º—Å\n01745|                           </Badge>\n01746|                         )}\n01747|                         {diagnosticResults.nordwheel.details && (\n01748|                           <details className=\"mt-2\">\n01749|                             <summary className=\"cursor-pointer text-sm\">–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏</summary>\n01750|                             <pre className=\"text-xs mt-2 p-2 bg-gray-800 rounded overflow-auto\">\n01751|                               {JSON.stringify(diagnosticResults.nordwheel.details, null, 2)}\n01752|                             </pre>\n01753|                           </details>\n01754|                         )}\n01755|                       </AlertDescription>\n01756|                     </div>\n01757|                   </div>\n01758|                 </Alert>\n01759|               ) : (\n01760|                 <p className=\"text-gray-400\">–ù–∞–∂–º–∏—Ç–µ \"–¢–µ—Å—Ç\" –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API Nord Wheel</p>\n01761|               )}\n01762|             </CardContent>\n01763|           </Card>\n01764|         </div>\n01765| \n01766|         {/* –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–∞–º–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π */}\n01767|         <Card className=\"border-blue-500 bg-blue-900/20 mt-6\">\n01768|           <CardHeader>\n01769|             <div className=\"flex items-center justify-between\">\n01770|               <CardTitle className=\"flex items-center gap-2\">\n01771|                 <Truck className=\"h-5 w-5 text-blue-400\" />\n01772|                 –¢–∏–ø—ã –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π\n01773|                 {hasUnsavedChanges && (\n01774|                   <Badge variant=\"outline\" className=\"text-orange-400 border-orange-400\">\n01775|                     –ï—Å—Ç—å –Ω–µ—Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è\n01776|                   </Badge>\n01777|                 )}\n01778|               </CardTitle>\n01779|               <Button \n01780|                 onClick={saveVehicleTypes}\n01781|                 disabled={!hasUnsavedChanges || isSaving}\n01782|                 className={\n01783|                   saveStatus === 'success' \n01784|                     ? \"bg-green-600 hover:bg-green-700 text-white\" \n01785|                     : saveStatus === 'error'\n01786|                     ? \"bg-red-600 hover:bg-red-700 text-white\"\n01787|                     : \"bg-green-600 hover:bg-green-700 disabled:bg-gray-600\"\n01788|                 }\n01789|                 size=\"sm\"\n01790|               >\n01791|                 <Save className=\"h-4 w-4 mr-2\" />\n01792|                 {saveStatus === 'saving' && '–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...'}\n01793|                 {saveStatus === 'success' && '–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ!'}\n01794|                 {saveStatus === 'error' && '–û—à–∏–±–∫–∞'}\n01795|                 {saveStatus === 'idle' && '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å'}\n01796|               </Button>\n01797|             </div>\n01798|           </CardHeader>\n01799|           <CardContent>\n01800|             {/* –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ */}\n01801|             <Alert className=\"border-blue-500 bg-blue-900/20 mb-4\">\n01802|               <AlertCircle className=\"h-4 w-4\" />\n01803|               <AlertDescription>\n01804|                 –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ä–∞–∑–º–µ—Ä–∞—Ö –∏ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö —Ç–∏–ø–æ–≤ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –ª–æ–∫–∞–ª—å–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –ù–∞–∂–º–∏—Ç–µ \"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å\" –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π.\n01805|                 <br /><br />\n01806|                 <strong>–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ Google Sheets:</strong> –î–∞–Ω–Ω—ã–µ —Ç–∞–∫–∂–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã —Å –ø–æ–º–æ—â—å—é –∫–Ω–æ–ø–∫–∏ \"–û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ\" —Å–≤–µ—Ä—Ö—É. –≠—Ç–æ –∑–∞–º–µ–Ω–∏—Ç –≤—Å–µ –º–µ—Å—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ —Ç–∞–±–ª–∏—Ü—ã.\n01807|               </AlertDescription>\n01808|             </Alert>\n01809|             \n01810|             {/* –°–ø–∏—Å–æ–∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π */}\n01811|             <div className=\"space-y-4 mb-6\">\n01812|               <h3 className=\"text-lg font-medium text-white\">–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–∏–ø—ã:</h3>\n01813|               <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n01814|                 {vehicleTypes.map((vehicle) => (\n01815|                   <div key={vehicle.id} className=\"bg-gray-800 p-4 rounded-lg border border-gray-600\">\n01816|                     <div className=\"space-y-3\">\n01817|                       <div>\n01818|                         <Label className=\"text-sm text-gray-300\">–ù–∞–∑–≤–∞–Ω–∏–µ</Label>\n01819|                         <Input\n01820|                           value={vehicle.name}\n01821|                           onChange={(e) => updateVehicleType(vehicle.id, 'name', e.target.value)}\n01822|                           className=\"bg-gray-700 border-gray-600 text-white\"\n01823|                         />\n01824|                       </div>\n01825|                       \n01826|                       <div className=\"grid grid-cols-3 gap-2\">\n01827|                         <div>\n01828|                           <Label className=\"text-xs text-gray-400\">–î–ª–∏–Ω–∞ (–º–º)</Label>\n01829|                           <Input\n01830|                             type=\"number\"\n01831|                             value={vehicle.length}\n01832|                             onChange={(e) => updateVehicleType(vehicle.id, 'length', parseInt(e.target.value) || 0)}\n01833|                             className=\"bg-gray-700 border-gray-600 text-white text-xs\"\n01834|                           />\n01835|                         </div>\n01836|                         <div>\n01837|                           <Label className=\"text-xs text-gray-400\">–®–∏—Ä–∏–Ω–∞ (–º–º)</Label>\n01838|                           <Input\n01839|                             type=\"number\"\n01840|                             value={vehicle.width}\n01841|                             onChange={(e) => updateVehicleType(vehicle.id, 'width', parseInt(e.target.value) || 0)}\n01842|                             className=\"bg-gray-700 border-gray-600 text-white text-xs\"\n01843|                           />\n01844|                         </div>\n01845|                         <div>\n01846|                           <Label className=\"text-xs text-gray-400\">–í—ã—Å–æ—Ç–∞ (–º–º)</Label>\n01847|                           <Input\n01848|                             type=\"number\"\n01849|                             value={vehicle.height}\n01850|                             onChange={(e) => updateVehicleType(vehicle.id, 'height', parseInt(e.target.value) || 0)}\n01851|                             className=\"bg-gray-700 border-gray-600 text-white text-xs\"\n01852|                           />\n01853|                         </div>\n01854|                       </div>\n01855|                       \n01856|                       <div className=\"flex justify-between items-center pt-2\">\n01857|                         <div className=\"text-xs text-gray-400\">\n01858|                           –û–±—ä—ë–º: {((vehicle.length * vehicle.width * vehicle.height) / 1000000000).toFixed(1)} –º¬≥\n01859|                         </div>\n01860|                         <Button\n01861|                           onClick={() => removeVehicleType(vehicle.id)}\n01862|                           variant=\"outline\"\n01863|                           size=\"sm\"\n01864|                           className=\"text-red-400 border-red-400 hover:bg-red-400 hover:text-white\"\n01865|                         >\n01866|                           <Trash2 className=\"h-3 w-3\" />\n01867|                         </Button>\n01868|                       </div>\n01869|                     </div>\n01870|                   </div>\n01871|                 ))}\n01872|               </div>\n01873|             </div>\n01874|             \n01875|             {/* –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∞–≤—Ç–æ–º–æ–±–∏–ª—è */}\n01876|             <div className=\"bg-gray-800 p-4 rounded-lg border-2 border-dashed border-gray-600\">\n01877|               <h3 className=\"text-lg font-medium text-white mb-4\">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø:</h3>\n01878|               <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4\">\n01879|                 <div>\n01880|                   <Label className=\"text-sm text-gray-300\">–ù–∞–∑–≤–∞–Ω–∏–µ</Label>\n01881|                   <Input\n01882|                     placeholder=\"–Ω–∞–ø—Ä. –ú–µ—Ä—Å–µ–¥–µ—Å –°–ø—Ä–∏–Ω—Ç–µ—Ä\"\n01883|                     value={newVehicle.name}\n01884|                     onChange={(e) => setNewVehicle({ ...newVehicle, name: e.target.value })}\n01885|                     className=\"bg-gray-700 border-gray-600 text-white\"\n01886|                   />\n01887|                 </div>\n01888|                 <div>\n01889|                   <Label className=\"text-sm text-gray-300\">–î–ª–∏–Ω–∞ –∫—É–∑–æ–≤–∞ (–≤–Ω—É—Ç—Ä–∏), –º–º</Label>\n01890|                   <Input\n01891|                     type=\"number\"\n01892|                     placeholder=\"4200\"\n01893|                     value={newVehicle.length}\n01894|                     onChange={(e) => setNewVehicle({ ...newVehicle, length: e.target.value })}\n01895|                     className=\"bg-gray-700 border-gray-600 text-white\"\n01896|                   />\n01897|                 </div>\n01898|                 <div>\n01899|                   <Label className=\"text-sm text-gray-300\">–®–∏—Ä–∏–Ω–∞ –∫—É–∑–æ–≤–∞ (–≤–Ω—É—Ç—Ä–∏), –º–º</Label>\n01900|                   <Input\n01901|                     type=\"number\"\n01902|                     placeholder=\"2025\"\n01903|                     value={newVehicle.width}\n01904|                     onChange={(e) => setNewVehicle({ ...newVehicle, width: e.target.value })}\n01905|                     className=\"bg-gray-700 border-gray-600 text-white\"\n01906|                   />\n01907|                 </div>\n01908|                 <div>\n01909|                   <Label className=\"text-sm text-gray-300\">–í—ã—Å–æ—Ç–∞ –∫—É–∑–æ–≤–∞ (–≤–Ω—É—Ç—Ä–∏), –º–º</Label>\n01910|                   <Input\n01911|                     type=\"number\"\n01912|                     placeholder=\"2025\"\n01913|                     value={newVehicle.height}\n01914|                     onChange={(e) => setNewVehicle({ ...newVehicle, height: e.target.value })}\n01915|                     className=\"bg-gray-700 border-gray-600 text-white\"\n01916|                   />\n01917|                 </div>\n01918|               </div>\n01919|               \n01920|               <div className=\"flex justify-between items-center\">\n01921|                 <div className=\"text-sm text-gray-400\">\n01922|                   {newVehicle.length && newVehicle.width && newVehicle.height && (\n01923|                     <span>\n01924|                       –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º—ã–π –æ–±—ä—ë–º: {((parseInt(newVehicle.length) * parseInt(newVehicle.width) * parseInt(newVehicle.height)) / 1000000000).toFixed(1)} –º¬≥\n01925|                     </span>\n01926|                   )}\n01927|                 </div>\n01928|                 <Button \n01929|                   onClick={addVehicleType}\n01930|                   className=\"bg-blue-600 hover:bg-blue-700\"\n01931|                 >\n01932|                   <Plus className=\"h-4 w-4 mr-2\" />\n01933|                   –î–æ–±–∞–≤–∏—Ç—å\n01934|                 </Button>\n01935|               </div>\n01936|             </div>\n01937|           </CardContent>\n01938|         </Card>\n01939|       </div>\n01940|     </div>\n01941|   );\n01942| }\n</file>",
    "metadata": {
      "preview": "'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Badge } from '@/components/ui/badge';\nimport { Building2, Truck, Activity, CheckCircle, AlertCircle, XCircle, TestTube, PlayCircle, Plus, Trash2, Save, ExternalLink, RefreshCw, Download } from 'lucide-react';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\n\nexport default function DiagnosticPage() {\n  const [isTestingPEK, setIsTestingPEK] = useState(false);\n  const [isTestingDellin, setIsTestingDellin] = useState(false);\n  const [isTestingRailContinent, setIsTestingRailContinent] = useState(false);\n  const [isTestingVozovoz, setIsTestingVozovoz] = useState(false);\n  const [isTestingNordWheel, setIsTestingNordWheel] = useState(false);\n  const [isFullTesting, setIsFullTesting] = useState(false);\n  \n  const [diagnosticResults, setDiagnosticResults] = useState<{"
    },
    "title": "app/diagnostic/page.tsx",
    "time": {
      "start": 1759241748368,
      "end": 1759241748375
    }
  }
}
{
  "id": "prt_97b1fbe47001YLTpyt950osztG",
  "type": "text",
  "text": "Для ПЭК используй публичный API ПЭК\nПолучение списка городов доставки\nСсылка для запроса списка городов: https://pecom.ru/ru/calc/towns.php. Формат возвращаемого результата:\n\n{\n         ‘название региона1’: {\n                   id Города1: ‘Название Города1’,\n                   id Города2: ‘Название Города2’,\n                   id Города3: ‘Название Города3’\n                   ...............\n          },\n          ‘название региона2’: {\n                   id Города1: ‘Название Города1’,\n                   id Города2: ‘Название Города2’,\n                   id Города3: ‘Название Города3’\n                   ...............\n          }\n          ...............\n}\n\nРасчет стоимости перевозки/доставки\nСсылка для формирования запроса на расчет: http://calc.pecom.ru/bitrix/components/pecom/calc/ajax.php. Параметры передаются через GET-запрос.\n\nПараметр\tОписание, пример использования\n\nplaces[0][]\nplaces[1][]\n... \tПараметры груза\n            \n\n\nplaces[0][]: 1\nplaces[0][]: 2\nplaces[0][]: 3\nplaces[0][]: 4\nplaces[0][]: 5\nplaces[0][]: 1\nplaces[0][]: 1\n\nпо очереди\n\nШирина (м), Длина (м), Высота (м), Объем (м3), Вес (кг), Признак негабаритности груза (0 - габарит, 1 - негабарит),\n\nПризнак необходима защитная транспортировочная упаковка (ЗТУ)  (0 - без ЗТУ, 1 - в ЗТУ).\n\n\nplaces[1][]: 3\nplaces[1][]: 3\nplaces[1][]: 3\nplaces[1][]: 3\nplaces[1][]: 3\nplaces[1][]: 1\nplaces[1][]: 1\n\nаналогично для следующего груза.\n           \ntake[town]: -457 \tID города забора \ntake[tent]: 1 \tтребуется растентровка при заборе \ntake[gidro]: 1 \tтребуется гидролифт при заборе \ntake[manip]: 1 \tтребуется манипулятор при заборе \ntake[speed]: 1 \tСрочный забор (только для Москвы) \ntake[moscow]: 1 \tБез въезда, МОЖД, ТТК, Садовое.\n            \n\n           значения соответственно: 0,1,2,3 \ndeliver[town]: 64883 \tID города доставки\ndeliver[tent]: 1 \tТребуется растентровка при доставке\ndeliver[gidro]: 1 \tТребуется гидролифт при доставке\ndeliver[manip]: 1 \tТребуется манипулятор при доставке\ndeliver[speed]: 0 \tСрочная доставка (только для Москвы) \ndeliver[moscow]: 0\tБез въезда, МОЖД, ТТК, Садовое.\n            \n\n           значения соответственно: 0,1,2,3 \nplombir: 12 \tКоличество пломб \nstrah: 33 \tВеличина страховки \nashan: 1 \tДоставка в Ашан \nnight: 1 \tЗабор в ночное время \npal: 3 \tТребуется запаллечивание груза (0 - не требуется, значение больше нуля - количество паллет)\npallets: 4 \tКол-во паллет для расчет услуги паллетной перевозки (только там, где эта услуга предоставляется)\n\nВозвращаемый результат\n{\n        ‘take’: [a,b,c],\n        ‘auto’: [a,b,c],\n        ‘alma_auto’: [a,b,c],\n        ‘avia’: [a,b,c],\n        ‘autonegabarit’: [a,b,c],\n        ‘ADD’: [a,b,c],\n        ‘ADD_1’: [a,b,c],\n        ‘ADD_2’: [a,b,c],\n        ‘ADD_3’: [a,b,c],\n        ‘ADD_4’: [a,b,c],\n        ‘deliver’: [a,b,c]\n        ‘periods: ‘Строка’,\n        'aperiods: ‘Строка’,\n        ‘error’: [‘err1’,’err2’]\n}\nгде\ntake - данные по забору\n\nauto - данные по автоперевозке без учета наценки за негабарит\nalma_auto - только, если филиал-отправитель или филиал-получатель город Алматы, перевозка идет через Екатеринбург,\nпри этом в auto передаются данные по автоперевозке от места отправки до Екатеринбурга, в alma_auto - от Ектеринбурга\n до места названчения\nautonegabarit - данные по автоперевозке с учетом наценки за негабарит, если указан \"Признак негабаритности\"\nхотя бы для одного из мест (иначе совпадает со значением auto)\n\n\navia - данные по авиаперевозке\n\nADD - дополнительные услуги (например, изготовление защитной транспортировочной упаковки)\nADD_1 - услуга пломбирования груза\nADD_2 - услуга запаллечивания груза\nADD_3 - услуга страхования груза\nADD_4 - услуга доставки в ночное время\n\ndeliver - данные по доставке\n\nperiods - сообщение о сроках и днях отправки груза при автоперевозке\naperiods - сообщение о сроках при авиаперевозке\n\na - Название услуги\nb - Пояснение к услуге\nc - Стоимость\n\nError - список ошибок выводимых пользователю.\n\nЕсли ключей auto или avia нет - значит услуга НЕ предоставляется\n\nОбщий результат\nАвтоперевозка:\ntake + auto + deliver + ADD + ADD_1 + ADD_2 + ADD_3 + ADD_4\n\nАвтоперевозка для Алматы:\ntake + auto + alma_auto + deliver + ADD + ADD_1 + ADD_2 + ADD_3 + ADD_4 \n\nАвиаперевозка:\ntake + avia + deliver + ADD + ADD_1 + ADD_2 + ADD_3 + ADD_4 \n\nпри наличии полей (auto или avia) соответственно.\n        \n\nРасчет паллетной перевозки\nСсылка для формирования запроса на расчет паллетной перевозки: http://pecom.ru/api/pallet.php. Параметры передаются через GET-запрос.\n\nПараметр\tОписание, пример использования\nfrom: 446\tID города отправки. Доступна только Москва (446).\nto: 448\tID города получателя\ntype: 1\tТип паллеты: евро-стандарт (1), финская (2), американская (3)\namount: 1\tКоличество паллет в штуках\n\nВозвращаемый результат\n{\n        ‘cost’: ‘число’,\n        ‘message’: ‘Строка’\n}\nгде\ncost - стоимость перевозки за 1 паллету\nmessage - дополнительное сообщение или сообщение об ошибке\n        \nТакже можешь использовать ключи API ПЭК личного кабинета:\nC04C5BF2AE367BDCBDC71E7DA520A69B167D1984",
  "messageID": "msg_97b1fbe46001asm8ohYR3zXNwp",
  "sessionID": "ses_6852784ecffeuHwynj83p2lr14"
}
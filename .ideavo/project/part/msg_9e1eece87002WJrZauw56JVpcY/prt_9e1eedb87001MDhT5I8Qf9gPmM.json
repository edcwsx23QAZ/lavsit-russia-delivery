{
  "id": "prt_9e1eedb87001MDhT5I8Qf9gPmM",
  "messageID": "msg_9e1eece87002WJrZauw56JVpcY",
  "sessionID": "ses_6852784ecffeuHwynj83p2lr14",
  "type": "text",
  "text": "## üìã –ü—Ä–æ–º–ø—Ç –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ API –°–î–≠–ö (—Ä–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –¥–æ—Å—Ç–∞–≤–∫–∏)\n\n### üéØ –¶–µ–ª—å\n–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å API –°–î–≠–ö –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –∞–¥—Ä–µ—Å–æ–≤ –∏ —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤.\n\n### üîë –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ API\n- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: Bearer Token + developer-key –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö\n- **Base URL**: `https://api.cdek.ru/v2`\n- **–ú–µ—Ç–æ–¥—ã**: \n  1. –†–∞—Å—á–µ—Ç –ø–æ –≤—Å–µ–º —Ç–∞—Ä–∏—Ñ–∞–º: `POST /v2/calculator/tarifflist`\n  2. –†–∞—Å—á–µ—Ç –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É —Ç–∞—Ä–∏—Ñ—É: `POST /v2/calculator/tariff`\n\n---\n\n## üìù –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤\n\n### 1Ô∏è‚É£ **–†–∞—Å—á–µ—Ç –ø–æ –≤—Å–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–º —Ç–∞—Ä–∏—Ñ–∞–º**\n\n**–ó–∞–ø—Ä–æ—Å:**\n```http\nPOST https://api.cdek.ru/v2/calculator/tarifflist\nContent-Type: application/json\nAuthorization: Bearer YOUR_ACCESS_TOKEN\ndeveloper-key: YOUR_DEVELOPER_KEY\n```\n\n```json\n{\n  \"type\": 1,\n  \"date\": \"2025-03-24T10:00:00+0300\",\n  \"lang\": \"rus\",\n  \"from_location\": {\n    \"code\": 44,\n    \"postal_code\": \"101000\",\n    \"address\": \"–ú–æ—Å–∫–≤–∞\"\n  },\n  \"to_location\": {\n    \"code\": 137,\n    \"postal_code\": \"190000\", \n    \"address\": \"–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥\"\n  },\n  \"packages\": [\n    {\n      \"height\": 10,\n      \"length\": 20,\n      \"width\": 10,\n      \"weight\": 1000\n    }\n  ]\n}\n```\n\n**–û—Ç–≤–µ—Ç:**\n```json\n{\n  \"tariff_codes\": [\n    {\n      \"tariff_code\": 136,\n      \"tariff_name\": \"–ü–æ—Å—ã–ª–∫–∞ —Å–∫–ª–∞–¥-—Å–∫–ª–∞–¥\",\n      \"tariff_description\": \"–î–æ—Å—Ç–∞–≤–∫–∞ –¥–æ –ø—É–Ω–∫—Ç–∞ –≤—ã–¥–∞—á–∏ –°–î–≠–ö\",\n      \"delivery_mode\": \"DOOR_DOOR\",\n      \"delivery_sum\": 350.50,\n      \"period_min\": 2,\n      \"period_max\": 3,\n      \"calendar_min\": 2,\n      \"calendar_max\": 4\n    },\n    {\n      \"tariff_code\": 137,\n      \"tariff_name\": \"–ü–æ—Å—ã–ª–∫–∞ —Å–∫–ª–∞–¥-–¥–≤–µ—Ä—å\",\n      \"delivery_sum\": 450.00,\n      \"period_min\": 2,\n      \"period_max\": 3\n    }\n  ],\n  \"errors\": [],\n  \"warnings\": []\n}\n```\n\n---\n\n### 2Ô∏è‚É£ **–†–∞—Å—á–µ—Ç –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É —Ç–∞—Ä–∏—Ñ—É —Å –¥–æ–ø. —É—Å–ª—É–≥–∞–º–∏**\n\n**–ó–∞–ø—Ä–æ—Å:**\n```http\nPOST https://api.cdek.ru/v2/calculator/tariff\nContent-Type: application/json\nAuthorization: Bearer YOUR_ACCESS_TOKEN\ndeveloper-key: YOUR_DEVELOPER_KEY\n```\n\n```json\n{\n  \"type\": 1,\n  \"tariff_code\": 136,\n  \"from_location\": {\n    \"code\": 44,\n    \"address\": \"–ú–æ—Å–∫–≤–∞, —É–ª. –¢–≤–µ—Ä—Å–∫–∞—è, –¥. 1\"\n  },\n  \"to_location\": {\n    \"code\": 137,\n    \"address\": \"–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, –ù–µ–≤—Å–∫–∏–π –ø—Ä., –¥. 1\"\n  },\n  \"packages\": [\n    {\n      \"height\": 10,\n      \"length\": 20,\n      \"width\": 10,\n      \"weight\": 1000\n    }\n  ],\n  \"services\": [\n    {\n      \"code\": \"INSURANCE\",\n      \"parameter\": 5000\n    }\n  ]\n}\n```\n\n**–û—Ç–≤–µ—Ç:**\n```json\n{\n  \"delivery_sum\": 350.50,\n  \"period_min\": 2,\n  \"period_max\": 3,\n  \"calendar_min\": 2,\n  \"calendar_max\": 4,\n  \"weight_calc\": 1000,\n  \"services\": [\n    {\n      \"code\": \"INSURANCE\",\n      \"name\": \"–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ –≥—Ä—É–∑–∞\",\n      \"sum\": 100.00\n    }\n  ],\n  \"total_sum\": 450.50,\n  \"currency\": \"RUB\",\n  \"errors\": [],\n  \"warnings\": []\n}\n```\n\n---\n\n### 3Ô∏è‚É£ **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–∞—Ä–∏—Ñ–æ–≤**\n\n**–ó–∞–ø—Ä–æ—Å:**\n```http\nGET https://api.cdek.ru/v2/calculator/alltariffs\nAuthorization: Bearer YOUR_ACCESS_TOKEN\ndeveloper-key: YOUR_DEVELOPER_KEY\nX-User-Lang: rus\n```\n\n**–û—Ç–≤–µ—Ç:**\n```json\n{\n  \"tariff_codes\": [\n    {\n      \"tariff_code\": 136,\n      \"tariff_name\": \"–ü–æ—Å—ã–ª–∫–∞ —Å–∫–ª–∞–¥-—Å–∫–ª–∞–¥\",\n      \"weight_min\": 0.1,\n      \"weight_max\": 50000,\n      \"delivery_modes\": [\n        {\n          \"mode\": \"DOOR_DOOR\",\n          \"available\": true\n        },\n        {\n          \"mode\": \"DOOR_WAREHOUSE\",\n          \"available\": true\n        }\n      ]\n    }\n  ]\n}\n```\n\n---\n\n## üîß –ö–ª—é—á–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã\n\n### **–õ–æ–∫–∞—Ü–∏–∏ (from_location / to_location):**\n- `code` - –∫–æ–¥ –≥–æ—Ä–æ–¥–∞ –°–î–≠–ö (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)\n- `postal_code` - –ø–æ—á—Ç–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å\n- `address` - –ø–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å\n\n### **–£–ø–∞–∫–æ–≤–∫–∏ (packages):**\n- `height` - –≤—ã—Å–æ—Ç–∞ –≤ —Å–º\n- `length` - –¥–ª–∏–Ω–∞ –≤ —Å–º\n- `width` - —à–∏—Ä–∏–Ω–∞ –≤ —Å–º\n- `weight` - –≤–µ—Å –≤ –≥—Ä–∞–º–º–∞—Ö\n\n### **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏ (services):**\n- `INSURANCE` - —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ –≥—Ä—É–∑–∞\n- `PACKAGE` - —É–ø–∞–∫–æ–≤–∫–∞\n- `DELIVERY_TO_DOOR` - –¥–æ—Å—Ç–∞–≤–∫–∞ –¥–æ –¥–≤–µ—Ä–∏\n\n### **–¢–∏–ø—ã –∑–∞–∫–∞–∑–∞ (type):**\n- `1` - –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω\n- `2` - –¥–æ—Å—Ç–∞–≤–∫–∞\n\n---\n\n## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏\n\n1. ‚úÖ **–ü–æ–ª—É—á–∏—Ç—å OAuth —Ç–æ–∫–µ–Ω** (–æ–±–Ω–æ–≤–ª—è—Ç—å –∫–∞–∂–¥—ã–µ 3600 —Å–µ–∫)\n2. ‚úÖ **–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–æ–¥ –≥–æ—Ä–æ–¥–∞** —á–µ—Ä–µ–∑ API –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –°–î–≠–ö\n3. ‚úÖ **–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –ø–æ –≤—Å–µ–º —Ç–∞—Ä–∏—Ñ–∞–º** –¥–ª—è –≤—ã–±–æ—Ä–∞ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ\n4. ‚úÖ **–ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é** –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É —Ç–∞—Ä–∏—Ñ—É\n5. ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫–∏** –∏–∑ –ø–æ–ª–µ–π `errors` –∏ `warnings`\n\n---\n\n## üö® –í–∞–∂–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏\n\n- **–í–µ—Å –≤ –≥—Ä–∞–º–º–∞—Ö**, –≥–∞–±–∞—Ä–∏—Ç—ã –≤ **—Å–∞–Ω—Ç–∏–º–µ—Ç—Ä–∞—Ö**\n- **–¢–æ–∫–µ–Ω –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è** –∫–∞–∂–¥—ã–µ 3600 —Å–µ–∫—É–Ω–¥\n- **–ö–æ–¥—ã –≥–æ—Ä–æ–¥–æ–≤** –ø–æ–ª—É—á–∞—Ç—å —á–µ—Ä–µ–∑ API `/v2/location/cities`\n- **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã** –ø–æ–ª—è: `from_location`, `to_location`, `packages`\n- **–¢–∞—Ä–∏—Ñ 136** = —Å–∫–ª–∞–¥-—Å–∫–ª–∞–¥, **137** = —Å–∫–ª–∞–¥-–¥–≤–µ—Ä—å",
  "time": {
    "start": 1760432175799,
    "end": 1760432175799
  }
}
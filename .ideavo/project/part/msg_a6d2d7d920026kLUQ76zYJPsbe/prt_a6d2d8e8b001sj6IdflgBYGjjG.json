{
  "id": "prt_a6d2d8e8b001sj6IdflgBYGjjG",
  "sessionID": "ses_6852784ecffeuHwynj83p2lr14",
  "messageID": "msg_a6d2d7d920026kLUQ76zYJPsbe",
  "type": "tool",
  "callID": "toolu_01A66wdX2SKZx1nnrbUFhzxP",
  "tool": "read",
  "state": {
    "status": "completed",
    "input": {
      "filePath": "app/page.tsx",
      "limit": 100,
      "offset": 3400
    },
    "output": "<file>\n03401|         apiUrl\n03402|       };\n03403|     }\n03404|   };\n03405| \n03406|   // –†–∞—Å—á–µ—Ç –¥–ª—è Nord Wheel\n03407|   const calculateNordWheel = async (): Promise<CalculationResult> => {\n03408|     const apiUrl = 'https://nordw.ru/tools/api/calc/calculate/';\n03409|     \n03410|     try {\n03411|       // üîß –í–∞–ª–∏–¥–∞—Ü–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–µ—Å—Ç\n03412|       validateMultipleCargos(form.cargos);\n03413|       \n03414|       const totalWeight = form.cargos.reduce((sum, cargo) => sum + cargo.weight, 0);\n03415|       const totalVolume = form.cargos.reduce((sum, cargo) => \n03416|         sum + (cargo.length * cargo.width * cargo.height) / 1000000, 0\n03417|       );\n03418| \n03419|       // üîß –î–û–ë–ê–í–õ–ï–ù–û: –†–∞—Å—á–µ—Ç –≥–∞–±–∞—Ä–∏—Ç–æ–≤ –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–µ—Å—Ç\n03420|       const maxLength = Math.max(...form.cargos.map(c => c.length));\n03421|       const maxWidth = Math.max(...form.cargos.map(c => c.width));\n03422|       const maxHeight = Math.max(...form.cargos.map(c => c.height));\n03423|       \n03424|       // üîß –î–û–ë–ê–í–õ–ï–ù–û: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–µ–≥–∞–±–∞—Ä–∏—Ç (>2–º –ø–æ –ª—é–±–æ–º—É –∏–∑–º–µ—Ä–µ–Ω–∏—é)\n03425|       const isOversized = maxLength > 200 || maxWidth > 200 || maxHeight > 200 || totalWeight > 1000;\n03426|       \n03427|       // üîß –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–µ—Å—Ç\n03428|       console.log('üåê Nord Wheel: –ê–Ω–∞–ª–∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≥—Ä—É–∑–æ–≤—ã—Ö –º–µ—Å—Ç:');\n03429|       console.log(`   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Å—Ç: ${form.cargos.length}`);\n03430|       console.log(`   - –û–±—â–∏–π –≤–µ—Å: ${totalWeight} –∫–≥`);\n03431|       console.log(`   - –û–±—â–∏–π –æ–±—ä–µ–º: ${totalVolume.toFixed(3)} –º¬≥`);\n03432|       \n03433|       form.cargos.forEach((cargo, index) => {\n03434|         console.log(`   üì¶ –ú–µ—Å—Ç–æ ${index + 1}:`);\n03435|         console.log(`     - –ì–∞–±–∞—Ä–∏—Ç—ã: ${cargo.length}√ó${cargo.width}√ó${cargo.height} —Å–º`);\n03436|         console.log(`     - –í–µ—Å: ${cargo.weight} –∫–≥`);\n03437|         console.log(`     - –û–±—ä–µ–º: ${((cargo.length * cargo.width * cargo.height) / 1000000).toFixed(3)} –º¬≥`);\n03438|       });\n03439|       \n03440|       if (form.cargos.length > 1) {\n03441|         console.log(`   üìê –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –≥–∞–±–∞—Ä–∏—Ç—ã: ${maxLength}√ó${maxWidth}√ó${maxHeight} —Å–º`);\n03442|         console.log(`   üöõ –ù–µ–≥–∞–±–∞—Ä–∏—Ç: ${isOversized ? '–î–ê' : '–ù–ï–¢'}`);\n03443|       }\n03444| \n03445|       // üîß –ò–°–ü–†–ê–í–õ–ï–ù–û: –î–æ–±–∞–≤–ª–µ–Ω—ã –≥–∞–±–∞—Ä–∏—Ç–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ —É–ª—É—á—à–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –Ω–µ–≥–∞–±–∞—Ä–∏—Ç–∞\n03446|       const params = new URLSearchParams({\n03447|         from: '91', // –ú–æ—Å–∫–≤–∞ (–Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø–æ–ª—É—á–∞—Ç—å ID –≥–æ—Ä–æ–¥–∞)\n03448|         to: '92', // –°–ü–± (–Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø–æ–ª—É—á–∞—Ç—å ID –≥–æ—Ä–æ–¥–∞)\n03449|         pickup: form.fromAddressDelivery ? '1' : '0',\n03450|         deliver: form.toAddressDelivery ? '1' : '0',\n03451|         weight: totalWeight.toString(),\n03452|         volume: totalVolume.toString(),\n03453|         oversized: isOversized ? '1' : '0', // üîß –ò–°–ü–†–ê–í–õ–ï–ù–û: –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–µ–≥–∞–±–∞—Ä–∏—Ç–∞\n03454|         package: form.needPackaging ? '1' : '0',\n03455|         packageCount: form.cargos.length.toString(),\n03456|         insurance: form.needInsurance ? '1' : '0',\n03457|         sum: form.declaredValue.toString(),\n03458|         documentsReturn: '0',\n03459|         fragile: '1',\n03460|         // üîß –î–û–ë–ê–í–õ–ï–ù–û: –ì–∞–±–∞—Ä–∏—Ç–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã\n03461|         length: (maxLength / 100).toString(),      // –≤ –º–µ—Ç—Ä–∞—Ö\n03462|         width: (maxWidth / 100).toString(),        // –≤ –º–µ—Ç—Ä–∞—Ö\n03463|         height: (maxHeight / 100).toString(),      // –≤ –º–µ—Ç—Ä–∞—Ö\n03464|         // üîß –î–û–ë–ê–í–õ–ï–ù–û: –§–ª–∞–≥ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–µ—Å—Ç\n03465|         multiplePackages: form.cargos.length > 1 ? '1' : '0'\n03466|       });\n03467| \n03468|       const requestData = Object.fromEntries(params);\n03469|       const fullUrl = `${apiUrl}?${params.toString()}`;\n03470| \n03471|       const result = await enhancedApiRequest(\n03472|         fullUrl,\n03473|         {\n03474|           method: 'GET'\n03475|         },\n03476|         { operation: 'calculate', company: 'Nord Wheel' }\n03477|       );\n03478| \n03479|       if (result && typeof result === 'object' && 'success' in result && !result.success) {\n03480|         console.error('‚ùå Nord Wheel API –æ—à–∏–±–∫–∞:', result.error);\n03481|         return {\n03482|           company: 'Nord Wheel',\n03483|           price: 0,\n03484|           days: 0,\n03485|           error: result.error.userMessage || result.error.message,\n03486|           requestData: requestData,\n03487|           responseData: null,\n03488|           apiUrl: fullUrl\n03489|         };\n03490|       }\n03491| \n03492|       const response = result as Response;\n03493|       const data = await response.json();\n03494| \n03495|       if (response.ok && data.status === 'success' && data.data) {\n03496|         return {\n03497|           company: 'Nord Wheel',\n03498|           price: data.data.total || 0,\n03499|           days: data.data.days || 0,\n03500|           details: {\n\n(File has more lines. Use 'offset' parameter to read beyond line 3500)\n</file>",
    "title": "app/page.tsx",
    "metadata": {
      "preview": "        apiUrl\n      };\n    }\n  };\n\n  // –†–∞—Å—á–µ—Ç –¥–ª—è Nord Wheel\n  const calculateNordWheel = async (): Promise<CalculationResult> => {\n    const apiUrl = 'https://nordw.ru/tools/api/calc/calculate/';\n    \n    try {\n      // üîß –í–∞–ª–∏–¥–∞—Ü–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–µ—Å—Ç\n      validateMultipleCargos(form.cargos);\n      \n      const totalWeight = form.cargos.reduce((sum, cargo) => sum + cargo.weight, 0);\n      const totalVolume = form.cargos.reduce((sum, cargo) => \n        sum + (cargo.length * cargo.width * cargo.height) / 1000000, 0\n      );\n\n      // üîß –î–û–ë–ê–í–õ–ï–ù–û: –†–∞—Å—á–µ—Ç –≥–∞–±–∞—Ä–∏—Ç–æ–≤ –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–µ—Å—Ç\n      const maxLength = Math.max(...form.cargos.map(c => c.length));"
    },
    "time": {
      "start": 1762768294286,
      "end": 1762768294295
    }
  }
}
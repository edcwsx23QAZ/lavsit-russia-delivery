{
  "id": "prt_b22f877610018TE0mPN0F7w0Cu",
  "sessionID": "ses_4dd34592affehJqMoLA2ZOxuZo",
  "messageID": "msg_b22f869a3001E2lbVvCck5inaj",
  "type": "text",
  "text": "–û—Ç–ª–∏—á–Ω–æ! –°–±–æ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–∞. –¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–º –∏—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç:\n\n## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: Nordwheel —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π API Dadata (suggest)\n\n### üî¥ –ü—Ä–æ–±–ª–µ–º–∞:\nAPI –∫–ª—é—á Dadata **–Ω–µ –∏–º–µ–ª –¥–æ—Å—Ç—É–ø–∞ –∫ –º–µ—Ç–æ–¥—É CLEAN** (–ø–ª–∞—Ç–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è):\n```\n403 Forbidden\n\"Feature 'CLEAN' disabled for token\"\n```\n\n### ‚úÖ –†–µ—à–µ–Ω–∏–µ:\n–ò–∑–º–µ–Ω–µ–Ω –º–µ—Ç–æ–¥ –∑–∞–ø—Ä–æ—Å–∞ —Å **CLEAN** –Ω–∞ **SUGGEST** (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –º–µ—Ç–æ–¥).\n\n### üìù –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:\n\n#### 1. **–§—É–Ω–∫—Ü–∏—è `getCityFiasFromAddress`**\n**–ë—ã–ª–æ:** `type: 'clean'` (–ø–ª–∞—Ç–Ω—ã–π)  \n**–°—Ç–∞–ª–æ:** `type: 'suggest'` (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π)\n\n**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞ suggest API:**\n```json\n{\n  \"success\": true,\n  \"data\": [\n    {\n      \"value\": \"–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª, –≥ –õ–æ—Å–∏–Ω–æ-–ü–µ—Ç—Ä–æ–≤—Å–∫–∏–π, –¥ –û—Å–µ–µ–≤–æ\",\n      \"data\": {\n        \"city\": \"–õ–æ—Å–∏–Ω–æ-–ü–µ—Ç—Ä–æ–≤—Å–∫–∏–π\",\n        \"city_fias_id\": \"96c869d9-51a8-4db6-8011-9fc459c9a78c\",\n        \"settlement\": \"–û—Å–µ–µ–≤–æ\",\n        \"settlement_fias_id\": \"e8e2c58c-30f4-4664-9014-b778b76052e4\"\n      }\n    }\n  ]\n}\n```\n\n#### 2. **–§—É–Ω–∫—Ü–∏—è `getNordwheelCityFias`**\n–¢–∞–∫–∂–µ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–∞ –Ω–∞ `suggest` API.\n\n### üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è —Å–∫–ª–∞–¥–∞ –õ–∞–≤—Å–∏—Ç:\n\n**–ó–∞–ø—Ä–æ—Å –∫ Dadata:**\n```javascript\nPOST /api/dadata\n{\n  \"address\": \"–õ–æ—Å–∏–Ω–æ-–ü–µ—Ç—Ä–æ–≤—Å–∫–∏–π, –¥.–û—Å–µ–µ–≤–æ\",\n  \"type\": \"suggest\"  // ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –º–µ—Ç–æ–¥\n}\n```\n\n**–û—Ç–≤–µ—Ç Dadata:**\n```json\n{\n  \"success\": true,\n  \"data\": [{\n    \"data\": {\n      \"city_fias_id\": \"96c869d9-51a8-4db6-8011-9fc459c9a78c\"  // ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π FIAS\n    }\n  }]\n}\n```\n\n**–ó–∞–ø—Ä–æ—Å –∫ Nordwheel:**\n```json\n{\n  \"dispatch\": {\n    \"location\": {\n      \"type\": \"address\",\n      \"city_fias\": \"96c869d9-51a8-4db6-8011-9fc459c9a78c\"  // ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç!\n    }\n  }\n}\n```\n\n### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:\n1. ‚úÖ **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –º–µ—Ç–æ–¥** - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –ø–ª–∞—Ç–Ω–æ–≥–æ —Ç–∞—Ä–∏—Ñ–∞ Dadata\n2. ‚úÖ **–¢–∞ –∂–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `city_fias_id` –∏ `settlement_fias_id`\n3. ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç** - 403 –æ—à–∏–±–æ–∫ –±–æ–ª—å—à–µ –Ω–µ—Ç\n4. ‚úÖ **–¢–æ–ª—å–∫–æ Nordwheel** - –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—Ç –¥—Ä—É–≥–∏–µ –¢–ö\n5. ‚úÖ **–°–±–æ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–∞** - –±–µ–∑ –æ—à–∏–±–æ–∫\n\n–¢–µ–ø–µ—Ä—å API Nordwheel –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å city_fias_id –∏–∑ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ Dadata API! üéâ",
  "time": {
    "start": 1765818282883,
    "end": 1765818282883
  }
}
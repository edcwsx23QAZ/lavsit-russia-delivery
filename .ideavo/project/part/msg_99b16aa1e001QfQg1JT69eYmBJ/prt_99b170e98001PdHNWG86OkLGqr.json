{
  "id": "prt_99b170e98001PdHNWG86OkLGqr",
  "messageID": "msg_99b16aa1e001QfQg1JT69eYmBJ",
  "sessionID": "ses_6852784ecffeuHwynj83p2lr14",
  "type": "tool",
  "tool": "read",
  "callID": "toolu_01BHCPWNxUXudEPsQq8Cf1qA",
  "state": {
    "status": "completed",
    "input": {
      "filePath": "/home/user/project/components/diagnostic/ApiTestingSection.tsx"
    },
    "output": "<file>\n00001| 'use client';\n00002| \n00003| import React from 'react';\n00004| import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\n00005| import { Button } from '@/components/ui/button';\n00006| import { Alert, AlertDescription } from '@/components/ui/alert';\n00007| import { Badge } from '@/components/ui/badge';\n00008| import { Truck, CheckCircle, AlertCircle, XCircle, Activity } from 'lucide-react';\n00009| \n00010| interface DiagnosticResult {\n00011|   status: 'success' | 'warning' | 'error' | 'pending';\n00012|   message: string;\n00013|   details?: any;\n00014|   response?: any;\n00015|   requestData?: any;\n00016|   timing?: number;\n00017| }\n00018| \n00019| interface ApiTestingSectionProps {\n00020|   diagnosticResults: { [key: string]: DiagnosticResult };\n00021|   testStates: {\n00022|     isTestingPEK: boolean;\n00023|     isTestingDellin: boolean;\n00024|     isTestingRailContinent: boolean;\n00025|     isTestingVozovoz: boolean;\n00026|     isTestingNordWheel: boolean;\n00027|   };\n00028|   onTestPEK: () => void;\n00029|   onTestDellin: () => void;\n00030|   onTestRailContinent: () => void;\n00031|   onTestVozovoz: () => void;\n00032|   onTestNordWheel: () => void;\n00033| }\n00034| \n00035| export default function ApiTestingSection({\n00036|   diagnosticResults,\n00037|   testStates,\n00038|   onTestPEK,\n00039|   onTestDellin,\n00040|   onTestRailContinent,\n00041|   onTestVozovoz,\n00042|   onTestNordWheel\n00043| }: ApiTestingSectionProps) {\n00044|   const getStatusIcon = (status: string) => {\n00045|     switch (status) {\n00046|       case 'success': return <CheckCircle className=\"h-4 w-4 text-green-400\" />;\n00047|       case 'warning': return <AlertCircle className=\"h-4 w-4 text-yellow-400\" />;\n00048|       case 'error': return <XCircle className=\"h-4 w-4 text-red-400\" />;\n00049|       default: return <Activity className=\"h-4 w-4 text-gray-400\" />;\n00050|     }\n00051|   };\n00052| \n00053|   const getStatusColor = (status: string) => {\n00054|     switch (status) {\n00055|       case 'success': return 'border-green-500 bg-green-900/20';\n00056|       case 'warning': return 'border-yellow-500 bg-yellow-900/20';\n00057|       case 'error': return 'border-red-500 bg-red-900/20';\n00058|       default: return 'border-gray-500 bg-gray-900/20';\n00059|     }\n00060|   };\n00061| \n00062|   const renderApiCard = (\n00063|     name: string,\n00064|     title: string,\n00065|     color: string,\n00066|     isLoading: boolean,\n00067|     onTest: () => void,\n00068|     resultKey: string\n00069|   ) => {\n00070|     const result = diagnosticResults[resultKey];\n00071|     \n00072|     return (\n00073|       <Card className=\"border-gray-700 bg-gray-900\">\n00074|         <CardHeader>\n00075|           <CardTitle className=\"flex items-center justify-between\">\n00076|             <div className=\"flex items-center gap-2\">\n00077|               <Truck className={`h-5 w-5 ${color}`} />\n00078|               {title}\n00079|             </div>\n00080|             <Button \n00081|               onClick={onTest} \n00082|               disabled={isLoading}\n00083|               size=\"sm\"\n00084|               variant=\"outline\"\n00085|             >\n00086|               {isLoading ? 'Тестирование...' : 'Тест'}\n00087|             </Button>\n00088|           </CardTitle>\n00089|         </CardHeader>\n00090|         <CardContent>\n00091|           {result ? (\n00092|             <Alert className={getStatusColor(result.status)}>\n00093|               <div className=\"flex items-start gap-2\">\n00094|                 {getStatusIcon(result.status)}\n00095|                 <div className=\"flex-1\">\n00096|                   <AlertDescription>\n00097|                     <div className=\"font-medium mb-2 text-white\">{result.message}</div>\n00098|                     {result.timing && (\n00099|                       <Badge variant=\"outline\" className=\"mb-2\">\n00100|                         Время ответа: {result.timing}мс\n00101|                       </Badge>\n00102|                     )}\n00103|                     {result.details && (\n00104|                       <details className=\"mt-2\">\n00105|                         <summary className=\"cursor-pointer text-sm text-gray-300\">Подробности</summary>\n00106|                         <pre className=\"text-xs mt-2 p-2 bg-gray-800 rounded overflow-auto\">\n00107|                           {JSON.stringify(result.details, null, 2)}\n00108|                         </pre>\n00109|                       </details>\n00110|                     )}\n00111|                   </AlertDescription>\n00112|                 </div>\n00113|               </div>\n00114|             </Alert>\n00115|           ) : (\n00116|             <p className=\"text-gray-400\">Нажмите \"Тест\" для проверки API {title}</p>\n00117|           )}\n00118|         </CardContent>\n00119|       </Card>\n00120|     );\n00121|   };\n00122| \n00123|   return (\n00124|     <div className=\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6\">\n00125|       {renderApiCard('pek', 'ПЭК', 'text-blue-400', testStates.isTestingPEK, onTestPEK, 'pek')}\n00126|       {renderApiCard('dellin', 'Деловые Линии', 'text-green-400', testStates.isTestingDellin, onTestDellin, 'dellin')}\n00127|       {renderApiCard('railcontinent', 'Rail Continent', 'text-purple-400', testStates.isTestingRailContinent, onTestRailContinent, 'railcontinent')}\n00128|       {renderApiCard('vozovoz', 'Возовоз', 'text-orange-400', testStates.isTestingVozovoz, onTestVozovoz, 'vozovoz')}\n00129|       {renderApiCard('nordwheel', 'Nord Wheel', 'text-cyan-400', testStates.isTestingNordWheel, onTestNordWheel, 'nordwheel')}\n00130|     </div>\n00131|   );\n00132| }\n</file>",
    "metadata": {
      "preview": "'use client';\n\nimport React from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Badge } from '@/components/ui/badge';\nimport { Truck, CheckCircle, AlertCircle, XCircle, Activity } from 'lucide-react';\n\ninterface DiagnosticResult {\n  status: 'success' | 'warning' | 'error' | 'pending';\n  message: string;\n  details?: any;\n  response?: any;\n  requestData?: any;\n  timing?: number;\n}\n\ninterface ApiTestingSectionProps {\n  diagnosticResults: { [key: string]: DiagnosticResult };"
    },
    "title": "components/diagnostic/ApiTestingSection.tsx",
    "time": {
      "start": 1759243604043,
      "end": 1759243604045
    }
  }
}
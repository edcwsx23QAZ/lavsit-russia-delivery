{
  "id": "prt_a930f1030001c0KxMy156xuFao",
  "sessionID": "ses_6852784ecffeuHwynj83p2lr14",
  "messageID": "msg_a930f0049001r7bNOm8T45n3Kn",
  "type": "tool",
  "callID": "call_87304101",
  "tool": "read",
  "state": {
    "status": "completed",
    "input": {
      "filePath": "components/diagnostic/TechnicalDocumentation.tsx",
      "limit": 100
    },
    "output": "<file>\n00001| 'use client';\n00002| \n00003| import React, { useState, useEffect, useCallback } from 'react';\n00004| import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\n00005| import { Button } from '@/components/ui/button';\n00006| import { Badge } from '@/components/ui/badge';\n00007| import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\n00008| import { Alert, AlertDescription } from '@/components/ui/alert';\n00009| import { ScrollArea } from '@/components/ui/scroll-area';\n00010| import {\n00011|   FileText,\n00012|   RefreshCw,\n00013|   Code,\n00014|   Settings,\n00015|   Truck,\n00016|   Database,\n00017|   Globe,\n00018|   AlertTriangle,\n00019|   CheckCircle,\n00020|   Clock\n00021| } from 'lucide-react';\n00022| \n00023| interface DocumentationBlock {\n00024|   id: string;\n00025|   title: string;\n00026|   type: 'function' | 'component' | 'api' | 'logic' | 'data';\n00027|   description: string;\n00028|   code?: string;\n00029|   dependencies?: string[];\n00030|   relatedFiles?: string[];\n00031|   apiEndpoints?: string[];\n00032|   lastModified?: Date;\n00033| }\n00034| \n00035| interface ChangeRecord {\n00036|   id: string;\n00037|   timestamp: Date;\n00038|   type: 'added' | 'modified' | 'deleted';\n00039|   impact: 'low' | 'medium' | 'high';\n00040|   description: string;\n00041|   affectedFunctions: string[];\n00042|   files: string[];\n00043| }\n00044| \n00045| const TechnicalDocumentation: React.FC = () => {\n00046|   const [documentation, setDocumentation] = useState<DocumentationBlock[]>([]);\n00047|   const [changes, setChanges] = useState<ChangeRecord[]>([]);\n00048|   const [loading, setLoading] = useState(false);\n00049|   const [lastAnalysis, setLastAnalysis] = useState<Date | null>(null);\n00050|   const [activeTab, setActiveTab] = useState('overview');\n00051| \n00052|   // Load saved documentation and changes\n00053|   useEffect(() => {\n00054|     try {\n00055|       const savedDocs = localStorage.getItem('technicalDocumentation');\n00056|       const savedChanges = localStorage.getItem('documentationChanges');\n00057|       const savedLastAnalysis = localStorage.getItem('lastDocumentationAnalysis');\n00058| \n00059|       if (savedDocs) {\n00060|         const parsed = JSON.parse(savedDocs);\n00061|         setDocumentation(parsed.map((doc: any) => ({\n00062|           ...doc,\n00063|           lastModified: doc.lastModified ? new Date(doc.lastModified) : undefined\n00064|         })));\n00065|       }\n00066| \n00067|       if (savedChanges) {\n00068|         const parsed = JSON.parse(savedChanges);\n00069|         setChanges(parsed.map((change: any) => ({\n00070|           ...change,\n00071|           timestamp: new Date(change.timestamp)\n00072|         })));\n00073|       }\n00074| \n00075|       if (savedLastAnalysis) {\n00076|         setLastAnalysis(new Date(savedLastAnalysis));\n00077|       }\n00078|     } catch (error) {\n00079|       console.error('Error loading documentation:', error);\n00080|     }\n00081|   }, []);\n00082| \n00083|   const analyzeApplication = useCallback(async () => {\n00084|     setLoading(true);\n00085| \n00086|     try {\n00087|       // Get git changes since last analysis\n00088|       const changesResponse = await fetch('/api/run-tests?analyze=true', {\n00089|         method: 'POST',\n00090|         headers: { 'Content-Type': 'application/json' },\n00091|         body: JSON.stringify({\n00092|           action: 'analyze_changes',\n00093|           since: lastAnalysis?.toISOString()\n00094|         })\n00095|       });\n00096| \n00097|       let newChanges: ChangeRecord[] = [];\n00098|       if (changesResponse.ok) {\n00099|         const changesData = await changesResponse.json();\n00100|         newChanges = changesData.changes || [];\n\n(File has more lines. Use 'offset' parameter to read beyond line 100)\n</file>",
    "title": "components/diagnostic/TechnicalDocumentation.tsx",
    "metadata": {
      "preview": "'use client';\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport {\n  FileText,\n  RefreshCw,\n  Code,\n  Settings,\n  Truck,\n  Database,\n  Globe,\n  AlertTriangle,\n  CheckCircle,\n  Clock"
    },
    "time": {
      "start": 1763403829298,
      "end": 1763403829300
    }
  }
}
{
  "id": "prt_acc3aad50001YfD6XU61j0JJ9Y",
  "sessionID": "ses_54b97e247ffenCZZa4jZiIWD0l",
  "messageID": "msg_acc3a959e001Xnz2aCgn5z5JAU",
  "type": "tool",
  "callID": "call_09d872d1104143838eef58b4",
  "tool": "read",
  "state": {
    "status": "completed",
    "input": {
      "filePath": "/home/user/project/app/vozovoz-parser/page.tsx"
    },
    "output": "<file>\n00001| \"use client\";\n00002| \n00003| import { useState } from 'react';\n00004| import { Button } from '@/components/ui/button';\n00005| import { Input } from '@/components/ui/input';\n00006| import { Label } from '@/components/ui/label';\n00007| import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\n00008| import { Checkbox } from '@/components/ui/checkbox';\n00009| import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\n00010| import { Loader2, Play, GitCompare } from 'lucide-react';\n00011| import CalculationDetails from '@/components/CalculationDetails';\n00012| \n00013| interface VozovozParserParams {\n00014|   fromCity: string;\n00015|   toCity: string;\n00016|   fromAddressDelivery: boolean;\n00017|   toAddressDelivery: boolean;\n00018|   fromAddress?: string;\n00019|   toAddress?: string;\n00020|   length: number;\n00021|   width: number;\n00022|   height: number;\n00023|   weight: number;\n00024|   needInsurance: boolean;\n00025|   declaredValue?: number;\n00026|   needPackaging: boolean;\n00027|   needLoading: boolean;\n00028|   hasFreightElevator: boolean;\n00029|   floor: number;\n00030| }\n00031| \n00032| interface ParsedResult {\n00033|   totalCost: number;\n00034|   services: ServiceItem[];\n00035|   deliveryTime?: string;\n00036|   warnings?: string[];\n00037|   parseTime?: number;\n00038| }\n00039| \n00040| interface ServiceItem {\n00041|   name: string;\n00042|   basePrice?: number;\n00043|   price: number;\n00044|   discount?: number;\n00045| }\n00046| \n00047| interface ApiResult {\n00048|   price: number;\n00049|   days: number;\n00050|   details?: any;\n00051|   error?: string;\n00052| }\n00053| \n00054| export default function VozovozParserPage() {\n00055|   const [params, setParams] = useState<VozovozParserParams>({\n00056|     fromCity: '–ú–æ—Å–∫–≤–∞',\n00057|     toCity: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',\n00058|     fromAddressDelivery: false,\n00059|     toAddressDelivery: true,\n00060|     fromAddress: '',\n00061|     toAddress: '–ù–µ–≤—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç –¥.132',\n00062|     length: 200,\n00063|     width: 100,\n00064|     height: 100,\n00065|     weight: 100,\n00066|     needInsurance: false,\n00067|     declaredValue: 0,\n00068|     needPackaging: false,\n00069|     needLoading: false,\n00070|     hasFreightElevator: false,\n00071|     floor: 1\n00072|   });\n00073| \n00074|   const [parserResult, setParserResult] = useState<ParsedResult | null>(null);\n00075|   const [apiResult, setApiResult] = useState<ApiResult | null>(null);\n00076|   const [isParserLoading, setIsParserLoading] = useState(false);\n00077|   const [isApiLoading, setIsApiLoading] = useState(false);\n00078|   const [error, setError] = useState<string | null>(null);\n00079| \n00080|   const handleParamChange = (key: keyof VozovozParserParams, value: any) => {\n00081|     setParams(prev => ({ ...prev, [key]: value }));\n00082|   };\n00083| \n00084|   const runParser = async () => {\n00085|     setIsParserLoading(true);\n00086|     setError(null);\n00087|     setParserResult(null);\n00088| \n00089|     try {\n00090|       const response = await fetch('/api/vozovoz-parser-hybrid', {\n00091|         method: 'POST',\n00092|         headers: {\n00093|           'Content-Type': 'application/json',\n00094|         },\n00095|         body: JSON.stringify(params),\n00096|       });\n00097| \n00098|       if (!response.ok) {\n00099|         throw new Error(`–û—à–∏–±–∫–∞ HTTP: ${response.status}`);\n00100|       }\n00101| \n00102|       const result = await response.json();\n00103|       \n00104|       if (result.error) {\n00105|         throw new Error(result.error);\n00106|       }\n00107| \n00108|       setParserResult(result);\n00109|     } catch (err: any) {\n00110|       setError(err.message || '–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –ø–∞—Ä—Å–µ—Ä–∞');\n00111|     } finally {\n00112|       setIsParserLoading(false);\n00113|     }\n00114|   };\n00115| \n00116|   const runApiComparison = async () => {\n00117|     setIsApiLoading(true);\n00118|     setApiResult(null);\n00119| \n00120|     try {\n00121|       // –§–æ—Ä–º–∏—Ä—É–µ–º –∑–∞–ø—Ä–æ—Å –¥–ª—è API –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –æ—Å–Ω–æ–≤–Ω–æ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é\n00122|       const maxDimensions = {\n00123|         length: params.length / 1000, // –ø–µ—Ä–µ–≤–æ–¥–∏–º –º–º –≤ –º\n00124|         width: params.width / 1000,\n00125|         height: params.height / 1000,\n00126|         weight: params.weight\n00127|       };\n00128| \n00129|       const totalVolume = (params.length * params.width * params.height) / 1000000000; // –º¬≥\n00130|       const totalWeight = params.weight;\n00131| \n00132|       const requestData = {\n00133|         object: \"price\",\n00134|         action: \"get\",\n00135|         params: {\n00136|           cargo: {\n00137|             dimension: {\n00138|               max: maxDimensions,\n00139|               quantity: 1,\n00140|               volume: totalVolume,\n00141|               weight: totalWeight\n00142|             },\n00143|             ...(params.needInsurance && (params.declaredValue || 0) > 0 ? {\n00144|               insurance: params.declaredValue || 0,\n00145|               insuranceNdv: false\n00146|             } : {\n00147|               insuranceNdv: true\n00148|             }),\n00149|             ...(params.needPackaging ? {\n00150|               wrapping: {\n00151|                 \"hardPackageVolume\": totalVolume\n00152|               }\n00153|             } : {})\n00154|           },\n00155|           gateway: {\n00156|             dispatch: {\n00157|               point: {\n00158|                 location: params.fromCity,\n00159|                 ...(params.fromAddressDelivery ? {\n00160|                   address: params.fromAddress || \"–∞–¥—Ä–µ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è\"\n00161|                 } : {\n00162|                   terminal: \"default\"\n00163|                 })\n00164|               }\n00165|             },\n00166|             destination: {\n00167|               point: {\n00168|                 location: params.toCity,\n00169|                 ...(params.toAddressDelivery ? {\n00170|                   address: params.toAddress || \"–∞–¥—Ä–µ—Å –ø–æ–ª—É—á–µ–Ω–∏—è\"\n00171|                 } : {\n00172|                   terminal: \"default\"\n00173|                 })\n00174|               }\n00175|             }\n00176|           }\n00177|         }\n00178|       };\n00179| \n00180|       const response = await fetch('/api/vozovoz', {\n00181|         method: 'POST',\n00182|         headers: {\n00183|           'Content-Type': 'application/json',\n00184|         },\n00185|         body: JSON.stringify(requestData),\n00186|       });\n00187| \n00188|       if (!response.ok) {\n00189|         throw new Error(`–û—à–∏–±–∫–∞ API: ${response.status}`);\n00190|       }\n00191| \n00192|       const result = await response.json();\n00193|       \n00194|       if (result.error) {\n00195|         throw new Error(result.error);\n00196|       }\n00197| \n00198|       setApiResult({\n00199|         price: result.response?.price || 0,\n00200|         days: result.response?.deliveryTime?.to || 1,\n00201|         details: result.response\n00202|       });\n00203|     } catch (err: any) {\n00204|       setError(err.message || '–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ API –∑–∞–ø—Ä–æ—Å–∞');\n00205|     } finally {\n00206|       setIsApiLoading(false);\n00207|     }\n00208|   };\n00209| \n00210|   const runBoth = async () => {\n00211|     await Promise.all([runParser(), runApiComparison()]);\n00212|   };\n00213| \n00214|   const calculateDifference = () => {\n00215|     if (!parserResult || !apiResult) return null;\n00216|     \n00217|     const diff = parserResult.totalCost - apiResult.price;\n00218|     const percent = ((diff / apiResult.price) * 100).toFixed(1);\n00219|     \n00220|     return {\n00221|       absolute: diff,\n00222|       percent: parseFloat(percent),\n00223|       parserMore: diff > 0\n00224|     };\n00225|   };\n00226| \n00227|   const difference = calculateDifference();\n00228| \n00229|   return (\n00230|     <div className=\"min-h-screen bg-gray-900 text-white p-6\">\n00231|       <div className=\"max-w-7xl mx-auto\">\n00232|         <div className=\"mb-6\">\n00233|           <h1 className=\"text-3xl font-bold mb-2\">üï∑Ô∏è –ü–∞—Ä—Å–µ—Ä Vozovoz</h1>\n00234|           <p className=\"text-gray-400\">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ—á–Ω–æ—Å—Ç–∏ —Ä–∞—Å—á–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ –≤–µ–±-–ø–∞—Ä—Å–∏–Ω–≥ —Å–∞–π—Ç–∞</p>\n00235|         </div>\n00236| \n00237|         <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n00238|           {/* –§–æ—Ä–º–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ */}\n00239|           <Card className=\"bg-gray-800 border-gray-700\">\n00240|             <CardHeader>\n00241|               <CardTitle className=\"text-xl\">üìã –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≥—Ä—É–∑–∞</CardTitle>\n00242|             </CardHeader>\n00243|             <CardContent className=\"space-y-4\">\n00244|               {/* –ú–∞—Ä—à—Ä—É—Ç */}\n00245|               <div className=\"space-y-3\">\n00246|                 <h3 className=\"text-lg font-semibold text-blue-400\">üõ£Ô∏è –ú–∞—Ä—à—Ä—É—Ç</h3>\n00247|                 \n00248|                 <div>\n00249|                   <Label>–ì–æ—Ä–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è</Label>\n00250|                   <Input\n00251|                     value={params.fromCity}\n00252|                     onChange={(e) => handleParamChange('fromCity', e.target.value)}\n00253|                     placeholder=\"–ú–æ—Å–∫–≤–∞\"\n00254|                     className=\"bg-gray-700 border-gray-600\"\n00255|                   />\n00256|                 </div>\n00257| \n00258|                 <div className=\"flex items-center space-x-4\">\n00259|                   <Checkbox\n00260|                     checked={params.fromAddressDelivery}\n00261|                     onCheckedChange={(checked) => handleParamChange('fromAddressDelivery', checked)}\n00262|                   />\n00263|                   <Label>–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç –∞–¥—Ä–µ—Å–∞</Label>\n00264|                 </div>\n00265| \n00266|                 {params.fromAddressDelivery && (\n00267|                   <div>\n00268|                     <Label>–ê–¥—Ä–µ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è</Label>\n00269|                     <Input\n00270|                       value={params.fromAddress}\n00271|                       onChange={(e) => handleParamChange('fromAddress', e.target.value)}\n00272|                       placeholder=\"–ê–¥—Ä–µ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è\"\n00273|                       className=\"bg-gray-700 border-gray-600\"\n00274|                     />\n00275|                   </div>\n00276|                 )}\n00277| \n00278|                 <div>\n00279|                   <Label>–ì–æ—Ä–æ–¥ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è</Label>\n00280|                   <Input\n00281|                     value={params.toCity}\n00282|                     onChange={(e) => handleParamChange('toCity', e.target.value)}\n00283|                     placeholder=\"–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥\"\n00284|                     className=\"bg-gray-700 border-gray-600\"\n00285|                   />\n00286|                 </div>\n00287| \n00288|                 <div className=\"flex items-center space-x-4\">\n00289|                   <Checkbox\n00290|                     checked={params.toAddressDelivery}\n00291|                     onCheckedChange={(checked) => handleParamChange('toAddressDelivery', checked)}\n00292|                   />\n00293|                   <Label>–î–æ—Å—Ç–∞–≤–∫–∞ –¥–æ –∞–¥—Ä–µ—Å–∞</Label>\n00294|                 </div>\n00295| \n00296|                 {params.toAddressDelivery && (\n00297|                   <div>\n00298|                     <Label>–ê–¥—Ä–µ—Å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è</Label>\n00299|                     <Input\n00300|                       value={params.toAddress}\n00301|                       onChange={(e) => handleParamChange('toAddress', e.target.value)}\n00302|                       placeholder=\"–ê–¥—Ä–µ—Å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è\"\n00303|                       className=\"bg-gray-700 border-gray-600\"\n00304|                     />\n00305|                   </div>\n00306|                 )}\n00307|               </div>\n00308| \n00309|               {/* –ì–∞–±–∞—Ä–∏—Ç—ã */}\n00310|               <div className=\"space-y-3\">\n00311|                 <h3 className=\"text-lg font-semibold text-green-400\">üì¶ –ì–∞–±–∞—Ä–∏—Ç—ã –∏ –≤–µ—Å</h3>\n00312|                 \n00313|                 <div className=\"grid grid-cols-2 gap-3\">\n00314|                   <div>\n00315|                     <Label>–î–ª–∏–Ω–∞ (—Å–º)</Label>\n00316|                     <Input\n00317|                       type=\"number\"\n00318|                       value={params.length}\n00319|                       onChange={(e) => handleParamChange('length', parseInt(e.target.value) || 0)}\n00320|                       className=\"bg-gray-700 border-gray-600\"\n00321|                     />\n00322|                   </div>\n00323|                   <div>\n00324|                     <Label>–®–∏—Ä–∏–Ω–∞ (—Å–º)</Label>\n00325|                     <Input\n00326|                       type=\"number\"\n00327|                       value={params.width}\n00328|                       onChange={(e) => handleParamChange('width', parseInt(e.target.value) || 0)}\n00329|                       className=\"bg-gray-700 border-gray-600\"\n00330|                     />\n00331|                   </div>\n00332|                   <div>\n00333|                     <Label>–í—ã—Å–æ—Ç–∞ (—Å–º)</Label>\n00334|                     <Input\n00335|                       type=\"number\"\n00336|                       value={params.height}\n00337|                       onChange={(e) => handleParamChange('height', parseInt(e.target.value) || 0)}\n00338|                       className=\"bg-gray-700 border-gray-600\"\n00339|                     />\n00340|                   </div>\n00341|                   <div>\n00342|                     <Label>–í–µ—Å (–∫–≥)</Label>\n00343|                     <Input\n00344|                       type=\"number\"\n00345|                       value={params.weight}\n00346|                       onChange={(e) => handleParamChange('weight', parseInt(e.target.value) || 0)}\n00347|                       className=\"bg-gray-700 border-gray-600\"\n00348|                     />\n00349|                   </div>\n00350|                 </div>\n00351|               </div>\n00352| \n00353|               {/* –î–æ–ø —É—Å–ª—É–≥–∏ */}\n00354|               <div className=\"space-y-3\">\n00355|                 <h3 className=\"text-lg font-semibold text-yellow-400\">üõ°Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏</h3>\n00356|                 \n00357|                 <div className=\"flex items-center space-x-4\">\n00358|                   <Checkbox\n00359|                     checked={params.needInsurance}\n00360|                     onCheckedChange={(checked) => handleParamChange('needInsurance', checked)}\n00361|                   />\n00362|                   <Label>–¢—Ä–µ–±—É–µ—Ç—Å—è —Å—Ç—Ä–∞—Ö–æ–≤–∫–∞</Label>\n00363|                 </div>\n00364| \n00365|                 {params.needInsurance && (\n00366|                   <div>\n00367|                     <Label>–û–±—ä—è–≤–ª–µ–Ω–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å (‚ÇΩ)</Label>\n00368|                     <Input\n00369|                       type=\"number\"\n00370|                       value={params.declaredValue}\n00371|                       onChange={(e) => handleParamChange('declaredValue', parseInt(e.target.value) || 0)}\n00372|                       placeholder=\"50000\"\n00373|                       className=\"bg-gray-700 border-gray-600\"\n00374|                     />\n00375|                   </div>\n00376|                 )}\n00377| \n00378|                 <div className=\"flex items-center space-x-4\">\n00379|                   <Checkbox\n00380|                     checked={params.needPackaging}\n00381|                     onCheckedChange={(checked) => handleParamChange('needPackaging', checked)}\n00382|                   />\n00383|                   <Label>–¢—Ä–µ–±—É–µ—Ç—Å—è —É–ø–∞–∫–æ–≤–∫–∞</Label>\n00384|                 </div>\n00385| \n00386|                 <div className=\"flex items-center space-x-4\">\n00387|                   <Checkbox\n00388|                     checked={params.needLoading}\n00389|                     onCheckedChange={(checked) => handleParamChange('needLoading', checked)}\n00390|                   />\n00391|                   <Label>–¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–≥—Ä—É–∑–∫–∞/—Ä–∞–∑–≥—Ä—É–∑–∫–∞</Label>\n00392|                 </div>\n00393| \n00394|                 {params.needLoading && (\n00395|                   <div className=\"grid grid-cols-2 gap-3\">\n00396|                     <div>\n00397|                       <Label>–ù–∞–ª–∏—á–∏–µ –≥—Ä—É–∑–æ–≤–æ–≥–æ –ª–∏—Ñ—Ç–∞</Label>\n00398|                       <Select value={params.hasFreightElevator ? 'freight' : 'passenger'} onValueChange={(value) => handleParamChange('hasFreightElevator', value === 'freight')}>\n00399|                         <SelectTrigger className=\"bg-gray-700 border-gray-600\">\n00400|                           <SelectValue />\n00401|                         </SelectTrigger>\n00402|                         <SelectContent>\n00403|                           <SelectItem value=\"passenger\">–ü–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π</SelectItem>\n00404|                           <SelectItem value=\"freight\">–ì—Ä—É–∑–æ–≤–æ–π</SelectItem>\n00405|                         </SelectContent>\n00406|                       </Select>\n00407|                     </div>\n00408|                     <div>\n00409|                       <Label>–≠—Ç–∞–∂</Label>\n00410|                       <Input\n00411|                         type=\"number\"\n00412|                         value={params.floor}\n00413|                         onChange={(e) => handleParamChange('floor', parseInt(e.target.value) || 1)}\n00414|                         className=\"bg-gray-700 border-gray-600\"\n00415|                       />\n00416|                     </div>\n00417|                   </div>\n00418|                 )}\n00419|               </div>\n00420| \n00421|               {/* –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */}\n00422|               <div className=\"flex space-x-3 pt-4\">\n00423|                 <Button\n00424|                   onClick={runParser}\n00425|                   disabled={isParserLoading}\n00426|                   className=\"bg-blue-600 hover:bg-blue-700\"\n00427|                 >\n00428|                   {isParserLoading ? (\n00429|                     <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n00430|                   ) : (\n00431|                     <Play className=\"w-4 h-4 mr-2\" />\n00432|                   )}\n00433|                   –ü–∞—Ä—Å–µ—Ä\n00434|                 </Button>\n00435| \n00436|                 <Button\n00437|                   onClick={runApiComparison}\n00438|                   disabled={isApiLoading}\n00439|                   variant=\"outline\"\n00440|                   className=\"border-gray-600 hover:bg-gray-700\"\n00441|                 >\n00442|                   {isApiLoading ? (\n00443|                     <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n00444|                   ) : (\n00445|                     <Play className=\"w-4 h-4 mr-2\" />\n00446|                   )}\n00447|                   API\n00448|                 </Button>\n00449| \n00450|                 <Button\n00451|                   onClick={runBoth}\n00452|                   disabled={isParserLoading || isApiLoading}\n00453|                   className=\"bg-green-600 hover:bg-green-700\"\n00454|                 >\n00455|                   {isParserLoading || isApiLoading ? (\n00456|                     <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n00457|                   ) : (\n00458|                     <GitCompare className=\"w-4 h-4 mr-2\" />\n00459|                   )}\n00460|                   –û–±–∞\n00461|                 </Button>\n00462|               </div>\n00463|             </CardContent>\n00464|           </Card>\n00465| \n00466|           {/* –†–µ–∑—É–ª—å—Ç–∞—Ç—ã */}\n00467|           <div className=\"space-y-6\">\n00468|             {/* –û—à–∏–±–∫–∏ */}\n00469|             {error && (\n00470|               <Card className=\"bg-red-900 border-red-700\">\n00471|                 <CardContent className=\"pt-6\">\n00472|                   <p className=\"text-red-200\">‚ùå {error}</p>\n00473|                 </CardContent>\n00474|               </Card>\n00475|             )}\n00476| \n00477|             {/* –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–∞—Ä—Å–µ—Ä–∞ */}\n00478|             {parserResult && (\n00479|               <Card className=\"bg-gray-800 border-gray-700\">\n00480|                 <CardHeader>\n00481|                   <CardTitle className=\"text-xl text-green-400\">\n00482|                     üï∑Ô∏è –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–∞—Ä—Å–µ—Ä–∞\n00483|                     {parserResult.parseTime && (\n00484|                       <span className=\"text-sm text-gray-400 ml-2\">\n00485|                         ({parserResult.parseTime}—Å)\n00486|                       </span>\n00487|                     )}\n00488|                   </CardTitle>\n00489|                 </CardHeader>\n00490|                 <CardContent>\n00491|                   <div className=\"text-2xl font-bold mb-4\">\n00492|                     –ò—Ç–æ–≥–æ: {parserResult.totalCost.toLocaleString()} ‚ÇΩ\n00493|                   </div>\n00494|                   \n00495|                   {parserResult.services.length > 0 && (\n00496|                     <div className=\"space-y-2\">\n00497|                       <h4 className=\"font-semibold\">–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è:</h4>\n00498|                       {parserResult.services.map((service, index) => (\n00499|                         <div key={index} className=\"flex justify-between text-sm\">\n00500|                           <span>{service.name}</span>\n00501|                           <span>{service.price.toLocaleString()} ‚ÇΩ</span>\n00502|                         </div>\n00503|                       ))}\n00504|                     </div>\n00505|                   )}\n00506| \n00507|                   {parserResult.deliveryTime && (\n00508|                     <div className=\"mt-4 text-sm text-gray-400\">\n00509|                       –°—Ä–æ–∫ –¥–æ—Å—Ç–∞–≤–∫–∏: {parserResult.deliveryTime}\n00510|                     </div>\n00511|                   )}\n00512|                 </CardContent>\n00513|               </Card>\n00514|             )}\n00515| \n00516|             {/* –†–µ–∑—É–ª—å—Ç–∞—Ç—ã API */}\n00517|             {apiResult && (\n00518|               <Card className=\"bg-gray-800 border-gray-700\">\n00519|                 <CardHeader>\n00520|                   <CardTitle className=\"text-xl text-blue-400\">üîå –†–µ–∑—É–ª—å—Ç–∞—Ç—ã API</CardTitle>\n00521|                 </CardHeader>\n00522|                 <CardContent>\n00523|                   <div className=\"text-2xl font-bold mb-4\">\n00524|                     –ò—Ç–æ–≥–æ: {apiResult.price.toLocaleString()} ‚ÇΩ\n00525|                   </div>\n00526|                   \n00527|                   {apiResult.details?.service && (\n00528|                     <div className=\"space-y-2\">\n00529|                       <h4 className=\"font-semibold\">–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è:</h4>\n00530|                       {apiResult.details.service.map((service: any, index: number) => (\n00531|                         <div key={index} className=\"flex justify-between text-sm\">\n00532|                           <span>{service.name}</span>\n00533|                           <span>{service.price.toLocaleString()} ‚ÇΩ</span>\n00534|                         </div>\n00535|                       ))}\n00536|                     </div>\n00537|                   )}\n00538| \n00539|                   <div className=\"mt-4 text-sm text-gray-400\">\n00540|                     –°—Ä–æ–∫ –¥–æ—Å—Ç–∞–≤–∫–∏: {apiResult.days} –¥–Ω–µ–π\n00541|                   </div>\n00542|                 </CardContent>\n00543|               </Card>\n00544|             )}\n00545| \n00546|             {/* –°—Ä–∞–≤–Ω–µ–Ω–∏–µ */}\n00547|             {difference && (\n00548|               <Card className=\"bg-gray-800 border-gray-700\">\n00549|                 <CardHeader>\n00550|                   <CardTitle className=\"text-xl text-yellow-400\">üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ</CardTitle>\n00551|                 </CardHeader>\n00552|                 <CardContent>\n00553|                   <div className=\"space-y-3\">\n00554|                     <div className=\"flex justify-between\">\n00555|                       <span>–†–∞–∑–Ω–∏—Ü–∞:</span>\n00556|                       <span className={`font-bold ${difference.parserMore ? 'text-red-400' : 'text-green-400'}`}>\n00557|                         {difference.parserMore ? '+' : ''}{difference.absolute.toLocaleString()} ‚ÇΩ\n00558|                       </span>\n00559|                     </div>\n00560|                     <div className=\"flex justify-between\">\n00561|                       <span>–†–∞–∑–Ω–∏—Ü–∞ –≤ %:</span>\n00562|                       <span className={`font-bold ${difference.parserMore ? 'text-red-400' : 'text-green-400'}`}>\n00563|                         {difference.parserMore ? '+' : ''}{difference.percent}%\n00564|                       </span>\n00565|                     </div>\n00566|                     <div className=\"flex justify-between\">\n00567|                       <span>–¢–æ—á–Ω–µ–µ:</span>\n00568|                       <span className=\"font-bold text-green-400\">\n00569|                         {difference.parserMore ? 'API' : '–ü–∞—Ä—Å–µ—Ä'}\n00570|                       </span>\n00571|                     </div>\n00572|                   </div>\n00573|                 </CardContent>\n00574|               </Card>\n00575|             )}\n00576|           </div>\n00577|         </div>\n00578|       </div>\n00579|     </div>\n00580|   );\n00581| }\n\n(End of file - total 581 lines)\n</file>",
    "title": "app/vozovoz-parser/page.tsx",
    "metadata": {
      "preview": "\"use client\";\n\nimport { useState } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Loader2, Play, GitCompare } from 'lucide-react';\nimport CalculationDetails from '@/components/CalculationDetails';\n\ninterface VozovozParserParams {\n  fromCity: string;\n  toCity: string;\n  fromAddressDelivery: boolean;\n  toAddressDelivery: boolean;\n  fromAddress?: string;\n  toAddress?: string;\n  length: number;"
    },
    "time": {
      "start": 1764362988882,
      "end": 1764362988886
    }
  }
}
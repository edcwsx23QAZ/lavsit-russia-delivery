{
  "id": "prt_ab444c075001BHGK5VWqRhU7LO",
  "sessionID": "ses_6852784ecffeuHwynj83p2lr14",
  "messageID": "msg_ab444b34e0020bRverzFQCBi6u",
  "type": "tool",
  "callID": "call_d93b550543c74c1d9faec597",
  "tool": "read",
  "state": {
    "status": "completed",
    "input": {
      "filePath": "/home/user/project/test-nordwheel-api.js"
    },
    "output": "<file>\n00001| // Тестовый скрипт для проверки NordWheel API\n00002| const testNordWheelAPI = async () => {\n00003|   const apiUrl = 'https://api.nordw.orog.ru/api/v1/calculate';\n00004| \n00005|   const requestData = {\n00006|     dispatch: {\n00007|       location: {\n00008|         type: 'terminal',\n00009|         terminal_id: '0c7a2795-1220-486d-a7ce-8bcf130a1224' // GUID терминала Москвы\n00010|       }\n00011|     },\n00012|     destination: {\n00013|       location: {\n00014|         type: 'terminal',\n00015|         terminal_id: '3ca02b62-3632-4da0-8fde-de9d9c77c553' // GUID терминала СПб\n00016|       }\n00017|     },\n00018|     cargo: {\n00019|       total_weight: 1, // Меньший вес\n00020|       total_volume: 0.1, // Меньший объем\n00021|       total_quantity: 1\n00022|     },\n00023|     insurance: 1000,\n00024|     insurance_refuse: false,\n00025|     services: {\n00026|       is_package: false,\n00027|       is_documents_return: false,\n00028|       is_fragile: false\n00029|     },\n00030|     promocode: null\n00031|   };\n00032| \n00033|   try {\n00034|     console.log('Отправка запроса к NordWheel API...');\n00035|     console.log('URL:', apiUrl);\n00036|     console.log('Request data:', JSON.stringify(requestData, null, 2));\n00037| \n00038|     const response = await fetch(apiUrl, {\n00039|       method: 'POST',\n00040|       headers: {\n00041|         'Content-Type': 'application/json',\n00042|         'Authorization': `Bearer ${process.env.NORDWHEEL_API_KEY || '5|WYpV9f788Y2ASobpv3xy6N5qxtIUaKhxFF4yWETOfc398950'}`\n00043|       },\n00044|       body: JSON.stringify(requestData)\n00045|     });\n00046| \n00047|     console.log('Статус ответа:', response.status);\n00048| \n00049|     if (!response.ok) {\n00050|       console.error('Ошибка API:', response.status, response.statusText);\n00051|       const errorText = await response.text();\n00052|       console.error('Тело ошибки:', errorText);\n00053|       return;\n00054|     }\n00055| \n00056|     const data = await response.json();\n00057|     console.log('Ответ от API:', JSON.stringify(data, null, 2));\n00058| \n00059|     if (data.success) {\n00060|       console.log('Цена:', data.price);\n00061|       console.log('Дни:', data.days);\n00062|     } else {\n00063|       console.log('API вернул success: false');\n00064|       if (data.message) {\n00065|         console.log('Сообщение:', data.message);\n00066|       }\n00067|     }\n00068| \n00069|   } catch (error) {\n00070|     console.error('Ошибка соединения:', error);\n00071|   }\n00072| };\n00073| \n00074| // Обертка для top-level await\n00075| (async () => {\n00076|   await testNordWheelAPI();\n00077| })();\n</file>",
    "title": "test-nordwheel-api.js",
    "metadata": {
      "preview": "// Тестовый скрипт для проверки NordWheel API\nconst testNordWheelAPI = async () => {\n  const apiUrl = 'https://api.nordw.orog.ru/api/v1/calculate';\n\n  const requestData = {\n    dispatch: {\n      location: {\n        type: 'terminal',\n        terminal_id: '0c7a2795-1220-486d-a7ce-8bcf130a1224' // GUID терминала Москвы\n      }\n    },\n    destination: {\n      location: {\n        type: 'terminal',\n        terminal_id: '3ca02b62-3632-4da0-8fde-de9d9c77c553' // GUID терминала СПб\n      }\n    },\n    cargo: {\n      total_weight: 1, // Меньший вес\n      total_volume: 0.1, // Меньший объем"
    },
    "time": {
      "start": 1763960995961,
      "end": 1763960995966
    }
  }
}